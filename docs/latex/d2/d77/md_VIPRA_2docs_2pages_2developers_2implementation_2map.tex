\chapter{Map Implementation}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map}{}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map}\index{Map Implementation@{Map Implementation}}
\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md450}%
\Hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md450}%


Map modules hold the geometry of the environment and handle map/pedestrian collision detection.\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md451}{}\doxysection{\texorpdfstring{Required Methods}{Required Methods}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md451}
In addition to the \doxysectlink{md_VIPRA_2docs_2pages_2developers_2implementation_2module}{Base Module}{0} requirements {\ttfamily Goals} require the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{VIPRA\_MAP\_INIT}
\DoxyCodeLine{}
\DoxyCodeLine{std::vector<std::string>\ \textcolor{keyword}{const}\&\ get\_object\_types\_impl();}
\DoxyCodeLine{std::vector<VIPRA::f3d>\ \textcolor{keyword}{const}\&\ get\_objects\_impl(std::string\ \textcolor{keyword}{const}\&\ type);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(VIPRA:f3d\ point);}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(\mbox{\hyperlink{classVIPRA_1_1Geometry_1_1Circle}{VIPRA::Geometry::Circle}}\ area);}
\DoxyCodeLine{VIPRA::f\_pnt\ ray\_hit\_impl(\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ start,\ \mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ end);}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ get\_dimensions\_impl()\ \textcolor{keyword}{const};}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md452}{}\doxysection{\texorpdfstring{Details}{Details}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md452}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{VIPRA\_MAP\_INIT}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md453}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md453}

\begin{DoxyItemize}
\item {\ttfamily obstacles} \+: std\+::vector\texorpdfstring{$<$}{<}\doxysectlink{md_VIPRA_2docs_2pages_2developers_2usage_2types}{VIPRA\+::Polygon}{0}\texorpdfstring{$>$}{>} -\/ vector containing the VIPRA\+::\+Polygons for each obstacle
\item {\ttfamily types} \+: std\+::vector$<$std\+::string$>$ -\/ vector containing a list of the types of objects in the map
\item {\ttfamily objects} \+: std\+::map$<$std\+::string, VIPRA\+::f3d\+Vec$>$ -\/ map containing each object type and the positions of each of the objects of those types
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md454}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md454}
The Map is ready for the first timestep of the simulation

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{std::vector<std::string>\ \textcolor{keyword}{const}\&\ get\_object\_types\_impl();}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md456}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md456}
{\ttfamily NONE}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md457}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md457}
The list of object types in the map\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md458}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md458}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{std::vector<VIPRA::f3d>\ \textcolor{keyword}{const}\&\ get\_objects\_impl(std::string\ \textcolor{keyword}{const}\&\ type);}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md460}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md460}

\begin{DoxyItemize}
\item {\ttfamily type} -\/ the type of object to get the positions of
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md461}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md461}
vector containing the positions of the objects of the provided type\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md462}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md462}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(VIPRA:f3d\ point);}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md464}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md464}

\begin{DoxyItemize}
\item {\ttfamily point} -\/ the point to check for collision with an obstacle
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md465}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md465}

\begin{DoxyItemize}
\item {\ttfamily true} if the point is within an obstacle
\item {\ttfamily false} if not
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md466}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md466}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(\mbox{\hyperlink{classVIPRA_1_1Geometry_1_1Circle}{VIPRA::Geometry::Circle}}\ area);}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md468}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md468}

\begin{DoxyItemize}
\item {\ttfamily area} -\/ the circle to check for collision with an obstacle
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md469}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md469}

\begin{DoxyItemize}
\item {\ttfamily true} if any point inside the circle is also within an obstacle
\item {\ttfamily false} if not
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md470}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md470}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{VIPRA::f\_pnt\ ray\_hit\_impl(\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ start,\ \mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ end);}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md472}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md472}

\begin{DoxyItemize}
\item {\ttfamily start} -\/ the start of the line segment
\item {\ttfamily end} -\/ the end of the line segment
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md473}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md473}

\begin{DoxyItemize}
\item The distance from {\ttfamily start} to the collision point, if the ray collides with an obstacle
\item -\/1 if not
\end{DoxyItemize}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md474}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md474}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ get\_dimensions\_impl()\ \textcolor{keyword}{const};}

\end{DoxyCode}
\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md476}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md476}
{\ttfamily NONE}\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md477}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md477}
The X, Y, and Z dimensions of the map\hypertarget{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md478}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_VIPRA_2docs_2pages_2developers_2implementation_2map_autotoc_md478}
{\ttfamily NONE}

\DoxyHorRuler{0}
 