\chapter{Map Implementation}
\hypertarget{md_docs_2pages_2developers_2implementation_2map}{}\label{md_docs_2pages_2developers_2implementation_2map}\index{Map Implementation@{Map Implementation}}
\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md64}%
\Hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md64}%


Map modules hold the geometry of the environment and handle map/pedestrian collision detection.\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md65}{}\doxysection{\texorpdfstring{Required Methods}{Required Methods}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md65}
In addition to the \doxysectlink{md_docs_2pages_2developers_2implementation_2module}{Base Module}{0} requirements {\ttfamily Goals} require the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{VIPRA\_MAP\_INIT}
\DoxyCodeLine{}
\DoxyCodeLine{std::vector<std::string>\ \textcolor{keyword}{const}\&\ get\_object\_types\_impl();}
\DoxyCodeLine{std::vector<VIPRA::f3d>\ \textcolor{keyword}{const}\&\ get\_objects\_impl(std::string\ \textcolor{keyword}{const}\&\ type);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(VIPRA:f3d\ point);}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(\mbox{\hyperlink{classVIPRA_1_1Geometry_1_1Circle}{VIPRA::Geometry::Circle}}\ area);}
\DoxyCodeLine{VIPRA::f\_pnt\ ray\_hit\_impl(\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ start,\ \mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ end);}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ get\_dimensions\_impl()\ \textcolor{keyword}{const};}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md66}{}\doxysection{\texorpdfstring{Details}{Details}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md66}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{VIPRA\_MAP\_INIT}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md67}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md67}

\begin{DoxyItemize}
\item {\ttfamily obstacles} \+: std\+::vector\texorpdfstring{$<$}{<}\doxysectlink{md_docs_2pages_2developers_2usage_2types}{VIPRA\+::Polygon}{0}\texorpdfstring{$>$}{>} -\/ vector containing the VIPRA\+::\+Polygons for each obstacle
\item {\ttfamily types} \+: std\+::vector$<$std\+::string$>$ -\/ vector containing a list of the types of objects in the map
\item {\ttfamily objects} \+: std\+::map$<$std\+::string, VIPRA\+::f3d\+Vec$>$ -\/ map containing each object type and the positions of each of the objects of those types
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md68}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md68}
The Map is ready for the first timestep of the simulation

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{std::vector<std::string>\ \textcolor{keyword}{const}\&\ get\_object\_types\_impl();}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md70}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md70}
{\ttfamily NONE}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md71}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md71}
The list of object types in the map\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md72}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md72}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{std::vector<VIPRA::f3d>\ \textcolor{keyword}{const}\&\ get\_objects\_impl(std::string\ \textcolor{keyword}{const}\&\ type);}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md74}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md74}

\begin{DoxyItemize}
\item {\ttfamily type} -\/ the type of object to get the positions of
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md75}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md75}
vector containing the positions of the objects of the provided type\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md76}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md76}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(VIPRA:f3d\ point);}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md78}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md78}

\begin{DoxyItemize}
\item {\ttfamily point} -\/ the point to check for collision with an obstacle
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md79}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md79}

\begin{DoxyItemize}
\item {\ttfamily true} if the point is within an obstacle
\item {\ttfamily false} if not
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md80}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md80}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ collision\_impl(\mbox{\hyperlink{classVIPRA_1_1Geometry_1_1Circle}{VIPRA::Geometry::Circle}}\ area);}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md82}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md82}

\begin{DoxyItemize}
\item {\ttfamily area} -\/ the circle to check for collision with an obstacle
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md83}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md83}

\begin{DoxyItemize}
\item {\ttfamily true} if any point inside the circle is also within an obstacle
\item {\ttfamily false} if not
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md84}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md84}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{VIPRA::f\_pnt\ ray\_hit\_impl(\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ start,\ \mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ end);}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md86}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md86}

\begin{DoxyItemize}
\item {\ttfamily start} -\/ the start of the line segment
\item {\ttfamily end} -\/ the end of the line segment
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md87}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md87}

\begin{DoxyItemize}
\item The distance from {\ttfamily start} to the collision point, if the ray collides with an obstacle
\item -\/1 if not
\end{DoxyItemize}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md88}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md88}
{\ttfamily NONE}

\DoxyHorRuler{0}



\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\mbox{\hyperlink{structVIPRA_1_1f3d}{VIPRA::f3d}}\ get\_dimensions\_impl()\ \textcolor{keyword}{const};}

\end{DoxyCode}
\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md90}{}\doxysubsection{\texorpdfstring{Parameters}{Parameters}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md90}
{\ttfamily NONE}\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md91}{}\doxysubsection{\texorpdfstring{Returns}{Returns}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md91}
The X, Y, and Z dimensions of the map\hypertarget{md_docs_2pages_2developers_2implementation_2map_autotoc_md92}{}\doxysubsection{\texorpdfstring{Expected Effects}{Expected Effects}}\label{md_docs_2pages_2developers_2implementation_2map_autotoc_md92}
{\ttfamily NONE}

\DoxyHorRuler{0}
 