\doxysection{format.\+h}
\hypertarget{format_8h_source}{}\label{format_8h_source}\index{VIPRA/deps/fmt/format.h@{VIPRA/deps/fmt/format.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ Formatting\ library\ for\ C++}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ Copyright\ (c)\ 2012\ -\/\ present,\ Victor\ Zverovich}}
\DoxyCodeLine{00005\ \textcolor{comment}{}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ \ a\ copy\ of\ this\ software\ and\ associated\ documentation\ files\ (the}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ "{}Software"{}),\ to\ deal\ in\ the\ Software\ without\ restriction,\ including}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ \ without\ limitation\ the\ rights\ to\ use,\ copy,\ modify,\ merge,\ publish,}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ distribute,\ sublicense,\ and/or\ sell\ copies\ of\ the\ Software,\ and\ to}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ permit\ persons\ to\ whom\ the\ Software\ is\ furnished\ to\ do\ so,\ subject\ to}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ the\ following\ conditions:}}
\DoxyCodeLine{00013\ \textcolor{comment}{}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ \ included\ in\ all\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00016\ \textcolor{comment}{}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ \ THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ \ EXPRESS\ OR\ IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ \ MERCHANTABILITY,\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ \ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE\ AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ \ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER\ IN\ AN\ ACTION}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ \ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,\ OUT\ OF\ OR\ IN\ CONNECTION}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ \ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00024\ \textcolor{comment}{}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ \ -\/-\/-\/\ Optional\ exception\ to\ the\ license\ -\/-\/-\/}}
\DoxyCodeLine{00026\ \textcolor{comment}{}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ \ As\ an\ exception,\ if,\ as\ a\ result\ of\ your\ compiling\ your\ source\ code,\ portions}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ \ of\ this\ Software\ are\ embedded\ into\ a\ machine-\/executable\ object\ form\ of\ such}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ \ source\ code,\ you\ may\ redistribute\ such\ embedded\ portions\ in\ such\ object\ form}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ without\ including\ the\ above\ copyright\ and\ permission\ notices.}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#ifndef\ FMT\_FORMAT\_H\_}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ FMT\_FORMAT\_H\_}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#ifndef\ \_LIBCPP\_REMOVE\_TRANSITIVE\_INCLUDES}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#\ \ define\ \_LIBCPP\_REMOVE\_TRANSITIVE\_INCLUDES}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#\ \ define\ FMT\_REMOVE\_TRANSITIVE\_INCLUDES}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ "{}base.h"{}}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#ifndef\ FMT\_MODULE}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#\ \ include\ <cmath>}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::signbit}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#\ \ include\ <cstdint>}\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ uint32\_t}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#\ \ include\ <cstring>}\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::memcpy}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#\ \ include\ <initializer\_list>}\ \ \textcolor{comment}{//\ std::initializer\_list}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#\ \ include\ <limits>}\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::numeric\_limits}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#\ \ if\ defined(\_\_GLIBCXX\_\_)\ \&\&\ !defined(\_GLIBCXX\_USE\_DUAL\_ABI)}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ Workaround\ for\ pre\ gcc\ 5\ libstdc++.}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#\ \ \ \ include\ <memory>}\ \ \textcolor{comment}{//\ std::allocator\_traits}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#\ \ include\ <stdexcept>}\ \ \ \ \ \textcolor{comment}{//\ std::runtime\_error}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#\ \ include\ <string>}\ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::string}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#\ \ include\ <system\_error>}\ \ \textcolor{comment}{//\ std::system\_error}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{comment}{//\ Checking\ FMT\_CPLUSPLUS\ for\ warning\ suppression\ in\ MSVC.}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_INCLUDE(<bit>)\ \&\&\ FMT\_CPLUSPLUS\ >\ 201703L}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#\ \ \ \ include\ <bit>}\ \ \textcolor{comment}{//\ std::bit\_cast}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{comment}{//\ libc++\ supports\ string\_view\ in\ pre-\/c++17.}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_INCLUDE(<string\_view>)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\ \ \ \ \ \ (FMT\_CPLUSPLUS\ >=\ 201703L\ ||\ defined(\_LIBCPP\_VERSION))}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#\ \ \ \ include\ <string\_view>}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_STRING\_VIEW}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_MODULE}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#if\ defined\ \_\_cpp\_inline\_variables\ \&\&\ \_\_cpp\_inline\_variables\ >=\ 201606L}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#\ \ define\ FMT\_INLINE\_VARIABLE\ inline}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#\ \ define\ FMT\_INLINE\_VARIABLE}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#ifndef\ FMT\_NO\_UNIQUE\_ADDRESS}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#\ \ if\ FMT\_CPLUSPLUS\ >=\ 202002L}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#\ \ \ \ if\ FMT\_HAS\_CPP\_ATTRIBUTE(no\_unique\_address)}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_NO\_UNIQUE\_ADDRESS\ [[no\_unique\_address]]}}
\DoxyCodeLine{00080\ \textcolor{comment}{//\ VS2019\ v16.10\ and\ later\ except\ clang-\/cl\ (https://reviews.llvm.org/D110485).}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#\ \ \ \ elif\ (FMT\_MSC\_VERSION\ >=\ 1929)\ \&\&\ !FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_NO\_UNIQUE\_ADDRESS\ [[msvc::no\_unique\_address]]}}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#ifndef\ FMT\_NO\_UNIQUE\_ADDRESS}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NO\_UNIQUE\_ADDRESS}}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{comment}{//\ Visibility\ when\ compiled\ as\ a\ shared\ library/object.}}
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#if\ defined(FMT\_LIB\_EXPORT)\ ||\ defined(FMT\_SHARED)}}
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#\ \ define\ FMT\_SO\_VISIBILITY(value)\ FMT\_VISIBILITY(value)}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#\ \ define\ FMT\_SO\_VISIBILITY(value)}}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_builtin}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#\ \ define\ FMT\_HAS\_BUILTIN(x)\ \_\_has\_builtin(x)}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#\ \ define\ FMT\_HAS\_BUILTIN(x)\ 0}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION\ ||\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NOINLINE\ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NOINLINE}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{keyword}{namespace\ }std\ \{}
\DoxyCodeLine{00110\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }iterator\_traits<fmt::\mbox{\hyperlink{classbasic__appender}{appender}}>\ \{}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{using\ }iterator\_category\ =\ output\_iterator\_tag;}
\DoxyCodeLine{00112\ \ \ \textcolor{keyword}{using\ }value\_type\ =\ char;}
\DoxyCodeLine{00113\ \};}
\DoxyCodeLine{00114\ \}\ \ \textcolor{comment}{//\ namespace\ std}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{preprocessor}{\#ifndef\ FMT\_THROW}}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#\ \ if\ FMT\_EXCEPTIONS}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#\ \ \ \ if\ FMT\_MSC\_VERSION\ ||\ defined(\_\_NVCC\_\_)}}
\DoxyCodeLine{00119\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00120\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00121\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Exception>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ do\_throw(\textcolor{keyword}{const}\ Exception\&\ x)\ \{}
\DoxyCodeLine{00122\ \ \ \textcolor{comment}{//\ Silence\ unreachable\ code\ warnings\ in\ MSVC\ and\ NVCC\ because\ these}}
\DoxyCodeLine{00123\ \ \ \textcolor{comment}{//\ are\ nearly\ impossible\ to\ fix\ in\ a\ generic\ code.}}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{bool}\ b\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{if}\ (b)\ \textcolor{keywordflow}{throw}\ x;}
\DoxyCodeLine{00126\ \}}
\DoxyCodeLine{00127\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00128\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_THROW(x)\ detail::do\_throw(x)}}
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#\ \ \ \ else}}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_THROW(x)\ throw\ x}}
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_THROW(x)\ \(\backslash\)}}
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\ \ \ \ \ \ ::fmt::detail::assert\_fail(\_\_FILE\_\_,\ \_\_LINE\_\_,\ (x).what())}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#ifndef\ FMT\_MAYBE\_UNUSED}}
\DoxyCodeLine{00140\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_CPP17\_ATTRIBUTE(maybe\_unused)}}
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_MAYBE\_UNUSED\ [[maybe\_unused]]}}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_MAYBE\_UNUSED}}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{00148\ \textcolor{comment}{//\ EDG\ based\ compilers\ (Intel,\ NVIDIA,\ Elbrus,\ etc),\ GCC\ and\ MSVC\ support\ UDLs.}}
\DoxyCodeLine{00149\ \textcolor{comment}{//}}
\DoxyCodeLine{00150\ \textcolor{comment}{//\ GCC\ before\ 4.9\ requires\ a\ space\ in\ \`{}operator"{}"{}\ \_a`\ which\ is\ invalid\ in\ later}}
\DoxyCodeLine{00151\ \textcolor{comment}{//\ compiler\ versions.}}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\#\ \ if\ (FMT\_HAS\_FEATURE(cxx\_user\_literals)\ ||\ FMT\_GCC\_VERSION\ >=\ 409\ ||\ \(\backslash\)}}
\DoxyCodeLine{00153\ \textcolor{preprocessor}{\ \ \ \ \ \ \ FMT\_MSC\_VERSION\ >=\ 1900)\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00154\ \textcolor{preprocessor}{\ \ \ \ \ \ (!defined(\_\_EDG\_VERSION\_\_)\ ||\ \_\_EDG\_VERSION\_\_\ >=\ }\textcolor{comment}{/*\ UDL\ feature\ */}\textcolor{preprocessor}{\ 480)}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_USER\_DEFINED\_LITERALS\ 1}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_USER\_DEFINED\_LITERALS\ 0}}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \textcolor{comment}{//\ Defining\ FMT\_REDUCE\_INT\_INSTANTIATIONS\ to\ 1,\ will\ reduce\ the\ number\ of}}
\DoxyCodeLine{00162\ \textcolor{comment}{//\ integer\ formatter\ template\ instantiations\ to\ just\ one\ by\ only\ using\ the}}
\DoxyCodeLine{00163\ \textcolor{comment}{//\ largest\ integer\ type.\ This\ results\ in\ a\ reduction\ in\ binary\ size\ but\ will}}
\DoxyCodeLine{00164\ \textcolor{comment}{//\ cause\ a\ decrease\ in\ integer\ formatting\ performance.}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#if\ !defined(FMT\_REDUCE\_INT\_INSTANTIATIONS)}}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#\ \ define\ FMT\_REDUCE\_INT\_INSTANTIATIONS\ 0}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{comment}{//\ \_\_builtin\_clz\ is\ broken\ in\ clang\ with\ Microsoft\ CodeGen:}}
\DoxyCodeLine{00170\ \textcolor{comment}{//\ https://github.com/fmtlib/fmt/issues/519.}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#if\ !FMT\_MSC\_VERSION}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_clz)\ ||\ FMT\_GCC\_VERSION\ ||\ FMT\_ICC\_VERSION}}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CLZ(n)\ \_\_builtin\_clz(n)}}
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_clzll)\ ||\ FMT\_GCC\_VERSION\ ||\ FMT\_ICC\_VERSION}}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CLZLL(n)\ \_\_builtin\_clzll(n)}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{comment}{//\ \_\_builtin\_ctz\ is\ broken\ in\ Intel\ Compiler\ Classic\ on\ Windows:}}
\DoxyCodeLine{00181\ \textcolor{comment}{//\ https://github.com/fmtlib/fmt/issues/2510.}}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#ifndef\ \_\_ICL}}
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_ctz)\ ||\ FMT\_GCC\_VERSION\ ||\ FMT\_ICC\_VERSION\ ||\ \(\backslash\)}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\ \ \ \ \ \ defined(\_\_NVCOMPILER)}}
\DoxyCodeLine{00185\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CTZ(n)\ \_\_builtin\_ctz(n)}}
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_ctzll)\ ||\ FMT\_GCC\_VERSION\ ||\ \(\backslash\)}}
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\ \ \ \ \ \ FMT\_ICC\_VERSION\ ||\ defined(\_\_NVCOMPILER)}}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CTZLL(n)\ \_\_builtin\_ctzll(n)}}
\DoxyCodeLine{00190\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#if\ FMT\_MSC\_VERSION}}
\DoxyCodeLine{00194\ \textcolor{preprocessor}{\#\ \ include\ <intrin.h>}\ \ \textcolor{comment}{//\ \_BitScanReverse[64],\ \_BitScanForward[64],\ \_umul128}}
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{comment}{//\ Some\ compilers\ masquerade\ as\ both\ MSVC\ and\ GCC-\/likes\ or\ otherwise\ support}}
\DoxyCodeLine{00198\ \textcolor{comment}{//\ \_\_builtin\_clz\ and\ \_\_builtin\_clzll,\ so\ only\ define\ FMT\_BUILTIN\_CLZ\ using\ the}}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ MSVC\ intrinsics\ if\ the\ clz\ and\ clzll\ builtins\ are\ not\ available.}}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#if\ FMT\_MSC\_VERSION\ \&\&\ !defined(FMT\_BUILTIN\_CLZLL)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\ \ \ \ !defined(FMT\_BUILTIN\_CTZLL)}}
\DoxyCodeLine{00202\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00203\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00204\ \textcolor{comment}{//\ Avoid\ Clang\ with\ Microsoft\ CodeGen's\ -\/Wunknown-\/pragmas\ warning.}}
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#\ \ if\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ intrinsic(\_BitScanForward)}}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ intrinsic(\_BitScanReverse)}}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#\ \ \ \ if\ defined(\_WIN64)}}
\DoxyCodeLine{00209\ \textcolor{preprocessor}{\#\ \ \ \ \ \ pragma\ intrinsic(\_BitScanForward64)}}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#\ \ \ \ \ \ pragma\ intrinsic(\_BitScanReverse64)}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ clz(uint32\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00215\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00216\ \ \ \_BitScanReverse(\&r,\ x);}
\DoxyCodeLine{00217\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00218\ \ \ \textcolor{comment}{//\ Static\ analysis\ complains\ about\ using\ uninitialized\ data}}
\DoxyCodeLine{00219\ \ \ \textcolor{comment}{//\ "{}r"{},\ but\ the\ only\ way\ that\ can\ happen\ is\ if\ "{}x"{}\ is\ 0,}}
\DoxyCodeLine{00220\ \ \ \textcolor{comment}{//\ which\ the\ callers\ guarantee\ to\ not\ happen.}}
\DoxyCodeLine{00221\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{return}\ 31\ \string^\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZ(n)\ detail::clz(n)}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ clzll(uint64\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00227\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#\ \ ifdef\ \_WIN64}}
\DoxyCodeLine{00229\ \ \ \_BitScanReverse64(\&r,\ x);}
\DoxyCodeLine{00230\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00231\ \ \ \textcolor{comment}{//\ Scan\ the\ high\ 32\ bits.}}
\DoxyCodeLine{00232\ \ \ \textcolor{keywordflow}{if}\ (\_BitScanReverse(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x\ >>\ 32)))}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordflow}{return}\ 63\ \string^\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r\ +\ 32);}
\DoxyCodeLine{00234\ \ \ \textcolor{comment}{//\ Scan\ the\ low\ 32\ bits.}}
\DoxyCodeLine{00235\ \ \ \_BitScanReverse(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x));}
\DoxyCodeLine{00236\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00237\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00238\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)\ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ static\ analysis\ warning.}}
\DoxyCodeLine{00239\ \ \ \textcolor{keywordflow}{return}\ 63\ \string^\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00240\ \}}
\DoxyCodeLine{00241\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZLL(n)\ detail::clzll(n)}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ ctz(uint32\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00244\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00245\ \ \ \_BitScanForward(\&r,\ x);}
\DoxyCodeLine{00246\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00247\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)\ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ static\ analysis\ warning.}}
\DoxyCodeLine{00248\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00249\ \}}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CTZ(n)\ detail::ctz(n)}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ ctzll(uint64\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00253\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00254\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00255\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)\ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ static\ analysis\ warning.}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#\ \ ifdef\ \_WIN64}}
\DoxyCodeLine{00257\ \ \ \_BitScanForward64(\&r,\ x);}
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00259\ \ \ \textcolor{comment}{//\ Scan\ the\ low\ 32\ bits.}}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordflow}{if}\ (\_BitScanForward(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x)))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00261\ \ \ \textcolor{comment}{//\ Scan\ the\ high\ 32\ bits.}}
\DoxyCodeLine{00262\ \ \ \_BitScanForward(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x\ >>\ 32));}
\DoxyCodeLine{00263\ \ \ r\ +=\ 32;}
\DoxyCodeLine{00264\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00265\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00266\ \}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CTZLL(n)\ detail::ctzll(n)}}
\DoxyCodeLine{00268\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00269\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Traits,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00275\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__contiguous}{is\_contiguous}}<std::basic\_string<Char,\ Traits,\ Allocator>>}
\DoxyCodeLine{00276\ \ \ \ \ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ abort\_fuzzing\_if(\textcolor{keywordtype}{bool}\ condition)\ \{}
\DoxyCodeLine{00281\ \ \ ignore\_unused(condition);}
\DoxyCodeLine{00282\ \textcolor{preprocessor}{\#ifdef\ FMT\_FUZZ}}
\DoxyCodeLine{00283\ \ \ \textcolor{keywordflow}{if}\ (condition)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}fuzzing\ limit\ reached"{}});}
\DoxyCodeLine{00284\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00285\ \}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#if\ defined(FMT\_USE\_STRING\_VIEW)}}
\DoxyCodeLine{00288\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{using\ }std\_string\_view\ =\ std::basic\_string\_view<Char>;}
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00290\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1std__string__view}{std\_string\_view}}\ \{\};}
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \textcolor{comment}{//\ Implementation\ of\ std::bit\_cast\ for\ pre-\/C++20.}}
\DoxyCodeLine{00294\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,\ FMT\_ENABLE\_IF(sizeof(To)\ ==\ sizeof(From))>}
\DoxyCodeLine{00295\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ bit\_cast(\textcolor{keyword}{const}\ From\&\ from)\ -\/>\ To\ \{}
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_lib\_bit\_cast}}
\DoxyCodeLine{00297\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \textcolor{keywordflow}{return}\ std::bit\_cast<To>(from);}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00299\ \ \ \textcolor{keyword}{auto}\ to\ =\ To();}
\DoxyCodeLine{00300\ \ \ \textcolor{comment}{//\ The\ cast\ suppresses\ a\ bogus\ -\/Wclass-\/memaccess\ on\ GCC.}}
\DoxyCodeLine{00301\ \ \ std::memcpy(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&to),\ \&from,\ \textcolor{keyword}{sizeof}(to));}
\DoxyCodeLine{00302\ \ \ \textcolor{keywordflow}{return}\ to;}
\DoxyCodeLine{00303\ \}}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ is\_big\_endian()\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00306\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00307\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00308\ \textcolor{preprocessor}{\#elif\ defined(\_\_BIG\_ENDIAN\_\_)}}
\DoxyCodeLine{00309\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00310\ \textcolor{preprocessor}{\#elif\ defined(\_\_BYTE\_ORDER\_\_)\ \&\&\ defined(\_\_ORDER\_BIG\_ENDIAN\_\_)}}
\DoxyCodeLine{00311\ \ \ \textcolor{keywordflow}{return}\ \_\_BYTE\_ORDER\_\_\ ==\ \_\_ORDER\_BIG\_ENDIAN\_\_;}
\DoxyCodeLine{00312\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00313\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classbytes}{bytes}}\ \{}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keywordtype}{char}\ data[\textcolor{keyword}{sizeof}(int)];}
\DoxyCodeLine{00315\ \ \ \};}
\DoxyCodeLine{00316\ \ \ \textcolor{keywordflow}{return}\ bit\_cast<bytes>(1).data[0]\ ==\ 0;}
\DoxyCodeLine{00317\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00318\ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00321\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00322\ \ \ uint64\_t\ lo\_,\ hi\_;}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00325\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}(uint64\_t\ hi,\ uint64\_t\ lo)\ :\ lo\_(lo),\ hi\_(hi)\ \{\}}
\DoxyCodeLine{00326\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}(uint64\_t\ \mbox{\hyperlink{classdetail_1_1value}{value}}\ =\ 0)\ :\ lo\_(\mbox{\hyperlink{classdetail_1_1value}{value}}),\ hi\_(0)\ \{\}}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ high()\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ -\/>\ uint64\_t\ \{\ \textcolor{keywordflow}{return}\ hi\_;\ \}}
\DoxyCodeLine{00329\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ low()\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ -\/>\ uint64\_t\ \{\ \textcolor{keywordflow}{return}\ lo\_;\ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{00332\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ T()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(lo\_);}
\DoxyCodeLine{00334\ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator==(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordflow}{return}\ lhs.hi\_\ ==\ rhs.hi\_\ \&\&\ lhs.lo\_\ ==\ rhs.lo\_;}
\DoxyCodeLine{00339\ \ \ \}}
\DoxyCodeLine{00340\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator!=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordflow}{return}\ !(lhs\ ==\ rhs);}
\DoxyCodeLine{00343\ \ \ \}}
\DoxyCodeLine{00344\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator>(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keywordflow}{return}\ lhs.hi\_\ !=\ rhs.hi\_\ ?\ lhs.hi\_\ >\ rhs.hi\_\ :\ lhs.lo\_\ >\ rhs.lo\_;}
\DoxyCodeLine{00347\ \ \ \}}
\DoxyCodeLine{00348\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator|(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ rhs)}
\DoxyCodeLine{00350\ \ \ \ \ \ \ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordflow}{return}\ \{lhs.hi\_\ |\ rhs.hi\_,\ lhs.lo\_\ |\ rhs.lo\_\};}
\DoxyCodeLine{00352\ \ \ \}}
\DoxyCodeLine{00353\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator\&(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ rhs)}
\DoxyCodeLine{00355\ \ \ \ \ \ \ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keywordflow}{return}\ \{lhs.hi\_\ \&\ rhs.hi\_,\ lhs.lo\_\ \&\ rhs.lo\_\};}
\DoxyCodeLine{00357\ \ \ \}}
\DoxyCodeLine{00358\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator\string~(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ n)}
\DoxyCodeLine{00359\ \ \ \ \ \ \ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\string~n.hi\_,\ \string~n.lo\_\};}
\DoxyCodeLine{00361\ \ \ \}}
\DoxyCodeLine{00362\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator+(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ rhs)\ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}(lhs);}
\DoxyCodeLine{00365\ \ \ \ \ result\ +=\ rhs;}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00367\ \ \ \}}
\DoxyCodeLine{00368\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator*(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,\ uint32\_t\ rhs)}
\DoxyCodeLine{00369\ \ \ \ \ \ \ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00370\ \ \ \ \ FMT\_ASSERT(lhs.hi\_\ ==\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00371\ \ \ \ \ uint64\_t\ hi\ =\ (lhs.lo\_\ >>\ 32)\ *\ rhs;}
\DoxyCodeLine{00372\ \ \ \ \ uint64\_t\ lo\ =\ (lhs.lo\_\ \&\ \string~uint32\_t())\ *\ rhs;}
\DoxyCodeLine{00373\ \ \ \ \ uint64\_t\ new\_lo\ =\ (hi\ <<\ 32)\ +\ lo;}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return}\ \{(hi\ >>\ 32)\ +\ (new\_lo\ <\ lo\ ?\ 1\ :\ 0),\ new\_lo\};}
\DoxyCodeLine{00375\ \ \ \}}
\DoxyCodeLine{00376\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator-\/(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ lhs,\ uint64\_t\ rhs)}
\DoxyCodeLine{00377\ \ \ \ \ \ \ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keywordflow}{return}\ \{lhs.hi\_\ -\/\ (lhs.lo\_\ <\ rhs\ ?\ 1\ :\ 0),\ lhs.lo\_\ -\/\ rhs\};}
\DoxyCodeLine{00379\ \ \ \}}
\DoxyCodeLine{00380\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator>>(\textcolor{keywordtype}{int}\ shift)\ \textcolor{keyword}{const}\ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ ==\ 64)\ \textcolor{keywordflow}{return}\ \{0,\ hi\_\};}
\DoxyCodeLine{00382\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ >\ 64)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}(0,\ hi\_)\ >>\ (shift\ -\/\ 64);}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keywordflow}{return}\ \{hi\_\ >>\ shift,\ (hi\_\ <<\ (64\ -\/\ shift))\ |\ (lo\_\ >>\ shift)\};}
\DoxyCodeLine{00384\ \ \ \}}
\DoxyCodeLine{00385\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator<<(\textcolor{keywordtype}{int}\ shift)\ \textcolor{keyword}{const}\ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ ==\ 64)\ \textcolor{keywordflow}{return}\ \{lo\_,\ 0\};}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ >\ 64)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}(lo\_,\ 0)\ <<\ (shift\ -\/\ 64);}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordflow}{return}\ \{hi\_\ <<\ shift\ |\ (lo\_\ >>\ (64\ -\/\ shift)),\ (lo\_\ <<\ shift)\};}
\DoxyCodeLine{00389\ \ \ \}}
\DoxyCodeLine{00390\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator>>=(\textcolor{keywordtype}{int}\ shift)\ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ \{}
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ *\textcolor{keyword}{this}\ >>\ shift;}
\DoxyCodeLine{00392\ \ \ \}}
\DoxyCodeLine{00393\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator+=(\mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ n)\ \{}
\DoxyCodeLine{00394\ \ \ \ \ uint64\_t\ new\_lo\ =\ lo\_\ +\ n.lo\_;}
\DoxyCodeLine{00395\ \ \ \ \ uint64\_t\ new\_hi\ =\ hi\_\ +\ n.hi\_\ +\ (new\_lo\ <\ lo\_\ ?\ 1\ :\ 0);}
\DoxyCodeLine{00396\ \ \ \ \ FMT\_ASSERT(new\_hi\ >=\ hi\_,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00397\ \ \ \ \ lo\_\ =\ new\_lo;}
\DoxyCodeLine{00398\ \ \ \ \ hi\_\ =\ new\_hi;}
\DoxyCodeLine{00399\ \ \ \}}
\DoxyCodeLine{00400\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator\&=(\mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ n)\ \{}
\DoxyCodeLine{00401\ \ \ \ \ lo\_\ \&=\ n.lo\_;}
\DoxyCodeLine{00402\ \ \ \ \ hi\_\ \&=\ n.hi\_;}
\DoxyCodeLine{00403\ \ \ \}}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00405\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ operator+=(uint64\_t\ n)\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\&\ \{}
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ lo\_\ +=\ n;}
\DoxyCodeLine{00408\ \ \ \ \ \ \ hi\_\ +=\ (lo\_\ <\ n\ ?\ 1\ :\ 0);}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00410\ \ \ \ \ \}}
\DoxyCodeLine{00411\ \textcolor{preprocessor}{\#if\ FMT\_HAS\_BUILTIN(\_\_builtin\_addcll)\ \&\&\ !defined(\_\_ibmxl\_\_)}}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ carry;}
\DoxyCodeLine{00413\ \ \ \ \ lo\_\ =\ \_\_builtin\_addcll(lo\_,\ n,\ 0,\ \&carry);}
\DoxyCodeLine{00414\ \ \ \ \ hi\_\ +=\ carry;}
\DoxyCodeLine{00415\ \textcolor{preprocessor}{\#elif\ FMT\_HAS\_BUILTIN(\_\_builtin\_ia32\_addcarryx\_u64)\ \&\&\ !defined(\_\_ibmxl\_\_)}}
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ result;}
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keyword}{auto}\ carry\ =\ \_\_builtin\_ia32\_addcarryx\_u64(0,\ lo\_,\ n,\ \&result);}
\DoxyCodeLine{00418\ \ \ \ \ lo\_\ =\ result;}
\DoxyCodeLine{00419\ \ \ \ \ hi\_\ +=\ carry;}
\DoxyCodeLine{00420\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)\ \&\&\ defined(\_M\_X64)}}
\DoxyCodeLine{00421\ \ \ \ \ \textcolor{keyword}{auto}\ carry\ =\ \_addcarry\_u64(0,\ lo\_,\ n,\ \&lo\_);}
\DoxyCodeLine{00422\ \ \ \ \ \_addcarry\_u64(carry,\ hi\_,\ 0,\ \&hi\_);}
\DoxyCodeLine{00423\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00424\ \ \ \ \ lo\_\ +=\ n;}
\DoxyCodeLine{00425\ \ \ \ \ hi\_\ +=\ (lo\_\ <\ n\ ?\ 1\ :\ 0);}
\DoxyCodeLine{00426\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00428\ \ \ \}}
\DoxyCodeLine{00429\ \};}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \textcolor{keyword}{using\ }uint128\_t\ =\ conditional\_t<FMT\_USE\_INT128,\ uint128\_opt,\ uint128\_fallback>;}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \textcolor{preprocessor}{\#ifdef\ UINTPTR\_MAX}}
\DoxyCodeLine{00434\ \textcolor{keyword}{using\ }uintptr\_t\ =\ ::uintptr\_t;}
\DoxyCodeLine{00435\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00436\ \textcolor{keyword}{using\ }uintptr\_t\ =\ uint128\_t;}
\DoxyCodeLine{00437\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \textcolor{comment}{//\ Returns\ the\ largest\ possible\ value\ for\ type\ T.\ Same\ as}}
\DoxyCodeLine{00440\ \textcolor{comment}{//\ std::numeric\_limits<T>::max()\ but\ shorter\ and\ not\ affected\ by\ the\ max\ macro.}}
\DoxyCodeLine{00441\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ max\_value()\ -\/>\ T\ \{}
\DoxyCodeLine{00442\ \ \ \textcolor{keywordflow}{return}\ (std::numeric\_limits<T>::max)();}
\DoxyCodeLine{00443\ \}}
\DoxyCodeLine{00444\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00445\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<T>::digits;}
\DoxyCodeLine{00446\ \}}
\DoxyCodeLine{00447\ \textcolor{comment}{//\ std::numeric\_limits<T>::digits\ may\ return\ 0\ for\ 128-\/bit\ ints.}}
\DoxyCodeLine{00448\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits<int128\_opt>()\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00449\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits<uint128\_opt>()\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00450\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits<uint128\_fallback>()\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \textcolor{comment}{//\ A\ heterogeneous\ bit\_cast\ used\ for\ converting\ 96-\/bit\ long\ double\ to\ uint128\_t}}
\DoxyCodeLine{00453\ \textcolor{comment}{//\ and\ 128-\/bit\ pointers\ to\ uint128\_fallback.}}
\DoxyCodeLine{00454\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,\ FMT\_ENABLE\_IF(sizeof(To)\ >\ \textcolor{keyword}{sizeof}(From))>}
\DoxyCodeLine{00455\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ bit\_cast(\textcolor{keyword}{const}\ From\&\ from)\ -\/>\ To\ \{}
\DoxyCodeLine{00456\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ size\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(From)\ /\ \textcolor{keyword}{sizeof}(unsigned));}
\DoxyCodeLine{00457\ \ \ \textcolor{keyword}{struct\ }data\_t\ \{}
\DoxyCodeLine{00458\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ value[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(size)];}
\DoxyCodeLine{00459\ \ \ \}\ data\ =\ bit\_cast<data\_t>(from);}
\DoxyCodeLine{00460\ \ \ \textcolor{keyword}{auto}\ result\ =\ To();}
\DoxyCodeLine{00461\ \ \ \textcolor{keywordflow}{if}\ (const\_check(is\_big\_endian()))\ \{}
\DoxyCodeLine{00462\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00463\ \ \ \ \ \ \ result\ =\ (result\ <<\ num\_bits<unsigned>())\ |\ data.value[i];}
\DoxyCodeLine{00464\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ size\ -\/\ 1;\ i\ >=\ 0;\ -\/-\/i)}
\DoxyCodeLine{00466\ \ \ \ \ \ \ result\ =\ (result\ <<\ num\_bits<unsigned>())\ |\ data.value[i];}
\DoxyCodeLine{00467\ \ \ \}}
\DoxyCodeLine{00468\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00469\ \}}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{00472\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ countl\_zero\_fallback(UInt\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00473\ \ \ \textcolor{keywordtype}{int}\ lz\ =\ 0;}
\DoxyCodeLine{00474\ \ \ \textcolor{keyword}{constexpr}\ UInt\ msb\_mask\ =\ \textcolor{keyword}{static\_cast<}UInt\textcolor{keyword}{>}(1)\ <<\ (num\_bits<UInt>()\ -\/\ 1);}
\DoxyCodeLine{00475\ \ \ \textcolor{keywordflow}{for}\ (;\ (n\ \&\ msb\_mask)\ ==\ 0;\ n\ <<=\ 1)\ lz++;}
\DoxyCodeLine{00476\ \ \ \textcolor{keywordflow}{return}\ lz;}
\DoxyCodeLine{00477\ \}}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ countl\_zero(uint32\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00480\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{00481\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated())\ \textcolor{keywordflow}{return}\ FMT\_BUILTIN\_CLZ(n);}
\DoxyCodeLine{00482\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00483\ \ \ \textcolor{keywordflow}{return}\ countl\_zero\_fallback(n);}
\DoxyCodeLine{00484\ \}}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ countl\_zero(uint64\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00487\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZLL}}
\DoxyCodeLine{00488\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated())\ \textcolor{keywordflow}{return}\ FMT\_BUILTIN\_CLZLL(n);}
\DoxyCodeLine{00489\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00490\ \ \ \textcolor{keywordflow}{return}\ countl\_zero\_fallback(n);}
\DoxyCodeLine{00491\ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ FMT\_INLINE\ \textcolor{keywordtype}{void}\ assume(\textcolor{keywordtype}{bool}\ condition)\ \{}
\DoxyCodeLine{00494\ \ \ (void)condition;}
\DoxyCodeLine{00495\ \textcolor{preprocessor}{\#if\ FMT\_HAS\_BUILTIN(\_\_builtin\_assume)\ \&\&\ !FMT\_ICC\_VERSION}}
\DoxyCodeLine{00496\ \ \ \_\_builtin\_assume(condition);}
\DoxyCodeLine{00497\ \textcolor{preprocessor}{\#elif\ FMT\_GCC\_VERSION}}
\DoxyCodeLine{00498\ \ \ \textcolor{keywordflow}{if}\ (!condition)\ \_\_builtin\_unreachable();}
\DoxyCodeLine{00499\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00500\ \}}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \textcolor{comment}{//\ An\ approximation\ of\ iterator\_t\ for\ pre-\/C++20\ systems.}}
\DoxyCodeLine{00503\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00504\ \textcolor{keyword}{using\ }iterator\_t\ =\ \textcolor{keyword}{decltype}(std::begin(std::declval<T\&>()));}
\DoxyCodeLine{00505\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }sentinel\_t\ =\ \textcolor{keyword}{decltype}(std::end(std::declval<T\&>()));}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \textcolor{comment}{//\ A\ workaround\ for\ std::string\ not\ having\ mutable\ data()\ until\ C++17.}}
\DoxyCodeLine{00508\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00509\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ get\_data(std::basic\_string<Char>\&\ s)\ -\/>\ Char*\ \{}
\DoxyCodeLine{00510\ \ \ \textcolor{keywordflow}{return}\ \&s[0];}
\DoxyCodeLine{00511\ \}}
\DoxyCodeLine{00512\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container>}
\DoxyCodeLine{00513\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ get\_data(Container\&\ c)\ -\/>\ \textcolor{keyword}{typename}\ Container::value\_type*\ \{}
\DoxyCodeLine{00514\ \ \ \textcolor{keywordflow}{return}\ c.data();}
\DoxyCodeLine{00515\ \}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \textcolor{comment}{//\ Attempts\ to\ reserve\ space\ for\ n\ extra\ characters\ in\ the\ output\ range.}}
\DoxyCodeLine{00518\ \textcolor{comment}{//\ Returns\ a\ pointer\ to\ the\ reserved\ range\ or\ a\ reference\ to\ it.}}
\DoxyCodeLine{00519\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_back\_insert\_iterator<OutputIt>::value\&\&}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structis__contiguous}{is\_contiguous<typename\ OutputIt::container>::value}})>}
\DoxyCodeLine{00522\ \textcolor{preprocessor}{\#if\ FMT\_CLANG\_VERSION\ >=\ 307\ \&\&\ !FMT\_ICC\_VERSION}}
\DoxyCodeLine{00523\ \_\_attribute\_\_((no\_sanitize(\textcolor{stringliteral}{"{}undefined"{}})))}
\DoxyCodeLine{00524\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00525\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}}
\DoxyCodeLine{00526\ reserve(OutputIt\ it,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \textcolor{keyword}{typename}\ OutputIt::value\_type*\ \{}
\DoxyCodeLine{00527\ \ \ \textcolor{keyword}{auto}\&\ c\ =\ get\_container(it);}
\DoxyCodeLine{00528\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ c.size();}
\DoxyCodeLine{00529\ \ \ c.resize(size\ +\ n);}
\DoxyCodeLine{00530\ \ \ \textcolor{keywordflow}{return}\ get\_data(c)\ +\ size;}
\DoxyCodeLine{00531\ \}}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00534\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ reserve(\mbox{\hyperlink{classbasic__appender}{basic\_appender<T>}}\ it,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \mbox{\hyperlink{classbasic__appender}{basic\_appender<T>}}\ \{}
\DoxyCodeLine{00535\ \ \ buffer<T>\&\ buf\ =\ get\_container(it);}
\DoxyCodeLine{00536\ \ \ buf.try\_reserve(buf.size()\ +\ n);}
\DoxyCodeLine{00537\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00538\ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00541\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ reserve(Iterator\&\ it,\ \textcolor{keywordtype}{size\_t})\ -\/>\ Iterator\&\ \{}
\DoxyCodeLine{00542\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00543\ \}}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00546\ \textcolor{keyword}{using\ }reserve\_iterator\ =}
\DoxyCodeLine{00547\ \ \ \ \ remove\_reference\_t<decltype(reserve(std::declval<OutputIt\&>(),\ 0))>;}
\DoxyCodeLine{00548\ }
\DoxyCodeLine{00549\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00550\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ to\_pointer(OutputIt,\ \textcolor{keywordtype}{size\_t})\ -\/>\ T*\ \{}
\DoxyCodeLine{00551\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00552\ \}}
\DoxyCodeLine{00553\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ to\_pointer(\mbox{\hyperlink{classbasic__appender}{basic\_appender<T>}}\ it,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ T*\ \{}
\DoxyCodeLine{00554\ \ \ buffer<T>\&\ buf\ =\ get\_container(it);}
\DoxyCodeLine{00555\ \ \ \textcolor{keyword}{auto}\ size\ =\ buf.size();}
\DoxyCodeLine{00556\ \ \ buf.try\_reserve(size\ +\ n);}
\DoxyCodeLine{00557\ \ \ \textcolor{keywordflow}{if}\ (buf.capacity()\ <\ size\ +\ n)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00558\ \ \ buf.try\_resize(size\ +\ n);}
\DoxyCodeLine{00559\ \ \ \textcolor{keywordflow}{return}\ buf.data()\ +\ size;}
\DoxyCodeLine{00560\ \}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_back\_insert\_iterator<OutputIt>::value\&\&}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structis__contiguous}{is\_contiguous<typename\ OutputIt::container>::value}})>}
\DoxyCodeLine{00565\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ base\_iterator(OutputIt\ it,}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ OutputIt::container\_type::value\_type*)}
\DoxyCodeLine{00567\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{00568\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00569\ \}}
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00572\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ base\_iterator(Iterator,\ Iterator\ it)\ -\/>\ Iterator\ \{}
\DoxyCodeLine{00573\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00574\ \}}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \textcolor{comment}{//\ <algorithm>\ is\ spectacularly\ slow\ to\ compile\ in\ C++20\ so\ use\ a\ simple\ fill\_n}}
\DoxyCodeLine{00577\ \textcolor{comment}{//\ instead\ (\#1998).}}
\DoxyCodeLine{00578\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Size,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00579\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ fill\_n(OutputIt\ out,\ Size\ count,\ \textcolor{keyword}{const}\ T\&\ value)}
\DoxyCodeLine{00580\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{00581\ \ \ \textcolor{keywordflow}{for}\ (Size\ i\ =\ 0;\ i\ <\ count;\ ++i)\ *out++\ =\ value;}
\DoxyCodeLine{00582\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00583\ \}}
\DoxyCodeLine{00584\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Size>}
\DoxyCodeLine{00585\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ fill\_n(T*\ out,\ Size\ count,\ \textcolor{keywordtype}{char}\ value)\ -\/>\ T*\ \{}
\DoxyCodeLine{00586\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \textcolor{keywordflow}{return}\ fill\_n<T*,\ Size,\ T>(out,\ count,\ value);}
\DoxyCodeLine{00588\ \ \ \}}
\DoxyCodeLine{00589\ \ \ std::memset(out,\ value,\ to\_unsigned(count));}
\DoxyCodeLine{00590\ \ \ \textcolor{keywordflow}{return}\ out\ +\ count;}
\DoxyCodeLine{00591\ \}}
\DoxyCodeLine{00592\ }
\DoxyCodeLine{00593\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutChar,\ \textcolor{keyword}{typename}\ InputIt,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00594\ FMT\_CONSTEXPR\ FMT\_NOINLINE\ \textcolor{keyword}{auto}\ copy\_noinline(InputIt\ begin,\ InputIt\ end,}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OutputIt\ out)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{00596\ \ \ \textcolor{keywordflow}{return}\ copy<OutChar>(begin,\ end,\ out);}
\DoxyCodeLine{00597\ \}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \textcolor{comment}{//\ A\ public\ domain\ branchless\ UTF-\/8\ decoder\ by\ Christopher\ Wellons:}}
\DoxyCodeLine{00600\ \textcolor{comment}{//\ https://github.com/skeeto/branchless-\/utf8}}
\DoxyCodeLine{00601\ \textcolor{comment}{/*\ Decode\ the\ next\ character,\ c,\ from\ s,\ reporting\ errors\ in\ e.}}
\DoxyCodeLine{00602\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00603\ \textcolor{comment}{\ *\ Since\ this\ is\ a\ branchless\ decoder,\ four\ bytes\ will\ be\ read\ from\ the}}
\DoxyCodeLine{00604\ \textcolor{comment}{\ *\ buffer\ regardless\ of\ the\ actual\ length\ of\ the\ next\ character.\ This}}
\DoxyCodeLine{00605\ \textcolor{comment}{\ *\ means\ the\ buffer\ \_must\_\ have\ at\ least\ three\ bytes\ of\ zero\ padding}}
\DoxyCodeLine{00606\ \textcolor{comment}{\ *\ following\ the\ end\ of\ the\ data\ stream.}}
\DoxyCodeLine{00607\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00608\ \textcolor{comment}{\ *\ Errors\ are\ reported\ in\ e,\ which\ will\ be\ non-\/zero\ if\ the\ parsed}}
\DoxyCodeLine{00609\ \textcolor{comment}{\ *\ character\ was\ somehow\ invalid:\ invalid\ byte\ sequence,\ non-\/canonical}}
\DoxyCodeLine{00610\ \textcolor{comment}{\ *\ encoding,\ or\ a\ surrogate\ half.}}
\DoxyCodeLine{00611\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00612\ \textcolor{comment}{\ *\ The\ function\ returns\ a\ pointer\ to\ the\ next\ character.\ When\ an\ error}}
\DoxyCodeLine{00613\ \textcolor{comment}{\ *\ occurs,\ this\ pointer\ will\ be\ a\ guess\ that\ depends\ on\ the\ particular}}
\DoxyCodeLine{00614\ \textcolor{comment}{\ *\ error,\ but\ it\ will\ always\ advance\ at\ least\ one\ byte.}}
\DoxyCodeLine{00615\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00616\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ utf8\_decode(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,\ uint32\_t*\ c,\ \textcolor{keywordtype}{int}*\ e)}
\DoxyCodeLine{00617\ \ \ \ \ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{00618\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ masks[]\ =\ \{0x00,\ 0x7f,\ 0x1f,\ 0x0f,\ 0x07\};}
\DoxyCodeLine{00619\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ uint32\_t\ mins[]\ =\ \{4194304,\ 0,\ 128,\ 2048,\ 65536\};}
\DoxyCodeLine{00620\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shiftc[]\ =\ \{0,\ 18,\ 12,\ 6,\ 0\};}
\DoxyCodeLine{00621\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shifte[]\ =\ \{0,\ 6,\ 4,\ 2,\ 0\};}
\DoxyCodeLine{00622\ }
\DoxyCodeLine{00623\ \ \ \textcolor{keywordtype}{int}\ len\ =\ \textcolor{stringliteral}{"{}\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)1\(\backslash\)0\(\backslash\)0\(\backslash\)0\(\backslash\)0\(\backslash\)0\(\backslash\)0\(\backslash\)0\(\backslash\)0\(\backslash\)2\(\backslash\)2\(\backslash\)2\(\backslash\)2\(\backslash\)3\(\backslash\)3\(\backslash\)4"{}}}
\DoxyCodeLine{00624\ \ \ \ \ \ \ [\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(*s)\ >>\ 3];}
\DoxyCodeLine{00625\ \ \ \textcolor{comment}{//\ Compute\ the\ pointer\ to\ the\ next\ character\ early\ so\ that\ the\ next}}
\DoxyCodeLine{00626\ \ \ \textcolor{comment}{//\ iteration\ can\ start\ working\ on\ the\ next\ character.\ Neither\ Clang}}
\DoxyCodeLine{00627\ \ \ \textcolor{comment}{//\ nor\ GCC\ figure\ out\ this\ reordering\ on\ their\ own.}}
\DoxyCodeLine{00628\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ next\ =\ s\ +\ len\ +\ !len;}
\DoxyCodeLine{00629\ }
\DoxyCodeLine{00630\ \ \ \textcolor{keyword}{using\ }uchar\ =\ \textcolor{keywordtype}{unsigned}\ char;}
\DoxyCodeLine{00631\ }
\DoxyCodeLine{00632\ \ \ \textcolor{comment}{//\ Assume\ a\ four-\/byte\ character\ and\ load\ four\ bytes.\ Unused\ bits\ are}}
\DoxyCodeLine{00633\ \ \ \textcolor{comment}{//\ shifted\ out.}}
\DoxyCodeLine{00634\ \ \ *c\ =\ uint32\_t(uchar(s[0])\ \&\ masks[len])\ <<\ 18;}
\DoxyCodeLine{00635\ \ \ *c\ |=\ uint32\_t(uchar(s[1])\ \&\ 0x3f)\ <<\ 12;}
\DoxyCodeLine{00636\ \ \ *c\ |=\ uint32\_t(uchar(s[2])\ \&\ 0x3f)\ <<\ 6;}
\DoxyCodeLine{00637\ \ \ *c\ |=\ uint32\_t(uchar(s[3])\ \&\ 0x3f)\ <<\ 0;}
\DoxyCodeLine{00638\ \ \ *c\ >>=\ shiftc[len];}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \textcolor{comment}{//\ Accumulate\ the\ various\ error\ conditions.}}
\DoxyCodeLine{00641\ \ \ *e\ =\ (*c\ <\ mins[len])\ <<\ 6;\ \ \ \ \ \ \ \textcolor{comment}{//\ non-\/canonical\ encoding}}
\DoxyCodeLine{00642\ \ \ *e\ |=\ ((*c\ >>\ 11)\ ==\ 0x1b)\ <<\ 7;\ \ \textcolor{comment}{//\ surrogate\ half?}}
\DoxyCodeLine{00643\ \ \ *e\ |=\ (*c\ >\ 0x10FFFF)\ <<\ 8;\ \ \ \ \ \ \ \textcolor{comment}{//\ out\ of\ range?}}
\DoxyCodeLine{00644\ \ \ *e\ |=\ (uchar(s[1])\ \&\ 0xc0)\ >>\ 2;}
\DoxyCodeLine{00645\ \ \ *e\ |=\ (uchar(s[2])\ \&\ 0xc0)\ >>\ 4;}
\DoxyCodeLine{00646\ \ \ *e\ |=\ uchar(s[3])\ >>\ 6;}
\DoxyCodeLine{00647\ \ \ *e\ \string^=\ 0x2a;\ \ \textcolor{comment}{//\ top\ two\ bits\ of\ each\ tail\ byte\ correct?}}
\DoxyCodeLine{00648\ \ \ *e\ >>=\ shifte[len];}
\DoxyCodeLine{00649\ }
\DoxyCodeLine{00650\ \ \ \textcolor{keywordflow}{return}\ next;}
\DoxyCodeLine{00651\ \}}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ \textcolor{keyword}{constexpr}\ FMT\_INLINE\_VARIABLE\ uint32\_t\ invalid\_code\_point\ =\ \string~uint32\_t();}
\DoxyCodeLine{00654\ }
\DoxyCodeLine{00655\ \textcolor{comment}{//\ Invokes\ f(cp,\ sv)\ for\ every\ code\ point\ cp\ in\ s\ with\ sv\ being\ the\ string\ view}}
\DoxyCodeLine{00656\ \textcolor{comment}{//\ corresponding\ to\ the\ code\ point.\ cp\ is\ invalid\_code\_point\ on\ error.}}
\DoxyCodeLine{00657\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00658\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ for\_each\_codepoint(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s,\ F\ f)\ \{}
\DoxyCodeLine{00659\ \ \ \textcolor{keyword}{auto}\ decode\ =\ [f](\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf\_ptr,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ ptr)\ \{}
\DoxyCodeLine{00660\ \ \ \ \ \textcolor{keyword}{auto}\ cp\ =\ uint32\_t();}
\DoxyCodeLine{00661\ \ \ \ \ \textcolor{keyword}{auto}\ error\ =\ 0;}
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ utf8\_decode(buf\_ptr,\ \&cp,\ \&error);}
\DoxyCodeLine{00663\ \ \ \ \ \textcolor{keywordtype}{bool}\ result\ =\ f(error\ ?\ invalid\_code\_point\ :\ cp,}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(ptr,\ error\ ?\ 1\ :\ to\_unsigned(end\ -\/\ buf\_ptr)));}
\DoxyCodeLine{00665\ \ \ \ \ \textcolor{keywordflow}{return}\ result\ ?\ (error\ ?\ buf\_ptr\ +\ 1\ :\ end)\ :\ nullptr;}
\DoxyCodeLine{00666\ \ \ \};}
\DoxyCodeLine{00667\ \ \ \textcolor{keyword}{auto}\ p\ =\ s.\mbox{\hyperlink{classbasic__string__view_a39cdfe061dc6d64a3adc230b62d8a026}{data}}();}
\DoxyCodeLine{00668\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ block\_size\ =\ 4;\ \ \textcolor{comment}{//\ utf8\_decode\ always\ reads\ blocks\ of\ 4\ chars.}}
\DoxyCodeLine{00669\ \ \ \textcolor{keywordflow}{if}\ (s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}()\ >=\ block\_size)\ \{}
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ end\ =\ p\ +\ s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}()\ -\/\ block\_size\ +\ 1;\ p\ <\ end;)\ \{}
\DoxyCodeLine{00671\ \ \ \ \ \ \ p\ =\ decode(p,\ p);}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!p)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00673\ \ \ \ \ \}}
\DoxyCodeLine{00674\ \ \ \}}
\DoxyCodeLine{00675\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ num\_chars\_left\ =\ s.\mbox{\hyperlink{classbasic__string__view_a39cdfe061dc6d64a3adc230b62d8a026}{data}}()\ +\ s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}()\ -\/\ p)\ \{}
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{keywordtype}{char}\ buf[2\ *\ block\_size\ -\/\ 1]\ =\ \{\};}
\DoxyCodeLine{00677\ \ \ \ \ copy<char>(p,\ p\ +\ num\_chars\_left,\ buf);}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf\_ptr\ =\ buf;}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ decode(buf\_ptr,\ p);}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!end)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00682\ \ \ \ \ \ \ p\ +=\ end\ -\/\ buf\_ptr;}
\DoxyCodeLine{00683\ \ \ \ \ \ \ buf\_ptr\ =\ end;}
\DoxyCodeLine{00684\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (buf\_ptr\ -\/\ buf\ <\ num\_chars\_left);}
\DoxyCodeLine{00685\ \ \ \}}
\DoxyCodeLine{00686\ \}}
\DoxyCodeLine{00687\ }
\DoxyCodeLine{00688\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00689\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00690\ \ \ \textcolor{keywordflow}{return}\ s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}();}
\DoxyCodeLine{00691\ \}}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \textcolor{comment}{//\ Computes\ approximate\ display\ width\ of\ a\ UTF-\/8\ string.}}
\DoxyCodeLine{00694\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00695\ \ \ \textcolor{keywordtype}{size\_t}\ num\_code\_points\ =\ 0;}
\DoxyCodeLine{00696\ \ \ \textcolor{comment}{//\ It\ is\ not\ a\ lambda\ for\ compatibility\ with\ C++14.}}
\DoxyCodeLine{00697\ \ \ \textcolor{keyword}{struct\ }count\_code\_points\ \{}
\DoxyCodeLine{00698\ \ \ \ \ \textcolor{keywordtype}{size\_t}*\ count;}
\DoxyCodeLine{00699\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(uint32\_t\ cp,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}})\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \ \ *count\ +=\ detail::to\_unsigned(}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ 1\ +}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x1100\ \&\&}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ (cp\ <=\ 0x115f\ ||\ \ \textcolor{comment}{//\ Hangul\ Jamo\ init.\ consonants}}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ cp\ ==\ 0x2329\ ||\ \ \textcolor{comment}{//\ LEFT-\/POINTING\ ANGLE\ BRACKET}}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ cp\ ==\ 0x232a\ ||\ \ \textcolor{comment}{//\ RIGHT-\/POINTING\ ANGLE\ BRACKET}}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CJK\ ...\ Yi\ except\ IDEOGRAPHIC\ HALF\ FILL\ SPACE:}}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x2e80\ \&\&\ cp\ <=\ 0xa4cf\ \&\&\ cp\ !=\ 0x303f)\ ||}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xac00\ \&\&\ cp\ <=\ 0xd7a3)\ ||\ \ \ \ \textcolor{comment}{//\ Hangul\ Syllables}}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xf900\ \&\&\ cp\ <=\ 0xfaff)\ ||\ \ \ \ \textcolor{comment}{//\ CJK\ Compatibility\ Ideographs}}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xfe10\ \&\&\ cp\ <=\ 0xfe19)\ ||\ \ \ \ \textcolor{comment}{//\ Vertical\ Forms}}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xfe30\ \&\&\ cp\ <=\ 0xfe6f)\ ||\ \ \ \ \textcolor{comment}{//\ CJK\ Compatibility\ Forms}}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xff00\ \&\&\ cp\ <=\ 0xff60)\ ||\ \ \ \ \textcolor{comment}{//\ Fullwidth\ Forms}}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xffe0\ \&\&\ cp\ <=\ 0xffe6)\ ||\ \ \ \ \textcolor{comment}{//\ Fullwidth\ Forms}}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x20000\ \&\&\ cp\ <=\ 0x2fffd)\ ||\ \ \textcolor{comment}{//\ CJK}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x30000\ \&\&\ cp\ <=\ 0x3fffd)\ ||}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Miscellaneous\ Symbols\ and\ Pictographs\ +\ Emoticons:}}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x1f300\ \&\&\ cp\ <=\ 0x1f64f)\ ||}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Supplemental\ Symbols\ and\ Pictographs:}}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x1f900\ \&\&\ cp\ <=\ 0x1f9ff))));}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00721\ \ \ \ \ \}}
\DoxyCodeLine{00722\ \ \ \};}
\DoxyCodeLine{00723\ \ \ \textcolor{comment}{//\ We\ could\ avoid\ branches\ by\ using\ utf8\_decode\ directly.}}
\DoxyCodeLine{00724\ \ \ for\_each\_codepoint(s,\ count\_code\_points\{\&num\_code\_points\});}
\DoxyCodeLine{00725\ \ \ \textcolor{keywordflow}{return}\ num\_code\_points;}
\DoxyCodeLine{00726\ \}}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00729\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00730\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}();}
\DoxyCodeLine{00731\ \ \ \textcolor{keywordflow}{return}\ n\ <\ size\ ?\ n\ :\ size;}
\DoxyCodeLine{00732\ \}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \textcolor{comment}{//\ Calculates\ the\ index\ of\ the\ nth\ code\ point\ in\ a\ UTF-\/8\ string.}}
\DoxyCodeLine{00735\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00736\ \ \ \textcolor{keywordtype}{size\_t}\ result\ =\ s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}();}
\DoxyCodeLine{00737\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ begin\ =\ s.begin();}
\DoxyCodeLine{00738\ \ \ for\_each\_codepoint(s,\ [begin,\ \&n,\ \&result](uint32\_t,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sv)\ \{}
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ !=\ 0)\ \{}
\DoxyCodeLine{00740\ \ \ \ \ \ \ -\/-\/n;}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00742\ \ \ \ \ \}}
\DoxyCodeLine{00743\ \ \ \ \ result\ =\ to\_unsigned(sv.begin()\ -\/\ begin);}
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00745\ \ \ \});}
\DoxyCodeLine{00746\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00747\ \}}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00749\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1is__integral}{is\_integral}}\ :\ std::is\_integral<T>\ \{\};}
\DoxyCodeLine{00750\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1is__integral}{is\_integral}}<int128\_opt>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00751\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1is__integral}{is\_integral}}<uint128\_t>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00752\ }
\DoxyCodeLine{00753\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00754\ \textcolor{keyword}{using\ }is\_signed\ =}
\DoxyCodeLine{00755\ \ \ \ \ std::integral\_constant<bool,\ std::numeric\_limits<T>::is\_signed\ ||}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<T,\ int128\_opt>::value>;}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00759\ \textcolor{keyword}{using\ }is\_integer\ =}
\DoxyCodeLine{00760\ \ \ \ \ bool\_constant<is\_integral<T>::value\ \&\&\ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ char>::value\ \&\&}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ wchar\_t>::value>;}
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00764\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_FLOAT}}
\DoxyCodeLine{00765\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_FLOAT\ 1}}
\DoxyCodeLine{00766\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00767\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_DOUBLE}}
\DoxyCodeLine{00768\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_DOUBLE\ 1}}
\DoxyCodeLine{00769\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00770\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_LONG\_DOUBLE}}
\DoxyCodeLine{00771\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_LONG\_DOUBLE\ 1}}
\DoxyCodeLine{00772\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00774\ \textcolor{preprocessor}{\#if\ defined(FMT\_USE\_FLOAT128)}}
\DoxyCodeLine{00775\ \textcolor{comment}{//\ Use\ the\ provided\ definition.}}
\DoxyCodeLine{00776\ \textcolor{preprocessor}{\#elif\ FMT\_CLANG\_VERSION\ \&\&\ FMT\_HAS\_INCLUDE(<quadmath.h>)}}
\DoxyCodeLine{00777\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_FLOAT128\ 1}}
\DoxyCodeLine{00778\ \textcolor{preprocessor}{\#elif\ FMT\_GCC\_VERSION\ \&\&\ defined(\_GLIBCXX\_USE\_FLOAT128)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00779\ \textcolor{preprocessor}{\ \ \ \ !defined(\_\_STRICT\_ANSI\_\_)}}
\DoxyCodeLine{00780\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_FLOAT128\ 1}}
\DoxyCodeLine{00781\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00782\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_FLOAT128\ 0}}
\DoxyCodeLine{00783\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00784\ \textcolor{preprocessor}{\#if\ FMT\_USE\_FLOAT128}}
\DoxyCodeLine{00785\ \textcolor{keyword}{using\ }float128\ =\ \_\_float128;}
\DoxyCodeLine{00786\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00787\ \textcolor{keyword}{using\ }float128\ =\ void;}
\DoxyCodeLine{00788\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00790\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }is\_float128\ =\ std::is\_same<T,\ float128>;}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00792\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00793\ \textcolor{keyword}{using\ }is\_floating\_point\ =}
\DoxyCodeLine{00794\ \ \ \ \ bool\_constant<std::is\_floating\_point<T>::value\ ||\ is\_float128<T>::value>;}
\DoxyCodeLine{00795\ }
\DoxyCodeLine{00796\ template\ <typename\ T,\ bool\ =\ std::is\_floating\_point<T>::value>}
\DoxyCodeLine{00797\ \textcolor{keyword}{struct\ }is\_fast\_float\ :\ bool\_constant<std::numeric\_limits<T>::is\_iec559\ \&\&}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sizeof(T)\ <=\ sizeof(double)>\ \{\};}
\DoxyCodeLine{00799\ template\ <typename\ T>\ struct\ is\_fast\_float<T,\ false>\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00800\ }
\DoxyCodeLine{00801\ template\ <typename\ T>}
\DoxyCodeLine{00802\ using\ is\_double\_double\ =\ bool\_constant<std::numeric\_limits<T>::digits\ ==\ 106>;}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \#ifndef\ FMT\_USE\_FULL\_CACHE\_DRAGONBOX}
\DoxyCodeLine{00805\ \#\ \ define\ FMT\_USE\_FULL\_CACHE\_DRAGONBOX\ 0}
\DoxyCodeLine{00806\ \#endif}
\DoxyCodeLine{00807\ }
\DoxyCodeLine{00808\ template\ <typename\ T,\ typename\ Enable\ =\ void>}
\DoxyCodeLine{00809\ struct\ is\_locale\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00810\ template\ <typename\ T>}
\DoxyCodeLine{00811\ struct\ is\_locale<T,\ void\_t<decltype(T::classic())>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00812\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ FMT\_BEGIN\_EXPORT}
\DoxyCodeLine{00815\ }
\DoxyCodeLine{00816\ \textcolor{comment}{//\ The\ number\ of\ characters\ to\ store\ in\ the\ basic\_memory\_buffer\ object\ itself}}
\DoxyCodeLine{00817\ \textcolor{comment}{//\ to\ avoid\ dynamic\ memory\ allocation.}}
\DoxyCodeLine{00818\ enum\ \{\ inline\_buffer\_size\ =\ 500\ \};}
\DoxyCodeLine{00819\ }
\DoxyCodeLine{00833\ template\ <typename\ T,\ size\_t\ SIZE\ =\ inline\_buffer\_size,}
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ \ \ typename\ Allocator\ =\ std::allocator<T>>}
\DoxyCodeLine{00835\ class\ basic\_memory\_buffer\ :\ public\ detail::buffer<T>\ \{}
\DoxyCodeLine{00836\ \ private:}
\DoxyCodeLine{00837\ \ \ T\ store\_[SIZE];}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \ \textcolor{comment}{//\ Don't\ inherit\ from\ Allocator\ to\ avoid\ generating\ type\_info\ for\ it.}}
\DoxyCodeLine{00840\ \ \ FMT\_NO\_UNIQUE\_ADDRESS\ Allocator\ alloc\_;}
\DoxyCodeLine{00841\ }
\DoxyCodeLine{00842\ \ \ \textcolor{comment}{//\ Deallocate\ memory\ allocated\ by\ the\ buffer.}}
\DoxyCodeLine{00843\ \ \ FMT\_CONSTEXPR20\ void\ deallocate()\ \{}
\DoxyCodeLine{00844\ \ \ \ \ T*\ data\ =\ this-\/>data();}
\DoxyCodeLine{00845\ \ \ \ \ if\ (data\ !=\ store\_)\ alloc\_.deallocate(data,\ this-\/>capacity());}
\DoxyCodeLine{00846\ \ \ \}}
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00848\ \ \ static\ FMT\_CONSTEXPR20\ void\ grow(detail::buffer<T>\&\ buf,\ size\_t\ size)\ \{}
\DoxyCodeLine{00849\ \ \ \ \ detail::abort\_fuzzing\_if(size\ >\ 5000);}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keyword}{auto}\&\ self\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\textcolor{keyword}{>}(buf);}
\DoxyCodeLine{00851\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ max\_size\ =}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ std::allocator\_traits<Allocator>::max\_size(self.alloc\_);}
\DoxyCodeLine{00853\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ old\_capacity\ =\ buf.capacity();}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ new\_capacity\ =\ old\_capacity\ +\ old\_capacity\ /\ 2;}
\DoxyCodeLine{00855\ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ >\ new\_capacity)}
\DoxyCodeLine{00856\ \ \ \ \ \ \ new\_capacity\ =\ size;}
\DoxyCodeLine{00857\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (new\_capacity\ >\ max\_size)}
\DoxyCodeLine{00858\ \ \ \ \ \ \ new\_capacity\ =\ size\ >\ max\_size\ ?\ size\ :\ max\_size;}
\DoxyCodeLine{00859\ \ \ \ \ T*\ old\_data\ =\ buf.data();}
\DoxyCodeLine{00860\ \ \ \ \ T*\ new\_data\ =\ self.alloc\_.allocate(new\_capacity);}
\DoxyCodeLine{00861\ \ \ \ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ -\/Wstringop-\/overflow\ in\ gcc\ 13.1\ (\#3481).}}
\DoxyCodeLine{00862\ \ \ \ \ detail::assume(buf.size()\ <=\ new\_capacity);}
\DoxyCodeLine{00863\ \ \ \ \ \textcolor{comment}{//\ The\ following\ code\ doesn't\ throw,\ so\ the\ raw\ pointer\ above\ doesn't\ leak.}}
\DoxyCodeLine{00864\ \ \ \ \ memcpy(new\_data,\ old\_data,\ buf.size()\ *\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{00865\ \ \ \ \ self.set(new\_data,\ new\_capacity);}
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{comment}{//\ deallocate\ must\ not\ throw\ according\ to\ the\ standard,\ but\ even\ if\ it\ does,}}
\DoxyCodeLine{00867\ \ \ \ \ \textcolor{comment}{//\ the\ buffer\ already\ uses\ the\ new\ storage\ and\ will\ deallocate\ it\ in}}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{comment}{//\ destructor.}}
\DoxyCodeLine{00869\ \ \ \ \ \textcolor{keywordflow}{if}\ (old\_data\ !=\ self.store\_)\ self.alloc\_.deallocate(old\_data,\ old\_capacity);}
\DoxyCodeLine{00870\ \ \ \}}
\DoxyCodeLine{00871\ }
\DoxyCodeLine{00872\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00873\ \ \ \textcolor{keyword}{using\ }value\_type\ =\ T;}
\DoxyCodeLine{00874\ \ \ \textcolor{keyword}{using\ }const\_reference\ =\ \textcolor{keyword}{const}\ T\&;}
\DoxyCodeLine{00875\ }
\DoxyCodeLine{00876\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}(}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Allocator\&\ alloc\ =\ Allocator())}
\DoxyCodeLine{00878\ \ \ \ \ \ \ :\ detail::buffer<T>(grow),\ alloc\_(alloc)\ \{}
\DoxyCodeLine{00879\ \ \ \ \ this-\/>set(store\_,\ SIZE);}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::is\_constant\_evaluated())\ detail::fill\_n(store\_,\ SIZE,\ T());}
\DoxyCodeLine{00881\ \ \ \}}
\DoxyCodeLine{00882\ \ \ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbasic__memory__buffer}{\string~basic\_memory\_buffer}}()\ \{\ deallocate();\ \}}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00885\ \ \ \textcolor{comment}{//\ Move\ data\ from\ other\ to\ this\ buffer.}}
\DoxyCodeLine{00886\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ move(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\ other)\ \{}
\DoxyCodeLine{00887\ \ \ \ \ alloc\_\ =\ std::move(other.alloc\_);}
\DoxyCodeLine{00888\ \ \ \ \ T*\ data\ =\ other.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}();}
\DoxyCodeLine{00889\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ other.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}(),\ capacity\ =\ other.\mbox{\hyperlink{classdetail_1_1buffer_ac7ff14268d6b32d3d878291445ff4dd3}{capacity}}();}
\DoxyCodeLine{00890\ \ \ \ \ \textcolor{keywordflow}{if}\ (data\ ==\ other.store\_)\ \{}
\DoxyCodeLine{00891\ \ \ \ \ \ \ this-\/>set(store\_,\ capacity);}
\DoxyCodeLine{00892\ \ \ \ \ \ \ detail::copy<T>(other.store\_,\ other.store\_\ +\ size,\ store\_);}
\DoxyCodeLine{00893\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00894\ \ \ \ \ \ \ this-\/>set(data,\ capacity);}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ pointer\ to\ the\ inline\ array\ so\ that\ delete\ is\ not\ called}}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \textcolor{comment}{//\ when\ deallocating.}}
\DoxyCodeLine{00897\ \ \ \ \ \ \ other.\mbox{\hyperlink{classdetail_1_1buffer_a5c82aec716b07079ac88194eb9aa7feb}{set}}(other.store\_,\ 0);}
\DoxyCodeLine{00898\ \ \ \ \ \ \ other.\mbox{\hyperlink{classdetail_1_1buffer_a8174757a0d86698229670044730dc59b}{clear}}();}
\DoxyCodeLine{00899\ \ \ \ \ \}}
\DoxyCodeLine{00900\ \ \ \ \ this-\/>resize(size);}
\DoxyCodeLine{00901\ \ \ \}}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00906\ \ \ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbasic__memory__buffer_ade18cff12fc914085665a07af2e8fb7b}{basic\_memory\_buffer}}(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\&\ other)\ noexcept}
\DoxyCodeLine{00907\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<T>}}(grow)\ \{}
\DoxyCodeLine{00908\ \ \ \ \ move(other);}
\DoxyCodeLine{00909\ \ \ \}}
\DoxyCodeLine{00910\ }
\DoxyCodeLine{00912\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classbasic__memory__buffer_a20c8cea076154a579ab0a04afb6c1f84}{operator=}}(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\&\ other)\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\ \{}
\DoxyCodeLine{00913\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{this}\ !=\ \&other,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00914\ \ \ \ \ deallocate();}
\DoxyCodeLine{00915\ \ \ \ \ move(other);}
\DoxyCodeLine{00916\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00917\ \ \ \}}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \ \ \textcolor{comment}{//\ Returns\ a\ copy\ of\ the\ allocator\ associated\ with\ this\ buffer.}}
\DoxyCodeLine{00920\ \ \ \textcolor{keyword}{auto}\ get\_allocator()\ const\ -\/>\ Allocator\ \{\ \textcolor{keywordflow}{return}\ alloc\_;\ \}}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00924\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(\textcolor{keywordtype}{size\_t}\ count)\ \{\ this-\/>try\_resize(count);\ \}}
\DoxyCodeLine{00925\ }
\DoxyCodeLine{00927\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer_a27f096451ed4e6738d3a33161fda3e90}{reserve}}(\textcolor{keywordtype}{size\_t}\ new\_capacity)\ \{\ this-\/>try\_reserve(new\_capacity);\ \}}
\DoxyCodeLine{00928\ }
\DoxyCodeLine{00929\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer}}<T>::append;}
\DoxyCodeLine{00930\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ContiguousRange>}
\DoxyCodeLine{00931\ \ \ \textcolor{keywordtype}{void}\ append(\textcolor{keyword}{const}\ ContiguousRange\&\ range)\ \{}
\DoxyCodeLine{00932\ \ \ \ \ append(range.data(),\ range.data()\ +\ range.size());}
\DoxyCodeLine{00933\ \ \ \}}
\DoxyCodeLine{00934\ \};}
\DoxyCodeLine{00935\ }
\DoxyCodeLine{00936\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<char>}};}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ SIZE,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00939\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__contiguous}{is\_contiguous}}<\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}<T,\ SIZE,\ Allocator>>\ :\ std::true\_type\ \{}
\DoxyCodeLine{00940\ \};}
\DoxyCodeLine{00941\ }
\DoxyCodeLine{00942\ FMT\_END\_EXPORT}
\DoxyCodeLine{00943\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00944\ FMT\_API\ \textcolor{keyword}{auto}\ write\_console(\textcolor{keywordtype}{int}\ fd,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ text)\ -\/>\ bool;}
\DoxyCodeLine{00945\ FMT\_API\ \textcolor{keywordtype}{void}\ print(std::FILE*,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}});}
\DoxyCodeLine{00946\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00947\ }
\DoxyCodeLine{00948\ FMT\_BEGIN\_EXPORT}
\DoxyCodeLine{00949\ }
\DoxyCodeLine{00950\ \textcolor{comment}{//\ Suppress\ a\ misleading\ warning\ in\ older\ versions\ of\ clang.}}
\DoxyCodeLine{00951\ \textcolor{preprocessor}{\#if\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00952\ \textcolor{preprocessor}{\#\ \ pragma\ clang\ diagnostic\ ignored\ "{}-\/Wweak-\/vtables"{}}}
\DoxyCodeLine{00953\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00954\ }
\DoxyCodeLine{00956\ \textcolor{keyword}{class\ }FMT\_SO\_VISIBILITY(\textcolor{stringliteral}{"{}default"{}})\ format\_error\ :\ \textcolor{keyword}{public}\ std::runtime\_error\ \{}
\DoxyCodeLine{00957\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00958\ \ \ \textcolor{keyword}{using\ }std::runtime\_error::runtime\_error;}
\DoxyCodeLine{00959\ \};}
\DoxyCodeLine{00960\ }
\DoxyCodeLine{00961\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail__exported}{detail\_exported}}\ \{}
\DoxyCodeLine{00962\ \textcolor{preprocessor}{\#if\ FMT\_USE\_NONTYPE\_TEMPLATE\_ARGS}}
\DoxyCodeLine{00963\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>\ \textcolor{keyword}{struct\ }fixed\_string\ \{}
\DoxyCodeLine{00964\ \ \ \textcolor{keyword}{constexpr}\ fixed\_string(\textcolor{keyword}{const}\ Char\ (\&str)[N])\ \{}
\DoxyCodeLine{00965\ \ \ \ \ detail::copy<Char,\ const\ Char*,\ Char*>(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }Char*\textcolor{keyword}{>}(str),}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ str\ +\ N,\ data);}
\DoxyCodeLine{00967\ \ \ \}}
\DoxyCodeLine{00968\ \ \ Char\ data[N]\ =\ \{\};}
\DoxyCodeLine{00969\ \};}
\DoxyCodeLine{00970\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00971\ }
\DoxyCodeLine{00972\ \textcolor{comment}{//\ Converts\ a\ compile-\/time\ string\ to\ basic\_string\_view.}}
\DoxyCodeLine{00973\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00974\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ compile\_string\_to\_view(\textcolor{keyword}{const}\ Char\ (\&s)[N])}
\DoxyCodeLine{00975\ \ \ \ \ -\/>\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \{}
\DoxyCodeLine{00976\ \ \ \textcolor{comment}{//\ Remove\ trailing\ NUL\ character\ if\ needed.\ Won't\ be\ present\ if\ this\ is\ used}}
\DoxyCodeLine{00977\ \ \ \textcolor{comment}{//\ with\ a\ raw\ character\ array\ (i.e.\ not\ defined\ as\ a\ string).}}
\DoxyCodeLine{00978\ \ \ \textcolor{keywordflow}{return}\ \{s,\ N\ -\/\ (std::char\_traits<Char>::to\_int\_type(s[N\ -\/\ 1])\ ==\ 0\ ?\ 1\ :\ 0)\};}
\DoxyCodeLine{00979\ \}}
\DoxyCodeLine{00980\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00981\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ compile\_string\_to\_view(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)}
\DoxyCodeLine{00982\ \ \ \ \ -\/>\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \{}
\DoxyCodeLine{00983\ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00984\ \}}
\DoxyCodeLine{00985\ \}\ \ \textcolor{comment}{//\ namespace\ detail\_exported}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \textcolor{comment}{//\ A\ generic\ formatting\ context\ with\ custom\ output\ iterator\ and\ character}}
\DoxyCodeLine{00988\ \textcolor{comment}{//\ (code\ unit)\ support.\ Char\ is\ the\ format\ string\ code\ unit\ type\ which\ can\ be}}
\DoxyCodeLine{00989\ \textcolor{comment}{//\ different\ from\ OutputIt::value\_type.}}
\DoxyCodeLine{00990\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classgeneric__context}{generic\_context}}\ \{}
\DoxyCodeLine{00991\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00992\ \ \ OutputIt\ out\_;}
\DoxyCodeLine{00993\ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<generic\_context>}}\ args\_;}
\DoxyCodeLine{00994\ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}\ loc\_;}
\DoxyCodeLine{00995\ }
\DoxyCodeLine{00996\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00997\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ Char;}
\DoxyCodeLine{00998\ \ \ \textcolor{keyword}{using\ }iterator\ =\ OutputIt;}
\DoxyCodeLine{00999\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__parse__context}{parse\_context\_type}}\ =\ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}};}
\DoxyCodeLine{01000\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }\mbox{\hyperlink{structformatter}{formatter\_type}}\ =\ \mbox{\hyperlink{structformatter}{formatter<T,\ Char>}};}
\DoxyCodeLine{01001\ }
\DoxyCodeLine{01002\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classgeneric__context}{generic\_context}}(OutputIt\ out,}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<generic\_context>}}\ ctx\_args,}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}\ loc\ =\ \{\})}
\DoxyCodeLine{01005\ \ \ \ \ \ \ :\ out\_(out),\ args\_(ctx\_args),\ loc\_(loc)\ \{\}}
\DoxyCodeLine{01006\ \ \ \mbox{\hyperlink{classgeneric__context}{generic\_context}}(\mbox{\hyperlink{classgeneric__context}{generic\_context}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{01007\ \ \ \mbox{\hyperlink{classgeneric__context}{generic\_context}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classgeneric__context}{generic\_context}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01008\ \ \ \textcolor{keywordtype}{void}\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classgeneric__context}{generic\_context}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01009\ }
\DoxyCodeLine{01010\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ arg(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \textcolor{keyword}{const}\ -\/>\ \mbox{\hyperlink{classbasic__format__arg}{basic\_format\_arg<generic\_context>}}\ \{}
\DoxyCodeLine{01011\ \ \ \ \ \textcolor{keywordflow}{return}\ args\_.\mbox{\hyperlink{classbasic__format__args_a3339d3a4e4daaf7bb0de1a8084e7f086}{get}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01012\ \ \ \}}
\DoxyCodeLine{01013\ \ \ \textcolor{keyword}{auto}\ arg(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ name)\ -\/>\ \mbox{\hyperlink{classbasic__format__arg}{basic\_format\_arg<generic\_context>}}\ \{}
\DoxyCodeLine{01014\ \ \ \ \ \textcolor{keywordflow}{return}\ args\_.\mbox{\hyperlink{classbasic__format__args_a3339d3a4e4daaf7bb0de1a8084e7f086}{get}}(name);}
\DoxyCodeLine{01015\ \ \ \}}
\DoxyCodeLine{01016\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ arg\_id(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ name)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01017\ \ \ \ \ \textcolor{keywordflow}{return}\ args\_.get\_id(name);}
\DoxyCodeLine{01018\ \ \ \}}
\DoxyCodeLine{01019\ \ \ \textcolor{keyword}{auto}\ args()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<generic\_context>}}\&\ \{}
\DoxyCodeLine{01020\ \ \ \ \ \textcolor{keywordflow}{return}\ args\_;}
\DoxyCodeLine{01021\ \ \ \}}
\DoxyCodeLine{01022\ }
\DoxyCodeLine{01023\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ out()\ -\/>\ iterator\ \{\ \textcolor{keywordflow}{return}\ out\_;\ \}}
\DoxyCodeLine{01024\ }
\DoxyCodeLine{01025\ \ \ \textcolor{keywordtype}{void}\ advance\_to(iterator\ it)\ \{}
\DoxyCodeLine{01026\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structdetail_1_1is__back__insert__iterator}{detail::is\_back\_insert\_iterator<iterator>}}())\ out\_\ =\ it;}
\DoxyCodeLine{01027\ \ \ \}}
\DoxyCodeLine{01028\ }
\DoxyCodeLine{01029\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ locale()\ -\/>\ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}\ \{\ \textcolor{keywordflow}{return}\ loc\_;\ \}}
\DoxyCodeLine{01030\ \};}
\DoxyCodeLine{01031\ }
\DoxyCodeLine{01032\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classloc__value}{loc\_value}}\ \{}
\DoxyCodeLine{01033\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01034\ \ \ \mbox{\hyperlink{classbasic__format__arg}{basic\_format\_arg<format\_context>}}\ value\_;}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01037\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!detail::is\_\textcolor{keywordtype}{float}128<T>::value)>}
\DoxyCodeLine{01038\ \ \ \mbox{\hyperlink{classloc__value}{loc\_value}}(T\ value)\ :\ value\_(detail::make\_arg<format\_context>(value))\ \{\}}
\DoxyCodeLine{01039\ }
\DoxyCodeLine{01040\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(detail::is\_\textcolor{keywordtype}{float}128<T>::value)>}
\DoxyCodeLine{01041\ \ \ \mbox{\hyperlink{classloc__value}{loc\_value}}(T)\ \{\}}
\DoxyCodeLine{01042\ }
\DoxyCodeLine{01043\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Visitor>\ \textcolor{keyword}{auto}\ visit(Visitor\&\&\ vis)\ -\/>\ \textcolor{keyword}{decltype}(vis(0))\ \{}
\DoxyCodeLine{01044\ \ \ \ \ \textcolor{keywordflow}{return}\ value\_.\mbox{\hyperlink{classbasic__format__arg_aefc297a48ed0ea2abea09b872c70fc66}{visit}}(vis);}
\DoxyCodeLine{01045\ \ \ \}}
\DoxyCodeLine{01046\ \};}
\DoxyCodeLine{01047\ }
\DoxyCodeLine{01048\ \textcolor{comment}{//\ A\ locale\ facet\ that\ formats\ values\ in\ UTF-\/8.}}
\DoxyCodeLine{01049\ \textcolor{comment}{//\ It\ is\ parameterized\ on\ the\ locale\ to\ avoid\ the\ heavy\ <locale>\ include.}}
\DoxyCodeLine{01050\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classformat__facet}{format\_facet}}\ :\ \textcolor{keyword}{public}\ Locale::facet\ \{}
\DoxyCodeLine{01051\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01052\ \ \ std::string\ separator\_;}
\DoxyCodeLine{01053\ \ \ std::string\ grouping\_;}
\DoxyCodeLine{01054\ \ \ std::string\ decimal\_point\_;}
\DoxyCodeLine{01055\ }
\DoxyCodeLine{01056\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01057\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{auto}\ do\_put(\mbox{\hyperlink{classbasic__appender}{appender}}\ out,\ \mbox{\hyperlink{classloc__value}{loc\_value}}\ val,}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)\ \textcolor{keyword}{const}\ -\/>\ bool;}
\DoxyCodeLine{01059\ }
\DoxyCodeLine{01060\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01061\ \ \ \textcolor{keyword}{static}\ FMT\_API\ \textcolor{keyword}{typename}\ Locale::id\ id;}
\DoxyCodeLine{01062\ }
\DoxyCodeLine{01063\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__facet}{format\_facet}}(Locale\&\ loc);}
\DoxyCodeLine{01064\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__facet}{format\_facet}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sep\ =\ \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{01065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::initializer\_list<unsigned\ char>\ g\ =\ \{3\},}
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ decimal\_point\ =\ \textcolor{stringliteral}{"{}."{}})}
\DoxyCodeLine{01067\ \ \ \ \ \ \ :\ separator\_(sep.data(),\ sep.size()),}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ grouping\_(g.begin(),\ g.end()),}
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ decimal\_point\_(decimal\_point)\ \{\}}
\DoxyCodeLine{01070\ }
\DoxyCodeLine{01071\ \ \ \textcolor{keyword}{auto}\ put(\mbox{\hyperlink{classbasic__appender}{appender}}\ out,\ \mbox{\hyperlink{classloc__value}{loc\_value}}\ val,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)\ \textcolor{keyword}{const}}
\DoxyCodeLine{01072\ \ \ \ \ \ \ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01073\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_put(out,\ val,\ specs);}
\DoxyCodeLine{01074\ \ \ \}}
\DoxyCodeLine{01075\ \};}
\DoxyCodeLine{01076\ }
\DoxyCodeLine{01077\ FMT\_END\_EXPORT}
\DoxyCodeLine{01078\ }
\DoxyCodeLine{01079\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{01080\ }
\DoxyCodeLine{01081\ \textcolor{comment}{//\ Returns\ true\ if\ value\ is\ negative,\ false\ otherwise.}}
\DoxyCodeLine{01082\ \textcolor{comment}{//\ Same\ as\ \`{}value\ <\ 0`\ but\ doesn't\ produce\ warnings\ if\ T\ is\ an\ unsigned\ type.}}
\DoxyCodeLine{01083\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{signed}<T>::value)>}
\DoxyCodeLine{01084\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ is\_negative(T\ value)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01085\ \ \ \textcolor{keywordflow}{return}\ value\ <\ 0;}
\DoxyCodeLine{01086\ \}}
\DoxyCodeLine{01087\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{signed}<T>::value)>}
\DoxyCodeLine{01088\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ is\_negative(T)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01089\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01090\ \}}
\DoxyCodeLine{01091\ }
\DoxyCodeLine{01092\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01093\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ is\_supported\_floating\_point(T)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01094\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ float>())\ \textcolor{keywordflow}{return}\ FMT\_USE\_FLOAT;}
\DoxyCodeLine{01095\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ double>())\ \textcolor{keywordflow}{return}\ FMT\_USE\_DOUBLE;}
\DoxyCodeLine{01096\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ long\ double>())\ \textcolor{keywordflow}{return}\ FMT\_USE\_LONG\_DOUBLE;}
\DoxyCodeLine{01097\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01098\ \}}
\DoxyCodeLine{01099\ }
\DoxyCodeLine{01100\ \textcolor{comment}{//\ Smallest\ of\ uint32\_t,\ uint64\_t,\ uint128\_t\ that\ is\ large\ enough\ to}}
\DoxyCodeLine{01101\ \textcolor{comment}{//\ represent\ all\ values\ of\ an\ integral\ type\ T.}}
\DoxyCodeLine{01102\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01103\ \textcolor{keyword}{using\ }uint32\_or\_64\_or\_128\_t\ =}
\DoxyCodeLine{01104\ \ \ \ \ conditional\_t<num\_bits<T>()\ <=\ 32\ \&\&\ !FMT\_REDUCE\_INT\_INSTANTIATIONS,}
\DoxyCodeLine{01105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t,}
\DoxyCodeLine{01106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ conditional\_t<num\_bits<T>()\ <=\ 64,\ uint64\_t,\ uint128\_t>>;}
\DoxyCodeLine{01107\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01108\ \textcolor{keyword}{using\ }uint64\_or\_128\_t\ =\ conditional\_t<num\_bits<T>()\ <=\ 64,\ uint64\_t,\ uint128\_t>;}
\DoxyCodeLine{01109\ }
\DoxyCodeLine{01110\ \textcolor{preprocessor}{\#define\ FMT\_POWERS\_OF\_10(factor)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01111\ \textcolor{preprocessor}{\ \ factor\ *\ 10,\ (factor)\ *\ 100,\ (factor)\ *\ 1000,\ (factor)\ *\ 10000,\ \(\backslash\)}}
\DoxyCodeLine{01112\ \textcolor{preprocessor}{\ \ \ \ \ \ (factor)\ *\ 100000,\ (factor)\ *\ 1000000,\ (factor)\ *\ 10000000,\ \(\backslash\)}}
\DoxyCodeLine{01113\ \textcolor{preprocessor}{\ \ \ \ \ \ (factor)\ *\ 100000000,\ (factor)\ *\ 1000000000}}
\DoxyCodeLine{01114\ }
\DoxyCodeLine{01115\ \textcolor{comment}{//\ Converts\ value\ in\ the\ range\ [0,\ 100)\ to\ a\ string.}}
\DoxyCodeLine{01116\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits2(\textcolor{keywordtype}{size\_t}\ value)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{01117\ \ \ \textcolor{comment}{//\ GCC\ generates\ slightly\ better\ code\ when\ value\ is\ pointer-\/size.}}
\DoxyCodeLine{01118\ \ \ \textcolor{keywordflow}{return}\ \&\textcolor{stringliteral}{"{}0001020304050607080910111213141516171819"{}}}
\DoxyCodeLine{01119\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}2021222324252627282930313233343536373839"{}}}
\DoxyCodeLine{01120\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}4041424344454647484950515253545556575859"{}}}
\DoxyCodeLine{01121\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}6061626364656667686970717273747576777879"{}}}
\DoxyCodeLine{01122\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}8081828384858687888990919293949596979899"{}}[value\ *\ 2];}
\DoxyCodeLine{01123\ \}}
\DoxyCodeLine{01124\ }
\DoxyCodeLine{01125\ \textcolor{comment}{//\ Sign\ is\ a\ template\ parameter\ to\ workaround\ a\ bug\ in\ gcc\ 4.8.}}
\DoxyCodeLine{01126\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Sign>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ sign(Sign\ s)\ -\/>\ Char\ \{}
\DoxyCodeLine{01127\ \textcolor{preprocessor}{\#if\ !FMT\_GCC\_VERSION\ ||\ FMT\_GCC\_VERSION\ >=\ 604}}
\DoxyCodeLine{01128\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<Sign,\ sign\_t>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01129\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01130\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(((\textcolor{charliteral}{'\ '}\ <<\ 24)\ |\ (\textcolor{charliteral}{'+'}\ <<\ 16)\ |\ (\textcolor{charliteral}{'-\/'}\ <<\ 8))\ >>\ (s\ *\ 8));}
\DoxyCodeLine{01131\ \}}
\DoxyCodeLine{01132\ }
\DoxyCodeLine{01133\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ count\_digits\_fallback(T\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01134\ \ \ \textcolor{keywordtype}{int}\ count\ =\ 1;}
\DoxyCodeLine{01135\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{01136\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ four\ digits\ instead}}
\DoxyCodeLine{01137\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{01138\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{01139\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10)\ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{01140\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 100)\ \textcolor{keywordflow}{return}\ count\ +\ 1;}
\DoxyCodeLine{01141\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 1000)\ \textcolor{keywordflow}{return}\ count\ +\ 2;}
\DoxyCodeLine{01142\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10000)\ \textcolor{keywordflow}{return}\ count\ +\ 3;}
\DoxyCodeLine{01143\ \ \ \ \ n\ /=\ 10000u;}
\DoxyCodeLine{01144\ \ \ \ \ count\ +=\ 4;}
\DoxyCodeLine{01145\ \ \ \}}
\DoxyCodeLine{01146\ \}}
\DoxyCodeLine{01147\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{01148\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ count\_digits(uint128\_opt\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01149\ \ \ \textcolor{keywordflow}{return}\ count\_digits\_fallback(n);}
\DoxyCodeLine{01150\ \}}
\DoxyCodeLine{01151\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01152\ }
\DoxyCodeLine{01153\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZLL}}
\DoxyCodeLine{01154\ \textcolor{comment}{//\ It\ is\ a\ separate\ function\ rather\ than\ a\ part\ of\ count\_digits\ to\ workaround}}
\DoxyCodeLine{01155\ \textcolor{comment}{//\ the\ lack\ of\ static\ constexpr\ in\ constexpr\ functions.}}
\DoxyCodeLine{01156\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ do\_count\_digits(uint64\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01157\ \ \ \textcolor{comment}{//\ This\ has\ comparable\ performance\ to\ the\ version\ by\ Kendall\ Willets}}
\DoxyCodeLine{01158\ \ \ \textcolor{comment}{//\ (https://github.com/fmtlib/format-\/benchmark/blob/master/digits10)}}
\DoxyCodeLine{01159\ \ \ \textcolor{comment}{//\ but\ uses\ smaller\ tables.}}
\DoxyCodeLine{01160\ \ \ \textcolor{comment}{//\ Maps\ bsr(n)\ to\ ceil(log10(pow(2,\ bsr(n)\ +\ 1)\ -\/\ 1)).}}
\DoxyCodeLine{01161\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ bsr2log10[]\ =\ \{}
\DoxyCodeLine{01162\ \ \ \ \ \ \ 1,\ \ 1,\ \ 1,\ \ 2,\ \ 2,\ \ 2,\ \ 3,\ \ 3,\ \ 3,\ \ 4,\ \ 4,\ \ 4,\ \ 4,\ \ 5,\ \ 5,\ \ 5,}
\DoxyCodeLine{01163\ \ \ \ \ \ \ 6,\ \ 6,\ \ 6,\ \ 7,\ \ 7,\ \ 7,\ \ 7,\ \ 8,\ \ 8,\ \ 8,\ \ 9,\ \ 9,\ \ 9,\ \ 10,\ 10,\ 10,}
\DoxyCodeLine{01164\ \ \ \ \ \ \ 10,\ 11,\ 11,\ 11,\ 12,\ 12,\ 12,\ 13,\ 13,\ 13,\ 13,\ 14,\ 14,\ 14,\ 15,\ 15,}
\DoxyCodeLine{01165\ \ \ \ \ \ \ 15,\ 16,\ 16,\ 16,\ 16,\ 17,\ 17,\ 17,\ 18,\ 18,\ 18,\ 19,\ 19,\ 19,\ 19,\ 20\};}
\DoxyCodeLine{01166\ \ \ \textcolor{keyword}{auto}\ t\ =\ bsr2log10[FMT\_BUILTIN\_CLZLL(n\ |\ 1)\ \string^\ 63];}
\DoxyCodeLine{01167\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ uint64\_t\ zero\_or\_powers\_of\_10[]\ =\ \{}
\DoxyCodeLine{01168\ \ \ \ \ \ \ 0,\ 0,\ FMT\_POWERS\_OF\_10(1U),\ FMT\_POWERS\_OF\_10(1000000000ULL),}
\DoxyCodeLine{01169\ \ \ \ \ \ \ 10000000000000000000ULL\};}
\DoxyCodeLine{01170\ \ \ \textcolor{keywordflow}{return}\ t\ -\/\ (n\ <\ zero\_or\_powers\_of\_10[t]);}
\DoxyCodeLine{01171\ \}}
\DoxyCodeLine{01172\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01173\ }
\DoxyCodeLine{01174\ \textcolor{comment}{//\ Returns\ the\ number\ of\ decimal\ digits\ in\ n.\ Leading\ zeros\ are\ not\ counted}}
\DoxyCodeLine{01175\ \textcolor{comment}{//\ except\ for\ n\ ==\ 0\ in\ which\ case\ count\_digits\ returns\ 1.}}
\DoxyCodeLine{01176\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ count\_digits(uint64\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01177\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZLL}}
\DoxyCodeLine{01178\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated())\ \textcolor{keywordflow}{return}\ do\_count\_digits(n);}
\DoxyCodeLine{01179\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01180\ \ \ \textcolor{keywordflow}{return}\ count\_digits\_fallback(n);}
\DoxyCodeLine{01181\ \}}
\DoxyCodeLine{01182\ }
\DoxyCodeLine{01183\ \textcolor{comment}{//\ Counts\ the\ number\ of\ digits\ in\ n.\ BITS\ =\ log2(radix).}}
\DoxyCodeLine{01184\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ BITS,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01185\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ count\_digits(UInt\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01186\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{01187\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated()\ \&\&\ num\_bits<UInt>()\ ==\ 32)}
\DoxyCodeLine{01188\ \ \ \ \ \textcolor{keywordflow}{return}\ (FMT\_BUILTIN\_CLZ(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(n)\ |\ 1)\ \string^\ 31)\ /\ BITS\ +\ 1;}
\DoxyCodeLine{01189\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01190\ \ \ \textcolor{comment}{//\ Lambda\ avoids\ unreachable\ code\ warnings\ from\ NVHPC.}}
\DoxyCodeLine{01191\ \ \ \textcolor{keywordflow}{return}\ [](UInt\ m)\ \{}
\DoxyCodeLine{01192\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ 0;}
\DoxyCodeLine{01193\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01194\ \ \ \ \ \ \ ++num\_digits;}
\DoxyCodeLine{01195\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ ((m\ >>=\ BITS)\ !=\ 0);}
\DoxyCodeLine{01196\ \ \ \ \ \textcolor{keywordflow}{return}\ num\_digits;}
\DoxyCodeLine{01197\ \ \ \}(n);}
\DoxyCodeLine{01198\ \}}
\DoxyCodeLine{01199\ }
\DoxyCodeLine{01200\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{01201\ \textcolor{comment}{//\ It\ is\ a\ separate\ function\ rather\ than\ a\ part\ of\ count\_digits\ to\ workaround}}
\DoxyCodeLine{01202\ \textcolor{comment}{//\ the\ lack\ of\ static\ constexpr\ in\ constexpr\ functions.}}
\DoxyCodeLine{01203\ FMT\_INLINE\ \textcolor{keyword}{auto}\ do\_count\_digits(uint32\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01204\ \textcolor{comment}{//\ An\ optimization\ by\ Kendall\ Willets\ from\ https://bit.ly/3uOIQrB.}}
\DoxyCodeLine{01205\ \textcolor{comment}{//\ This\ increments\ the\ upper\ 32\ bits\ (log10(T)\ -\/\ 1)\ when\ >=\ T\ is\ added.}}
\DoxyCodeLine{01206\ \textcolor{preprocessor}{\#\ \ define\ FMT\_INC(T)\ (((sizeof(\#T)\ -\/\ 1ull)\ <<\ 32)\ -\/\ T)}}
\DoxyCodeLine{01207\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint64\_t\ table[]\ =\ \{}
\DoxyCodeLine{01208\ \ \ \ \ \ \ FMT\_INC(0),\ \ \ \ \ \ \ \ \ \ FMT\_INC(0),\ \ \ \ \ \ \ \ \ \ FMT\_INC(0),\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 8}}
\DoxyCodeLine{01209\ \ \ \ \ \ \ FMT\_INC(10),\ \ \ \ \ \ \ \ \ FMT\_INC(10),\ \ \ \ \ \ \ \ \ FMT\_INC(10),\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 64}}
\DoxyCodeLine{01210\ \ \ \ \ \ \ FMT\_INC(100),\ \ \ \ \ \ \ \ FMT\_INC(100),\ \ \ \ \ \ \ \ FMT\_INC(100),\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 512}}
\DoxyCodeLine{01211\ \ \ \ \ \ \ FMT\_INC(1000),\ \ \ \ \ \ \ FMT\_INC(1000),\ \ \ \ \ \ \ FMT\_INC(1000),\ \ \ \ \ \ \ \ \textcolor{comment}{//\ 4096}}
\DoxyCodeLine{01212\ \ \ \ \ \ \ FMT\_INC(10000),\ \ \ \ \ \ FMT\_INC(10000),\ \ \ \ \ \ FMT\_INC(10000),\ \ \ \ \ \ \ \textcolor{comment}{//\ 32k}}
\DoxyCodeLine{01213\ \ \ \ \ \ \ FMT\_INC(100000),\ \ \ \ \ FMT\_INC(100000),\ \ \ \ \ FMT\_INC(100000),\ \ \ \ \ \ \textcolor{comment}{//\ 256k}}
\DoxyCodeLine{01214\ \ \ \ \ \ \ FMT\_INC(1000000),\ \ \ \ FMT\_INC(1000000),\ \ \ \ FMT\_INC(1000000),\ \ \ \ \ \textcolor{comment}{//\ 2048k}}
\DoxyCodeLine{01215\ \ \ \ \ \ \ FMT\_INC(10000000),\ \ \ FMT\_INC(10000000),\ \ \ FMT\_INC(10000000),\ \ \ \ \textcolor{comment}{//\ 16M}}
\DoxyCodeLine{01216\ \ \ \ \ \ \ FMT\_INC(100000000),\ \ FMT\_INC(100000000),\ \ FMT\_INC(100000000),\ \ \ \textcolor{comment}{//\ 128M}}
\DoxyCodeLine{01217\ \ \ \ \ \ \ FMT\_INC(1000000000),\ FMT\_INC(1000000000),\ FMT\_INC(1000000000),\ \ \textcolor{comment}{//\ 1024M}}
\DoxyCodeLine{01218\ \ \ \ \ \ \ FMT\_INC(1000000000),\ FMT\_INC(1000000000)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 4B}}
\DoxyCodeLine{01219\ \ \ \};}
\DoxyCodeLine{01220\ \ \ \textcolor{keyword}{auto}\ inc\ =\ table[FMT\_BUILTIN\_CLZ(n\ |\ 1)\ \string^\ 31];}
\DoxyCodeLine{01221\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((n\ +\ inc)\ >>\ 32);}
\DoxyCodeLine{01222\ \}}
\DoxyCodeLine{01223\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01224\ }
\DoxyCodeLine{01225\ \textcolor{comment}{//\ Optional\ version\ of\ count\_digits\ for\ better\ performance\ on\ 32-\/bit\ platforms.}}
\DoxyCodeLine{01226\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ count\_digits(uint32\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01227\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{01228\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated())\ \{}
\DoxyCodeLine{01229\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_count\_digits(n);}
\DoxyCodeLine{01230\ \ \ \}}
\DoxyCodeLine{01231\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01232\ \ \ \textcolor{keywordflow}{return}\ count\_digits\_fallback(n);}
\DoxyCodeLine{01233\ \}}
\DoxyCodeLine{01234\ }
\DoxyCodeLine{01235\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits10()\ noexcept\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01236\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<Int>::digits10;}
\DoxyCodeLine{01237\ \}}
\DoxyCodeLine{01238\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits10<int128\_opt>()\ noexcept\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 38;\ \}}
\DoxyCodeLine{01239\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits10<uint128\_t>()\ noexcept\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 38;\ \}}
\DoxyCodeLine{01240\ }
\DoxyCodeLine{01241\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1thousands__sep__result}{thousands\_sep\_result}}\ \{}
\DoxyCodeLine{01242\ \ \ std::string\ grouping;}
\DoxyCodeLine{01243\ \ \ Char\ thousands\_sep;}
\DoxyCodeLine{01244\ \};}
\DoxyCodeLine{01245\ }
\DoxyCodeLine{01246\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01247\ FMT\_API\ \textcolor{keyword}{auto}\ thousands\_sep\_impl(\mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc)\ -\/>\ \mbox{\hyperlink{structdetail_1_1thousands__sep__result}{thousands\_sep\_result<Char>}};}
\DoxyCodeLine{01248\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01249\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ thousands\_sep(\mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc)\ -\/>\ \mbox{\hyperlink{structdetail_1_1thousands__sep__result}{thousands\_sep\_result<Char>}}\ \{}
\DoxyCodeLine{01250\ \ \ \textcolor{keyword}{auto}\ result\ =\ thousands\_sep\_impl<char>(loc);}
\DoxyCodeLine{01251\ \ \ \textcolor{keywordflow}{return}\ \{result.grouping,\ Char(result.thousands\_sep)\};}
\DoxyCodeLine{01252\ \}}
\DoxyCodeLine{01253\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{01254\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ thousands\_sep(locale\_ref\ loc)\ -\/>\ thousands\_sep\_result<wchar\_t>\ \{}
\DoxyCodeLine{01255\ \ \ \textcolor{keywordflow}{return}\ thousands\_sep\_impl<wchar\_t>(loc);}
\DoxyCodeLine{01256\ \}}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01259\ FMT\_API\ \textcolor{keyword}{auto}\ decimal\_point\_impl(locale\_ref\ loc)\ -\/>\ Char;}
\DoxyCodeLine{01260\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ decimal\_point(locale\_ref\ loc)\ -\/>\ Char\ \{}
\DoxyCodeLine{01261\ \ \ \textcolor{keywordflow}{return}\ Char(decimal\_point\_impl<char>(loc));}
\DoxyCodeLine{01262\ \}}
\DoxyCodeLine{01263\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ decimal\_point(locale\_ref\ loc)\ -\/>\ \textcolor{keywordtype}{wchar\_t}\ \{}
\DoxyCodeLine{01264\ \ \ \textcolor{keywordflow}{return}\ decimal\_point\_impl<wchar\_t>(loc);}
\DoxyCodeLine{01265\ \}}
\DoxyCodeLine{01266\ }
\DoxyCodeLine{01267\ \textcolor{comment}{//\ Compares\ two\ characters\ for\ equality.}}
\DoxyCodeLine{01268\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{auto}\ equal2(\textcolor{keyword}{const}\ Char*\ lhs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01269\ \ \ \textcolor{keywordflow}{return}\ lhs[0]\ ==\ Char(rhs[0])\ \&\&\ lhs[1]\ ==\ Char(rhs[1]);}
\DoxyCodeLine{01270\ \}}
\DoxyCodeLine{01271\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ equal2(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ lhs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01272\ \ \ \textcolor{keywordflow}{return}\ memcmp(lhs,\ rhs,\ 2)\ ==\ 0;}
\DoxyCodeLine{01273\ \}}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \textcolor{comment}{//\ Copies\ two\ characters\ from\ src\ to\ dst.}}
\DoxyCodeLine{01276\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01277\ FMT\_CONSTEXPR20\ FMT\_INLINE\ \textcolor{keywordtype}{void}\ copy2(Char*\ dst,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{}
\DoxyCodeLine{01278\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated()\ \&\&\ \textcolor{keyword}{sizeof}(Char)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}))\ \{}
\DoxyCodeLine{01279\ \ \ \ \ memcpy(dst,\ src,\ 2);}
\DoxyCodeLine{01280\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01281\ \ \ \}}
\DoxyCodeLine{01282\ \ \ *dst++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*src++);}
\DoxyCodeLine{01283\ \ \ *dst\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*src);}
\DoxyCodeLine{01284\ \}}
\DoxyCodeLine{01285\ }
\DoxyCodeLine{01286\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1format__decimal__result}{format\_decimal\_result}}\ \{}
\DoxyCodeLine{01287\ \ \ Iterator\ begin;}
\DoxyCodeLine{01288\ \ \ Iterator\ end;}
\DoxyCodeLine{01289\ \};}
\DoxyCodeLine{01290\ }
\DoxyCodeLine{01291\ \textcolor{comment}{//\ Formats\ a\ decimal\ unsigned\ integer\ value\ writing\ into\ out\ pointing\ to\ a}}
\DoxyCodeLine{01292\ \textcolor{comment}{//\ buffer\ of\ specified\ size.\ The\ caller\ must\ ensure\ that\ the\ buffer\ is\ large}}
\DoxyCodeLine{01293\ \textcolor{comment}{//\ enough.}}
\DoxyCodeLine{01294\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01295\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ format\_decimal(Char*\ out,\ UInt\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ \textcolor{keywordtype}{int}\ size)}
\DoxyCodeLine{01296\ \ \ \ \ -\/>\ \mbox{\hyperlink{structdetail_1_1format__decimal__result}{format\_decimal\_result<Char*>}}\ \{}
\DoxyCodeLine{01297\ \ \ FMT\_ASSERT(size\ >=\ count\_digits(\mbox{\hyperlink{classdetail_1_1value}{value}}),\ \textcolor{stringliteral}{"{}invalid\ digit\ count"{}});}
\DoxyCodeLine{01298\ \ \ out\ +=\ size;}
\DoxyCodeLine{01299\ \ \ Char*\ end\ =\ out;}
\DoxyCodeLine{01300\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classdetail_1_1value}{value}}\ >=\ 100)\ \{}
\DoxyCodeLine{01301\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ two\ digits\ instead}}
\DoxyCodeLine{01302\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{01303\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{01304\ \ \ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{01305\ \ \ \ \ copy2(out,\ digits2(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}}\ \%\ 100)));}
\DoxyCodeLine{01306\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1value}{value}}\ /=\ 100;}
\DoxyCodeLine{01307\ \ \ \}}
\DoxyCodeLine{01308\ \ \ \textcolor{keywordflow}{if}\ (value\ <\ 10)\ \{}
\DoxyCodeLine{01309\ \ \ \ \ *-\/-\/out\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ value);}
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keywordflow}{return}\ \{out,\ end\};}
\DoxyCodeLine{01311\ \ \ \}}
\DoxyCodeLine{01312\ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{01313\ \ \ copy2(out,\ digits2(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(value)));}
\DoxyCodeLine{01314\ \ \ \textcolor{keywordflow}{return}\ \{out,\ end\};}
\DoxyCodeLine{01315\ \}}
\DoxyCodeLine{01316\ }
\DoxyCodeLine{01317\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Iterator,}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!std::is\_pointer<remove\_cvref\_t<Iterator>>::value)>}
\DoxyCodeLine{01319\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ format\_decimal(Iterator\ out,\ UInt\ value,\ \textcolor{keywordtype}{int}\ size)}
\DoxyCodeLine{01320\ \ \ \ \ -\/>\ format\_decimal\_result<Iterator>\ \{}
\DoxyCodeLine{01321\ \ \ \textcolor{comment}{//\ Buffer\ is\ large\ enough\ to\ hold\ all\ digits\ (digits10\ +\ 1).}}
\DoxyCodeLine{01322\ \ \ Char\ buffer[digits10<UInt>()\ +\ 1]\ =\ \{\};}
\DoxyCodeLine{01323\ \ \ \textcolor{keyword}{auto}\ end\ =\ format\_decimal(buffer,\ value,\ size).end;}
\DoxyCodeLine{01324\ \ \ \textcolor{keywordflow}{return}\ \{out,\ detail::copy\_noinline<Char>(buffer,\ end,\ out)\};}
\DoxyCodeLine{01325\ \}}
\DoxyCodeLine{01326\ }
\DoxyCodeLine{01327\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01328\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ format\_uint(Char*\ buffer,\ UInt\ value,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ upper\ =\ \textcolor{keyword}{false})\ -\/>\ Char*\ \{}
\DoxyCodeLine{01330\ \ \ buffer\ +=\ num\_digits;}
\DoxyCodeLine{01331\ \ \ Char*\ end\ =\ buffer;}
\DoxyCodeLine{01332\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01333\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits\ =\ upper\ ?\ \textcolor{stringliteral}{"{}0123456789ABCDEF"{}}\ :\ \textcolor{stringliteral}{"{}0123456789abcdef"{}};}
\DoxyCodeLine{01334\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ digit\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(value\ \&\ ((1\ <<\ BASE\_BITS)\ -\/\ 1));}
\DoxyCodeLine{01335\ \ \ \ \ *-\/-\/buffer\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(BASE\_BITS\ <\ 4\ ?\ static\_cast<char>(\textcolor{charliteral}{'0'}\ +\ digit)}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ digits[digit]);}
\DoxyCodeLine{01337\ \ \ \}\ \textcolor{keywordflow}{while}\ ((value\ >>=\ BASE\_BITS)\ !=\ 0);}
\DoxyCodeLine{01338\ \ \ \textcolor{keywordflow}{return}\ end;}
\DoxyCodeLine{01339\ \}}
\DoxyCodeLine{01340\ }
\DoxyCodeLine{01341\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01342\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ format\_uint(It\ out,\ UInt\ value,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ upper\ =\ \textcolor{keyword}{false})\ -\/>\ It\ \{}
\DoxyCodeLine{01344\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ ptr\ =\ to\_pointer<Char>(out,\ to\_unsigned(num\_digits)))\ \{}
\DoxyCodeLine{01345\ \ \ \ \ format\_uint<BASE\_BITS>(ptr,\ value,\ num\_digits,\ upper);}
\DoxyCodeLine{01346\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01347\ \ \ \}}
\DoxyCodeLine{01348\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (digits\ /\ BASE\_BITS\ +\ 1).}}
\DoxyCodeLine{01349\ \ \ \textcolor{keywordtype}{char}\ buffer[num\_bits<UInt>()\ /\ BASE\_BITS\ +\ 1]\ =\ \{\};}
\DoxyCodeLine{01350\ \ \ format\_uint<BASE\_BITS>(buffer,\ value,\ num\_digits,\ upper);}
\DoxyCodeLine{01351\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_noinline<Char>(buffer,\ buffer\ +\ num\_digits,\ out);}
\DoxyCodeLine{01352\ \}}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \textcolor{comment}{//\ A\ converter\ from\ UTF-\/8\ to\ UTF-\/16.}}
\DoxyCodeLine{01355\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1utf8__to__utf16}{utf8\_to\_utf16}}\ \{}
\DoxyCodeLine{01356\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01357\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<wchar\_t>}}\ buffer\_;}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01360\ \ \ FMT\_API\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1utf8__to__utf16}{utf8\_to\_utf16}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s);}
\DoxyCodeLine{01361\ \ \ \textcolor{keyword}{operator}\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<wchar\_t>}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}
\DoxyCodeLine{01362\ \ \ \textcolor{keyword}{auto}\ size()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{\ \textcolor{keywordflow}{return}\ buffer\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}()\ -\/\ 1;\ \}}
\DoxyCodeLine{01363\ \ \ \textcolor{keyword}{auto}\ c\_str()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ \{\ \textcolor{keywordflow}{return}\ \&buffer\_[0];\ \}}
\DoxyCodeLine{01364\ \ \ \textcolor{keyword}{auto}\ str()\ \textcolor{keyword}{const}\ -\/>\ std::wstring\ \{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}
\DoxyCodeLine{01365\ \};}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \textcolor{keyword}{enum\ class}\ to\_utf8\_error\_policy\ \{\ abort,\ replace\ \};}
\DoxyCodeLine{01368\ }
\DoxyCodeLine{01369\ \textcolor{comment}{//\ A\ converter\ from\ UTF-\/16/UTF-\/32\ (host\ endian)\ to\ UTF-\/8.}}
\DoxyCodeLine{01370\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ WChar,\ \textcolor{keyword}{typename}\ Buffer\ =\ memory\_buffer>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1to__utf8}{to\_utf8}}\ \{}
\DoxyCodeLine{01371\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01372\ \ \ Buffer\ buffer\_;}
\DoxyCodeLine{01373\ }
\DoxyCodeLine{01374\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01375\ \ \ \mbox{\hyperlink{classdetail_1_1to__utf8}{to\_utf8}}()\ \{\}}
\DoxyCodeLine{01376\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1to__utf8}{to\_utf8}}(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<WChar>}}\ s,}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ to\_utf8\_error\_policy\ policy\ =\ to\_utf8\_error\_policy::abort)\ \{}
\DoxyCodeLine{01378\ \ \ \ \ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(WChar)\ ==\ 2\ ||\ \textcolor{keyword}{sizeof}(WChar)\ ==\ 4,}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Expect\ utf16\ or\ utf32"{}});}
\DoxyCodeLine{01380\ \ \ \ \ \textcolor{keywordflow}{if}\ (!convert(s,\ policy))}
\DoxyCodeLine{01381\ \ \ \ \ \ \ FMT\_THROW(std::runtime\_error(\textcolor{keyword}{sizeof}(WChar)\ ==\ 2\ ?\ \textcolor{stringliteral}{"{}invalid\ utf16"{}}}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{stringliteral}{"{}invalid\ utf32"{}}));}
\DoxyCodeLine{01383\ \ \ \}}
\DoxyCodeLine{01384\ \ \ \textcolor{keyword}{operator}\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(\&buffer\_[0],\ size());\ \}}
\DoxyCodeLine{01385\ \ \ \textcolor{keyword}{auto}\ size()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{\ \textcolor{keywordflow}{return}\ buffer\_.size()\ -\/\ 1;\ \}}
\DoxyCodeLine{01386\ \ \ \textcolor{keyword}{auto}\ c\_str()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \{\ \textcolor{keywordflow}{return}\ \&buffer\_[0];\ \}}
\DoxyCodeLine{01387\ \ \ \textcolor{keyword}{auto}\ str()\ \textcolor{keyword}{const}\ -\/>\ std::string\ \{\ \textcolor{keywordflow}{return}\ std::string(\&buffer\_[0],\ size());\ \}}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \ \ \textcolor{comment}{//\ Performs\ conversion\ returning\ a\ bool\ instead\ of\ throwing\ exception\ on}}
\DoxyCodeLine{01390\ \ \ \textcolor{comment}{//\ conversion\ error.\ This\ method\ may\ still\ throw\ in\ case\ of\ memory\ allocation}}
\DoxyCodeLine{01391\ \ \ \textcolor{comment}{//\ error.}}
\DoxyCodeLine{01392\ \ \ \textcolor{keyword}{auto}\ convert(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<WChar>}}\ s,}
\DoxyCodeLine{01393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ to\_utf8\_error\_policy\ policy\ =\ to\_utf8\_error\_policy::abort)}
\DoxyCodeLine{01394\ \ \ \ \ \ \ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01395\ \ \ \ \ \textcolor{keywordflow}{if}\ (!convert(buffer\_,\ s,\ policy))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01396\ \ \ \ \ buffer\_.push\_back(0);}
\DoxyCodeLine{01397\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01398\ \ \ \}}
\DoxyCodeLine{01399\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ convert(Buffer\&\ buf,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<WChar>}}\ s,}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ to\_utf8\_error\_policy\ policy\ =\ to\_utf8\_error\_policy::abort)}
\DoxyCodeLine{01401\ \ \ \ \ \ \ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01402\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ p\ =\ s.begin();\ p\ !=\ s.end();\ ++p)\ \{}
\DoxyCodeLine{01403\ \ \ \ \ \ \ uint32\_t\ c\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(*p);}
\DoxyCodeLine{01404\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(WChar)\ ==\ 2\ \&\&\ c\ >=\ 0xd800\ \&\&\ c\ <=\ 0xdfff)\ \{}
\DoxyCodeLine{01405\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Handle\ a\ surrogate\ pair.}}
\DoxyCodeLine{01406\ \ \ \ \ \ \ \ \ ++p;}
\DoxyCodeLine{01407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ ==\ s.end()\ ||\ (c\ \&\ 0xfc00)\ !=\ 0xd800\ ||\ (*p\ \&\ 0xfc00)\ !=\ 0xdc00)\ \{}
\DoxyCodeLine{01408\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (policy\ ==\ to\_utf8\_error\_policy::abort)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ \ \ buf.append(\mbox{\hyperlink{classbasic__string__view}{string\_view}}(\textcolor{stringliteral}{"{}\(\backslash\)xEF\(\backslash\)xBF\(\backslash\)xBD"{}}));}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ \ \ -\/-\/p;}
\DoxyCodeLine{01411\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01412\ \ \ \ \ \ \ \ \ \ \ c\ =\ (c\ <<\ 10)\ +\ static\_cast<uint32\_t>(*p)\ -\/\ 0x35fdc00;}
\DoxyCodeLine{01413\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01414\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (c\ <\ 0x80)\ \{}
\DoxyCodeLine{01415\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(c));}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (c\ <\ 0x800)\ \{}
\DoxyCodeLine{01417\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xc0\ |\ (c\ >>\ 6)));}
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80\ |\ (c\ \&\ 0x3f)));}
\DoxyCodeLine{01419\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((c\ >=\ 0x800\ \&\&\ c\ <=\ 0xd7ff)\ ||\ (c\ >=\ 0xe000\ \&\&\ c\ <=\ 0xffff))\ \{}
\DoxyCodeLine{01420\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xe0\ |\ (c\ >>\ 12)));}
\DoxyCodeLine{01421\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80\ |\ ((c\ \&\ 0xfff)\ >>\ 6)));}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80\ |\ (c\ \&\ 0x3f)));}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (c\ >=\ 0x10000\ \&\&\ c\ <=\ 0x10ffff)\ \{}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xf0\ |\ (c\ >>\ 18)));}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80\ |\ ((c\ \&\ 0x3ffff)\ >>\ 12)));}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80\ |\ ((c\ \&\ 0xfff)\ >>\ 6)));}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80\ |\ (c\ \&\ 0x3f)));}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01430\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01431\ \ \ \ \ \}}
\DoxyCodeLine{01432\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01433\ \ \ \}}
\DoxyCodeLine{01434\ \};}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \textcolor{comment}{//\ Computes\ 128-\/bit\ result\ of\ multiplication\ of\ two\ 64-\/bit\ unsigned\ integers.}}
\DoxyCodeLine{01437\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ umul128(uint64\_t\ x,\ uint64\_t\ y)\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{classdetail_1_1uint128__fallback}{uint128\_fallback}}\ \{}
\DoxyCodeLine{01438\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{01439\ \ \ \textcolor{keyword}{auto}\ p\ =\ \textcolor{keyword}{static\_cast<}uint128\_opt\textcolor{keyword}{>}(x)\ *\ \textcolor{keyword}{static\_cast<}uint128\_opt\textcolor{keyword}{>}(y);}
\DoxyCodeLine{01440\ \ \ \textcolor{keywordflow}{return}\ \{\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(p\ >>\ 64),\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(p)\};}
\DoxyCodeLine{01441\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)\ \&\&\ defined(\_M\_X64)}}
\DoxyCodeLine{01442\ \ \ \textcolor{keyword}{auto}\ hi\ =\ uint64\_t();}
\DoxyCodeLine{01443\ \ \ \textcolor{keyword}{auto}\ lo\ =\ \_umul128(x,\ y,\ \&hi);}
\DoxyCodeLine{01444\ \ \ \textcolor{keywordflow}{return}\ \{hi,\ lo\};}
\DoxyCodeLine{01445\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01446\ \ \ \textcolor{keyword}{const}\ uint64\_t\ mask\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(max\_value<uint32\_t>());}
\DoxyCodeLine{01447\ }
\DoxyCodeLine{01448\ \ \ uint64\_t\ a\ =\ x\ >>\ 32;}
\DoxyCodeLine{01449\ \ \ uint64\_t\ b\ =\ x\ \&\ mask;}
\DoxyCodeLine{01450\ \ \ uint64\_t\ c\ =\ y\ >>\ 32;}
\DoxyCodeLine{01451\ \ \ uint64\_t\ d\ =\ y\ \&\ mask;}
\DoxyCodeLine{01452\ }
\DoxyCodeLine{01453\ \ \ uint64\_t\ ac\ =\ a\ *\ c;}
\DoxyCodeLine{01454\ \ \ uint64\_t\ bc\ =\ b\ *\ c;}
\DoxyCodeLine{01455\ \ \ uint64\_t\ ad\ =\ a\ *\ d;}
\DoxyCodeLine{01456\ \ \ uint64\_t\ bd\ =\ b\ *\ d;}
\DoxyCodeLine{01457\ }
\DoxyCodeLine{01458\ \ \ uint64\_t\ intermediate\ =\ (bd\ >>\ 32)\ +\ (ad\ \&\ mask)\ +\ (bc\ \&\ mask);}
\DoxyCodeLine{01459\ }
\DoxyCodeLine{01460\ \ \ \textcolor{keywordflow}{return}\ \{ac\ +\ (intermediate\ >>\ 32)\ +\ (ad\ >>\ 32)\ +\ (bc\ >>\ 32),}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \ \ (intermediate\ <<\ 32)\ +\ (bd\ \&\ mask)\};}
\DoxyCodeLine{01462\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01463\ \}}
\DoxyCodeLine{01464\ }
\DoxyCodeLine{01465\ \textcolor{keyword}{namespace\ }dragonbox\ \{}
\DoxyCodeLine{01466\ \textcolor{comment}{//\ Computes\ floor(log10(pow(2,\ e)))\ for\ e\ in\ [-\/2620,\ 2620]\ using\ the\ method\ from}}
\DoxyCodeLine{01467\ \textcolor{comment}{//\ https://fmt.dev/papers/Dragonbox.pdf\#page=28,\ section\ 6.1.}}
\DoxyCodeLine{01468\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ floor\_log10\_pow2(\textcolor{keywordtype}{int}\ e)\ \textcolor{keyword}{noexcept}\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01469\ \ \ FMT\_ASSERT(e\ <=\ 2620\ \&\&\ e\ >=\ -\/2620,\ \textcolor{stringliteral}{"{}too\ large\ exponent"{}});}
\DoxyCodeLine{01470\ \ \ \textcolor{keyword}{static\_assert}((-\/1\ >>\ 1)\ ==\ -\/1,\ \textcolor{stringliteral}{"{}right\ shift\ is\ not\ arithmetic"{}});}
\DoxyCodeLine{01471\ \ \ \textcolor{keywordflow}{return}\ (e\ *\ 315653)\ >>\ 20;}
\DoxyCodeLine{01472\ \}}
\DoxyCodeLine{01473\ }
\DoxyCodeLine{01474\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ floor\_log2\_pow10(\textcolor{keywordtype}{int}\ e)\ \textcolor{keyword}{noexcept}\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01475\ \ \ FMT\_ASSERT(e\ <=\ 1233\ \&\&\ e\ >=\ -\/1233,\ \textcolor{stringliteral}{"{}too\ large\ exponent"{}});}
\DoxyCodeLine{01476\ \ \ \textcolor{keywordflow}{return}\ (e\ *\ 1741647)\ >>\ 19;}
\DoxyCodeLine{01477\ \}}
\DoxyCodeLine{01478\ }
\DoxyCodeLine{01479\ \textcolor{comment}{//\ Computes\ upper\ 64\ bits\ of\ multiplication\ of\ two\ 64-\/bit\ unsigned\ integers.}}
\DoxyCodeLine{01480\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ umul128\_upper64(uint64\_t\ x,\ uint64\_t\ y)\ \textcolor{keyword}{noexcept}\ -\/>\ uint64\_t\ \{}
\DoxyCodeLine{01481\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{01482\ \ \ \textcolor{keyword}{auto}\ p\ =\ \textcolor{keyword}{static\_cast<}uint128\_opt\textcolor{keyword}{>}(x)\ *\ \textcolor{keyword}{static\_cast<}uint128\_opt\textcolor{keyword}{>}(y);}
\DoxyCodeLine{01483\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(p\ >>\ 64);}
\DoxyCodeLine{01484\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)\ \&\&\ defined(\_M\_X64)}}
\DoxyCodeLine{01485\ \ \ \textcolor{keywordflow}{return}\ \_\_umulh(x,\ y);}
\DoxyCodeLine{01486\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01487\ \ \ \textcolor{keywordflow}{return}\ umul128(x,\ y).high();}
\DoxyCodeLine{01488\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01489\ \}}
\DoxyCodeLine{01490\ }
\DoxyCodeLine{01491\ \textcolor{comment}{//\ Computes\ upper\ 128\ bits\ of\ multiplication\ of\ a\ 64-\/bit\ unsigned\ integer\ and\ a}}
\DoxyCodeLine{01492\ \textcolor{comment}{//\ 128-\/bit\ unsigned\ integer.}}
\DoxyCodeLine{01493\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ umul192\_upper128(uint64\_t\ x,\ uint128\_fallback\ y)\ \textcolor{keyword}{noexcept}}
\DoxyCodeLine{01494\ \ \ \ \ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{01495\ \ \ uint128\_fallback\ r\ =\ umul128(x,\ y.high());}
\DoxyCodeLine{01496\ \ \ r\ +=\ umul128\_upper64(x,\ y.low());}
\DoxyCodeLine{01497\ \ \ \textcolor{keywordflow}{return}\ r;}
\DoxyCodeLine{01498\ \}}
\DoxyCodeLine{01499\ }
\DoxyCodeLine{01500\ FMT\_API\ \textcolor{keyword}{auto}\ get\_cached\_power(\textcolor{keywordtype}{int}\ k)\ \textcolor{keyword}{noexcept}\ -\/>\ uint128\_fallback;}
\DoxyCodeLine{01501\ }
\DoxyCodeLine{01502\ \textcolor{comment}{//\ Type-\/specific\ information\ that\ Dragonbox\ uses.}}
\DoxyCodeLine{01503\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{float\_info}};}
\DoxyCodeLine{01504\ }
\DoxyCodeLine{01505\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{float\_info}}<float>\ \{}
\DoxyCodeLine{01506\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ uint32\_t;}
\DoxyCodeLine{01507\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exponent\_bits\ =\ 8;}
\DoxyCodeLine{01508\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kappa\ =\ 1;}
\DoxyCodeLine{01509\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ big\_divisor\ =\ 100;}
\DoxyCodeLine{01510\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ small\_divisor\ =\ 10;}
\DoxyCodeLine{01511\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ min\_k\ =\ -\/31;}
\DoxyCodeLine{01512\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_k\ =\ 46;}
\DoxyCodeLine{01513\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_lower\_threshold\ =\ -\/35;}
\DoxyCodeLine{01514\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_upper\_threshold\ =\ -\/35;}
\DoxyCodeLine{01515\ \};}
\DoxyCodeLine{01516\ }
\DoxyCodeLine{01517\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{float\_info}}<double>\ \{}
\DoxyCodeLine{01518\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ uint64\_t;}
\DoxyCodeLine{01519\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exponent\_bits\ =\ 11;}
\DoxyCodeLine{01520\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kappa\ =\ 2;}
\DoxyCodeLine{01521\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ big\_divisor\ =\ 1000;}
\DoxyCodeLine{01522\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ small\_divisor\ =\ 100;}
\DoxyCodeLine{01523\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ min\_k\ =\ -\/292;}
\DoxyCodeLine{01524\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_k\ =\ 341;}
\DoxyCodeLine{01525\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_lower\_threshold\ =\ -\/77;}
\DoxyCodeLine{01526\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_upper\_threshold\ =\ -\/77;}
\DoxyCodeLine{01527\ \};}
\DoxyCodeLine{01528\ }
\DoxyCodeLine{01529\ \textcolor{comment}{//\ An\ 80-\/\ or\ 128-\/bit\ floating\ point\ number.}}
\DoxyCodeLine{01530\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01531\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{float\_info}}<T,\ enable\_if\_t<std::numeric\_limits<T>::digits\ ==\ 64\ ||}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<T>::digits\ ==\ 113\ ||}
\DoxyCodeLine{01533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_float128<T>::value>>\ \{}
\DoxyCodeLine{01534\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ detail::uint128\_t;}
\DoxyCodeLine{01535\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exponent\_bits\ =\ 15;}
\DoxyCodeLine{01536\ \};}
\DoxyCodeLine{01537\ }
\DoxyCodeLine{01538\ \textcolor{comment}{//\ A\ double-\/double\ floating\ point\ number.}}
\DoxyCodeLine{01539\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01540\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{float\_info}}<T,\ enable\_if\_t<is\_double\_double<T>::\mbox{\hyperlink{classdetail_1_1value}{value}}>>\ \{}
\DoxyCodeLine{01541\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ detail::uint128\_t;}
\DoxyCodeLine{01542\ \};}
\DoxyCodeLine{01543\ }
\DoxyCodeLine{01544\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dragonbox_1_1decimal__fp}{decimal\_fp}}\ \{}
\DoxyCodeLine{01545\ \ \ \textcolor{keyword}{using\ }significand\_type\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{float\_info<T>::carrier\_uint}};}
\DoxyCodeLine{01546\ \ \ significand\_type\ significand;}
\DoxyCodeLine{01547\ \ \ \textcolor{keywordtype}{int}\ exponent;}
\DoxyCodeLine{01548\ \};}
\DoxyCodeLine{01549\ }
\DoxyCodeLine{01550\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ FMT\_API\ \textcolor{keyword}{auto}\ to\_decimal(T\ x)\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{structdetail_1_1dragonbox_1_1decimal__fp}{decimal\_fp<T>}};}
\DoxyCodeLine{01551\ \}\ \ \textcolor{comment}{//\ namespace\ dragonbox}}
\DoxyCodeLine{01552\ }
\DoxyCodeLine{01553\ \textcolor{comment}{//\ Returns\ true\ iff\ Float\ has\ the\ implicit\ bit\ which\ is\ not\ stored.}}
\DoxyCodeLine{01554\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ has\_implicit\_bit()\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01555\ \ \ \textcolor{comment}{//\ An\ 80-\/bit\ FP\ number\ has\ a\ 64-\/bit\ significand\ an\ no\ implicit\ bit.}}
\DoxyCodeLine{01556\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<Float>::digits\ !=\ 64;}
\DoxyCodeLine{01557\ \}}
\DoxyCodeLine{01558\ }
\DoxyCodeLine{01559\ \textcolor{comment}{//\ Returns\ the\ number\ of\ significand\ bits\ stored\ in\ Float.\ The\ implicit\ bit\ is}}
\DoxyCodeLine{01560\ \textcolor{comment}{//\ not\ counted\ since\ it\ is\ not\ stored.}}
\DoxyCodeLine{01561\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_significand\_bits()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01562\ \ \ \textcolor{comment}{//\ std::numeric\_limits\ may\ not\ support\ \_\_float128.}}
\DoxyCodeLine{01563\ \ \ \textcolor{keywordflow}{return}\ is\_float128<Float>()\ ?\ 112}
\DoxyCodeLine{01564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ (std::numeric\_limits<Float>::digits\ -\/}
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (has\_implicit\_bit<Float>()\ ?\ 1\ :\ 0));}
\DoxyCodeLine{01566\ \}}
\DoxyCodeLine{01567\ }
\DoxyCodeLine{01568\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>}
\DoxyCodeLine{01569\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ exponent\_mask()\ -\/>}
\DoxyCodeLine{01570\ \ \ \ \ \textcolor{keyword}{typename}\ dragonbox::float\_info<Float>::carrier\_uint\ \{}
\DoxyCodeLine{01571\ \ \ \textcolor{keyword}{using\ }float\_uint\ =\ \textcolor{keyword}{typename}\ dragonbox::float\_info<Float>::carrier\_uint;}
\DoxyCodeLine{01572\ \ \ \textcolor{keywordflow}{return}\ ((float\_uint(1)\ <<\ dragonbox::float\_info<Float>::exponent\_bits)\ -\/\ 1)}
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ \ <<\ num\_significand\_bits<Float>();}
\DoxyCodeLine{01574\ \}}
\DoxyCodeLine{01575\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ exponent\_bias()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01576\ \ \ \textcolor{comment}{//\ std::numeric\_limits\ may\ not\ support\ \_\_float128.}}
\DoxyCodeLine{01577\ \ \ \textcolor{keywordflow}{return}\ is\_float128<Float>()\ ?\ 16383}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<Float>::max\_exponent\ -\/\ 1;}
\DoxyCodeLine{01579\ \}}
\DoxyCodeLine{01580\ }
\DoxyCodeLine{01581\ \textcolor{comment}{//\ Writes\ the\ exponent\ exp\ in\ the\ form\ "{}[+-\/]d\{2,3\}"{}\ to\ buffer.}}
\DoxyCodeLine{01582\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ It>}
\DoxyCodeLine{01583\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_exponent(\textcolor{keywordtype}{int}\ exp,\ It\ it)\ -\/>\ It\ \{}
\DoxyCodeLine{01584\ \ \ FMT\_ASSERT(-\/10000\ <\ exp\ \&\&\ exp\ <\ 10000,\ \textcolor{stringliteral}{"{}exponent\ out\ of\ range"{}});}
\DoxyCodeLine{01585\ \ \ \textcolor{keywordflow}{if}\ (exp\ <\ 0)\ \{}
\DoxyCodeLine{01586\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{01587\ \ \ \ \ exp\ =\ -\/exp;}
\DoxyCodeLine{01588\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01589\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{01590\ \ \ \}}
\DoxyCodeLine{01591\ \ \ \textcolor{keywordflow}{if}\ (exp\ >=\ 100)\ \{}
\DoxyCodeLine{01592\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ top\ =\ digits2(to\_unsigned(exp\ /\ 100));}
\DoxyCodeLine{01593\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\ >=\ 1000)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(top[0]);}
\DoxyCodeLine{01594\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(top[1]);}
\DoxyCodeLine{01595\ \ \ \ \ exp\ \%=\ 100;}
\DoxyCodeLine{01596\ \ \ \}}
\DoxyCodeLine{01597\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ d\ =\ digits2(to\_unsigned(exp));}
\DoxyCodeLine{01598\ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(d[0]);}
\DoxyCodeLine{01599\ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(d[1]);}
\DoxyCodeLine{01600\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01601\ \}}
\DoxyCodeLine{01602\ }
\DoxyCodeLine{01603\ \textcolor{comment}{//\ A\ floating-\/point\ number\ f\ *\ pow(2,\ e)\ where\ F\ is\ an\ unsigned\ type.}}
\DoxyCodeLine{01604\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp}}\ \{}
\DoxyCodeLine{01605\ \ \ F\ f;}
\DoxyCodeLine{01606\ \ \ \textcolor{keywordtype}{int}\ e;}
\DoxyCodeLine{01607\ }
\DoxyCodeLine{01608\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ num\_significand\_bits\ =}
\DoxyCodeLine{01609\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(F)\ *\ num\_bits<unsigned\ char>());}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp}}()\ :\ f(0),\ e(0)\ \{\}}
\DoxyCodeLine{01612\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp}}(uint64\_t\ f\_val,\ \textcolor{keywordtype}{int}\ e\_val)\ :\ f(f\_val),\ e(e\_val)\ \{\}}
\DoxyCodeLine{01613\ }
\DoxyCodeLine{01614\ \ \ \textcolor{comment}{//\ Constructs\ fp\ from\ an\ IEEE754\ floating-\/point\ number.}}
\DoxyCodeLine{01615\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp}}(Float\ n)\ \{\ assign(n);\ \}}
\DoxyCodeLine{01616\ }
\DoxyCodeLine{01617\ \ \ \textcolor{comment}{//\ Assigns\ n\ to\ this\ and\ return\ true\ iff\ predecessor\ is\ closer\ than\ successor.}}
\DoxyCodeLine{01618\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{double}\_\textcolor{keywordtype}{double}<Float>::value)>}
\DoxyCodeLine{01619\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ assign(Float\ n)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01620\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::numeric\_limits<Float>::digits\ <=\ 113,\ \textcolor{stringliteral}{"{}unsupported\ FP"{}});}
\DoxyCodeLine{01621\ \ \ \ \ \textcolor{comment}{//\ Assume\ Float\ is\ in\ the\ format\ [sign][exponent][significand].}}
\DoxyCodeLine{01622\ \ \ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdetail_1_1dragonbox_1_1float__info}{dragonbox::float\_info<Float>::carrier\_uint}};}
\DoxyCodeLine{01623\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ num\_float\_significand\_bits\ =}
\DoxyCodeLine{01624\ \ \ \ \ \ \ \ \ detail::num\_significand\_bits<Float>();}
\DoxyCodeLine{01625\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ implicit\_bit\ =\ carrier\_uint(1)\ <<\ num\_float\_significand\_bits;}
\DoxyCodeLine{01626\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ significand\_mask\ =\ implicit\_bit\ -\/\ 1;}
\DoxyCodeLine{01627\ \ \ \ \ \textcolor{keyword}{auto}\ u\ =\ bit\_cast<carrier\_uint>(n);}
\DoxyCodeLine{01628\ \ \ \ \ f\ =\ \textcolor{keyword}{static\_cast<}F\textcolor{keyword}{>}(u\ \&\ significand\_mask);}
\DoxyCodeLine{01629\ \ \ \ \ \textcolor{keyword}{auto}\ biased\_e\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((u\ \&\ exponent\_mask<Float>())\ >>}
\DoxyCodeLine{01630\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_float\_significand\_bits);}
\DoxyCodeLine{01631\ \ \ \ \ \textcolor{comment}{//\ The\ predecessor\ is\ closer\ if\ n\ is\ a\ normalized\ power\ of\ 2\ (f\ ==\ 0)}}
\DoxyCodeLine{01632\ \ \ \ \ \textcolor{comment}{//\ other\ than\ the\ smallest\ normalized\ number\ (biased\_e\ >\ 1).}}
\DoxyCodeLine{01633\ \ \ \ \ \textcolor{keyword}{auto}\ is\_predecessor\_closer\ =\ f\ ==\ 0\ \&\&\ biased\_e\ >\ 1;}
\DoxyCodeLine{01634\ \ \ \ \ \textcolor{keywordflow}{if}\ (biased\_e\ ==\ 0)}
\DoxyCodeLine{01635\ \ \ \ \ \ \ biased\_e\ =\ 1;\ \ \textcolor{comment}{//\ Subnormals\ use\ biased\ exponent\ 1\ (min\ exponent).}}
\DoxyCodeLine{01636\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (has\_implicit\_bit<Float>())}
\DoxyCodeLine{01637\ \ \ \ \ \ \ f\ +=\ \textcolor{keyword}{static\_cast<}F\textcolor{keyword}{>}(implicit\_bit);}
\DoxyCodeLine{01638\ \ \ \ \ e\ =\ biased\_e\ -\/\ exponent\_bias<Float>()\ -\/\ num\_float\_significand\_bits;}
\DoxyCodeLine{01639\ \ \ \ \ \textcolor{keywordflow}{if}\ (!has\_implicit\_bit<Float>())\ ++e;}
\DoxyCodeLine{01640\ \ \ \ \ \textcolor{keywordflow}{return}\ is\_predecessor\_closer;}
\DoxyCodeLine{01641\ \ \ \}}
\DoxyCodeLine{01642\ }
\DoxyCodeLine{01643\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{double}\_\textcolor{keywordtype}{double}<Float>::value)>}
\DoxyCodeLine{01644\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ assign(Float\ n)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01645\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::numeric\_limits<double>::is\_iec559,\ \textcolor{stringliteral}{"{}unsupported\ FP"{}});}
\DoxyCodeLine{01646\ \ \ \ \ \textcolor{keywordflow}{return}\ assign(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(n));}
\DoxyCodeLine{01647\ \ \ \}}
\DoxyCodeLine{01648\ \};}
\DoxyCodeLine{01649\ }
\DoxyCodeLine{01650\ \textcolor{keyword}{using\ }\mbox{\hyperlink{structdetail_1_1basic__fp}{fp}}\ =\ \mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp<unsigned\ long\ long>}};}
\DoxyCodeLine{01651\ }
\DoxyCodeLine{01652\ \textcolor{comment}{//\ Normalizes\ the\ value\ converted\ from\ double\ and\ multiplied\ by\ (1\ <<\ SHIFT).}}
\DoxyCodeLine{01653\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ SHIFT\ =\ 0,\ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01654\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ normalize(\mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp<F>}}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \mbox{\hyperlink{structdetail_1_1basic__fp}{basic\_fp<F>}}\ \{}
\DoxyCodeLine{01655\ \ \ \textcolor{comment}{//\ Handle\ subnormals.}}
\DoxyCodeLine{01656\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ implicit\_bit\ =\ F(1)\ <<\ num\_significand\_bits<double>();}
\DoxyCodeLine{01657\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ shifted\_implicit\_bit\ =\ implicit\_bit\ <<\ SHIFT;}
\DoxyCodeLine{01658\ \ \ \textcolor{keywordflow}{while}\ ((\mbox{\hyperlink{classdetail_1_1value}{value}}.f\ \&\ shifted\_implicit\_bit)\ ==\ 0)\ \{}
\DoxyCodeLine{01659\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1value}{value}}.f\ <<=\ 1;}
\DoxyCodeLine{01660\ \ \ \ \ -\/-\/\mbox{\hyperlink{classdetail_1_1value}{value}}.e;}
\DoxyCodeLine{01661\ \ \ \}}
\DoxyCodeLine{01662\ \ \ \textcolor{comment}{//\ Subtract\ 1\ to\ account\ for\ hidden\ bit.}}
\DoxyCodeLine{01663\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ offset\ =\ basic\_fp<F>::num\_significand\_bits\ -\/}
\DoxyCodeLine{01664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_significand\_bits<double>()\ -\/\ SHIFT\ -\/\ 1;}
\DoxyCodeLine{01665\ \ \ value.f\ <<=\ offset;}
\DoxyCodeLine{01666\ \ \ value.e\ -\/=\ offset;}
\DoxyCodeLine{01667\ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{01668\ \}}
\DoxyCodeLine{01669\ }
\DoxyCodeLine{01670\ \textcolor{comment}{//\ Computes\ lhs\ *\ rhs\ /\ pow(2,\ 64)\ rounded\ to\ nearest\ with\ half-\/up\ tie\ breaking.}}
\DoxyCodeLine{01671\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ multiply(uint64\_t\ lhs,\ uint64\_t\ rhs)\ -\/>\ uint64\_t\ \{}
\DoxyCodeLine{01672\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{01673\ \ \ \textcolor{keyword}{auto}\ product\ =\ \textcolor{keyword}{static\_cast<}\_\_uint128\_t\textcolor{keyword}{>}(lhs)\ *\ rhs;}
\DoxyCodeLine{01674\ \ \ \textcolor{keyword}{auto}\ f\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(product\ >>\ 64);}
\DoxyCodeLine{01675\ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(product)\ \&\ (1ULL\ <<\ 63))\ !=\ 0\ ?\ f\ +\ 1\ :\ f;}
\DoxyCodeLine{01676\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01677\ \ \ \textcolor{comment}{//\ Multiply\ 32-\/bit\ parts\ of\ significands.}}
\DoxyCodeLine{01678\ \ \ uint64\_t\ mask\ =\ (1ULL\ <<\ 32)\ -\/\ 1;}
\DoxyCodeLine{01679\ \ \ uint64\_t\ a\ =\ lhs\ >>\ 32,\ b\ =\ lhs\ \&\ mask;}
\DoxyCodeLine{01680\ \ \ uint64\_t\ c\ =\ rhs\ >>\ 32,\ d\ =\ rhs\ \&\ mask;}
\DoxyCodeLine{01681\ \ \ uint64\_t\ ac\ =\ a\ *\ c,\ bc\ =\ b\ *\ c,\ ad\ =\ a\ *\ d,\ bd\ =\ b\ *\ d;}
\DoxyCodeLine{01682\ \ \ \textcolor{comment}{//\ Compute\ mid\ 64-\/bit\ of\ result\ and\ round.}}
\DoxyCodeLine{01683\ \ \ uint64\_t\ mid\ =\ (bd\ >>\ 32)\ +\ (ad\ \&\ mask)\ +\ (bc\ \&\ mask)\ +\ (1U\ <<\ 31);}
\DoxyCodeLine{01684\ \ \ \textcolor{keywordflow}{return}\ ac\ +\ (ad\ >>\ 32)\ +\ (bc\ >>\ 32)\ +\ (mid\ >>\ 32);}
\DoxyCodeLine{01685\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01686\ \}}
\DoxyCodeLine{01687\ }
\DoxyCodeLine{01688\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ operator*(fp\ x,\ fp\ y)\ -\/>\ fp\ \{}
\DoxyCodeLine{01689\ \ \ \textcolor{keywordflow}{return}\ \{multiply(x.f,\ y.f),\ x.e\ +\ y.e\ +\ 64\};}
\DoxyCodeLine{01690\ \}}
\DoxyCodeLine{01691\ }
\DoxyCodeLine{01692\ template\ <typename\ T,\ bool\ doublish\ =\ num\_bits<T>()\ ==\ num\_bits<double>()>}
\DoxyCodeLine{01693\ \textcolor{keyword}{using\ }convert\_float\_result\ =}
\DoxyCodeLine{01694\ \ \ \ \ conditional\_t<std::is\_same<T,\ float>::value\ ||\ doublish,\ double,\ T>;}
\DoxyCodeLine{01695\ }
\DoxyCodeLine{01696\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01697\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ convert\_float(T\ value)\ -\/>\ convert\_float\_result<T>\ \{}
\DoxyCodeLine{01698\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}convert\_float\_result<T>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{01699\ \}}
\DoxyCodeLine{01700\ }
\DoxyCodeLine{01701\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01702\ FMT\_NOINLINE\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ fill(OutputIt\ it,\ \textcolor{keywordtype}{size\_t}\ n,\ \textcolor{keyword}{const}\ fill\_t\&\ fill)}
\DoxyCodeLine{01703\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01704\ \ \ \textcolor{keyword}{auto}\ fill\_size\ =\ fill.size();}
\DoxyCodeLine{01705\ \ \ \textcolor{keywordflow}{if}\ (fill\_size\ ==\ 1)\ \textcolor{keywordflow}{return}\ detail::fill\_n(it,\ n,\ fill.template\ get<Char>());}
\DoxyCodeLine{01706\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{const}\ Char*\ data\ =\ fill.template\ data<Char>())\ \{}
\DoxyCodeLine{01707\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ it\ =\ copy<Char>(data,\ data\ +\ fill\_size,\ it);}
\DoxyCodeLine{01708\ \ \ \}}
\DoxyCodeLine{01709\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01710\ \}}
\DoxyCodeLine{01711\ }
\DoxyCodeLine{01712\ \textcolor{comment}{//\ Writes\ the\ output\ of\ f,\ padded\ according\ to\ format\ specifications\ in\ specs.}}
\DoxyCodeLine{01713\ \textcolor{comment}{//\ size:\ output\ size\ in\ code\ units.}}
\DoxyCodeLine{01714\ \textcolor{comment}{//\ width:\ output\ display\ width\ in\ (terminal)\ column\ positions.}}
\DoxyCodeLine{01715\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{01716\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01717\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_padded(OutputIt\ out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{01718\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size,\ \textcolor{keywordtype}{size\_t}\ width,\ F\&\&\ f)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01719\ \ \ \textcolor{keyword}{static\_assert}(align\ ==\ align::left\ ||\ align\ ==\ align::right,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01720\ \ \ \textcolor{keywordtype}{unsigned}\ spec\_width\ =\ to\_unsigned(specs.width);}
\DoxyCodeLine{01721\ \ \ \textcolor{keywordtype}{size\_t}\ padding\ =\ spec\_width\ >\ width\ ?\ spec\_width\ -\/\ width\ :\ 0;}
\DoxyCodeLine{01722\ \ \ \textcolor{comment}{//\ Shifts\ are\ encoded\ as\ string\ literals\ because\ static\ constexpr\ is\ not}}
\DoxyCodeLine{01723\ \ \ \textcolor{comment}{//\ supported\ in\ constexpr\ functions.}}
\DoxyCodeLine{01724\ \ \ \textcolor{keyword}{auto}*\ shifts\ =\ align\ ==\ align::left\ ?\ \textcolor{stringliteral}{"{}\(\backslash\)x1f\(\backslash\)x1f\(\backslash\)x00\(\backslash\)x01"{}}\ :\ \textcolor{stringliteral}{"{}\(\backslash\)x00\(\backslash\)x1f\(\backslash\)x00\(\backslash\)x01"{}};}
\DoxyCodeLine{01725\ \ \ \textcolor{keywordtype}{size\_t}\ left\_padding\ =\ padding\ >>\ shifts[specs.align];}
\DoxyCodeLine{01726\ \ \ \textcolor{keywordtype}{size\_t}\ right\_padding\ =\ padding\ -\/\ left\_padding;}
\DoxyCodeLine{01727\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ size\ +\ padding\ *\ specs.fill.size());}
\DoxyCodeLine{01728\ \ \ \textcolor{keywordflow}{if}\ (left\_padding\ !=\ 0)\ it\ =\ fill<Char>(it,\ left\_padding,\ specs.fill);}
\DoxyCodeLine{01729\ \ \ it\ =\ f(it);}
\DoxyCodeLine{01730\ \ \ \textcolor{keywordflow}{if}\ (right\_padding\ !=\ 0)\ it\ =\ fill<Char>(it,\ right\_padding,\ specs.fill);}
\DoxyCodeLine{01731\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01732\ \}}
\DoxyCodeLine{01733\ }
\DoxyCodeLine{01734\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{01735\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01736\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ write\_padded(OutputIt\ out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{01737\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size,\ F\&\&\ f)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01738\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align>(out,\ specs,\ size,\ size,\ f);}
\DoxyCodeLine{01739\ \}}
\DoxyCodeLine{01740\ }
\DoxyCodeLine{01741\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01742\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_bytes(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ \mbox{\hyperlink{classbytes}{bytes}},}
\DoxyCodeLine{01743\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01744\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align>(}
\DoxyCodeLine{01745\ \ \ \ \ \ \ out,\ specs,\ \mbox{\hyperlink{classbytes}{bytes}}.size(),\ [\mbox{\hyperlink{classbytes}{bytes}}](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01746\ \ \ \ \ \ \ \ \ const\ char*\ data\ =\ bytes.data();}
\DoxyCodeLine{01747\ \ \ \ \ \ \ \ \ return\ copy<Char>(data,\ data\ +\ bytes.size(),\ it);}
\DoxyCodeLine{01748\ \ \ \ \ \ \ \});}
\DoxyCodeLine{01749\ \}}
\DoxyCodeLine{01750\ }
\DoxyCodeLine{01751\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UIntPtr>}
\DoxyCodeLine{01752\ \textcolor{keyword}{auto}\ write\_ptr(OutputIt\ out,\ UIntPtr\ value,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}*\ specs)}
\DoxyCodeLine{01753\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01754\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<4>(value);}
\DoxyCodeLine{01755\ \ \ \textcolor{keyword}{auto}\ size\ =\ to\_unsigned(num\_digits)\ +\ size\_t(2);}
\DoxyCodeLine{01756\ \ \ \textcolor{keyword}{auto}\ write\ =\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01757\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{01758\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'x'});}
\DoxyCodeLine{01759\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<4,\ Char>(it,\ value,\ num\_digits);}
\DoxyCodeLine{01760\ \ \ \};}
\DoxyCodeLine{01761\ \ \ \textcolor{keywordflow}{return}\ specs\ ?\ write\_padded<Char,\ align::right>(out,\ *specs,\ size,\ write)}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ base\_iterator(out,\ write(reserve(out,\ size)));}
\DoxyCodeLine{01763\ \}}
\DoxyCodeLine{01764\ }
\DoxyCodeLine{01765\ \textcolor{comment}{//\ Returns\ true\ iff\ the\ code\ point\ cp\ is\ printable.}}
\DoxyCodeLine{01766\ FMT\_API\ \textcolor{keyword}{auto}\ is\_printable(uint32\_t\ cp)\ -\/>\ bool;}
\DoxyCodeLine{01767\ }
\DoxyCodeLine{01768\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ needs\_escape(uint32\_t\ cp)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01769\ \ \ \textcolor{keywordflow}{return}\ cp\ <\ 0x20\ ||\ cp\ ==\ 0x7f\ ||\ cp\ ==\ \textcolor{charliteral}{'"{}'}\ ||\ cp\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}\ ||}
\DoxyCodeLine{01770\ \ \ \ \ \ \ \ \ \ !is\_printable(cp);}
\DoxyCodeLine{01771\ \}}
\DoxyCodeLine{01772\ }
\DoxyCodeLine{01773\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1find__escape__result}{find\_escape\_result}}\ \{}
\DoxyCodeLine{01774\ \ \ \textcolor{keyword}{const}\ Char*\ begin;}
\DoxyCodeLine{01775\ \ \ \textcolor{keyword}{const}\ Char*\ end;}
\DoxyCodeLine{01776\ \ \ uint32\_t\ cp;}
\DoxyCodeLine{01777\ \};}
\DoxyCodeLine{01778\ }
\DoxyCodeLine{01779\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01780\ \textcolor{keyword}{auto}\ find\_escape(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)}
\DoxyCodeLine{01781\ \ \ \ \ -\/>\ \mbox{\hyperlink{structdetail_1_1find__escape__result}{find\_escape\_result<Char>}}\ \{}
\DoxyCodeLine{01782\ \ \ \textcolor{keywordflow}{for}\ (;\ begin\ !=\ end;\ ++begin)\ \{}
\DoxyCodeLine{01783\ \ \ \ \ uint32\_t\ cp\ =\ \textcolor{keyword}{static\_cast<}unsigned\_char<Char>\textcolor{keyword}{>}(*begin);}
\DoxyCodeLine{01784\ \ \ \ \ \textcolor{keywordflow}{if}\ (const\_check(\textcolor{keyword}{sizeof}(Char)\ ==\ 1)\ \&\&\ cp\ >=\ 0x80)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01785\ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_escape(cp))\ \textcolor{keywordflow}{return}\ \{begin,\ begin\ +\ 1,\ cp\};}
\DoxyCodeLine{01786\ \ \ \}}
\DoxyCodeLine{01787\ \ \ \textcolor{keywordflow}{return}\ \{begin,\ \textcolor{keyword}{nullptr},\ 0\};}
\DoxyCodeLine{01788\ \}}
\DoxyCodeLine{01789\ }
\DoxyCodeLine{01790\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ find\_escape(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ begin,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ end)}
\DoxyCodeLine{01791\ \ \ \ \ -\/>\ find\_escape\_result<char>\ \{}
\DoxyCodeLine{01792\ \ \ \textcolor{keywordflow}{if}\ (!use\_utf8())\ \textcolor{keywordflow}{return}\ find\_escape<char>(begin,\ end);}
\DoxyCodeLine{01793\ \ \ \textcolor{keyword}{auto}\ result\ =\ find\_escape\_result<char>\{end,\ \textcolor{keyword}{nullptr},\ 0\};}
\DoxyCodeLine{01794\ \ \ for\_each\_codepoint(\mbox{\hyperlink{classbasic__string__view}{string\_view}}(begin,\ to\_unsigned(end\ -\/\ begin)),}
\DoxyCodeLine{01795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&](uint32\_t\ cp,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sv)\ \{}
\DoxyCodeLine{01796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_escape(cp))\ \{}
\DoxyCodeLine{01797\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \{sv.begin(),\ sv.end(),\ cp\};}
\DoxyCodeLine{01798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01799\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01800\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01801\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01802\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01803\ \}}
\DoxyCodeLine{01804\ }
\DoxyCodeLine{01805\ \textcolor{preprocessor}{\#define\ FMT\_STRING\_IMPL(s,\ base,\ explicit)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01806\ \textcolor{preprocessor}{\ \ []\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01807\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Use\ the\ hidden\ visibility\ as\ a\ workaround\ for\ a\ GCC\ bug\ (\#1973).\ */}\textcolor{preprocessor}{\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01808\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Use\ a\ macro-\/like\ name\ to\ avoid\ shadowing\ warnings.\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01809\ \textcolor{preprocessor}{\ \ \ \ struct\ FMT\_VISIBILITY("{}hidden"{})\ FMT\_COMPILE\_STRING\ :\ base\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01810\ \textcolor{preprocessor}{\ \ \ \ \ \ using\ char\_type\ FMT\_MAYBE\_UNUSED\ =\ fmt::remove\_cvref\_t<decltype(s[0])>;\ \(\backslash\)}}
\DoxyCodeLine{01811\ \textcolor{preprocessor}{\ \ \ \ \ \ FMT\_MAYBE\_UNUSED\ FMT\_CONSTEXPR\ explicit\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01812\ \textcolor{preprocessor}{\ \ \ \ \ \ operator\ fmt::basic\_string\_view<char\_type>()\ const\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01813\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ return\ fmt::detail\_exported::compile\_string\_to\_view<char\_type>(s);\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01814\ \textcolor{preprocessor}{\ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01815\ \textcolor{preprocessor}{\ \ \ \ \};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01816\ \textcolor{preprocessor}{\ \ \ \ return\ FMT\_COMPILE\_STRING();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01817\ \textcolor{preprocessor}{\ \ \}()}}
\DoxyCodeLine{01818\ }
\DoxyCodeLine{01827\ \textcolor{preprocessor}{\#define\ FMT\_STRING(s)\ FMT\_STRING\_IMPL(s,\ fmt::detail::compile\_string,\ )}}
\DoxyCodeLine{01828\ }
\DoxyCodeLine{01829\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}\ w\textcolor{keywordtype}{id}th,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01830\ \textcolor{keyword}{auto}\ write\_codepoint(OutputIt\ out,\ \textcolor{keywordtype}{char}\ prefix,\ uint32\_t\ cp)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01831\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01832\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(prefix);}
\DoxyCodeLine{01833\ \ \ Char\ buf[width];}
\DoxyCodeLine{01834\ \ \ fill\_n(buf,\ width,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01835\ \ \ format\_uint<4>(buf,\ cp,\ width);}
\DoxyCodeLine{01836\ \ \ \textcolor{keywordflow}{return}\ copy<Char>(buf,\ buf\ +\ width,\ out);}
\DoxyCodeLine{01837\ \}}
\DoxyCodeLine{01838\ }
\DoxyCodeLine{01839\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01840\ \textcolor{keyword}{auto}\ write\_escaped\_cp(OutputIt\ out,\ \textcolor{keyword}{const}\ find\_escape\_result<Char>\&\ escape)}
\DoxyCodeLine{01841\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01842\ \ \ \textcolor{keyword}{auto}\ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(escape.cp);}
\DoxyCodeLine{01843\ \ \ \textcolor{keywordflow}{switch}\ (escape.cp)\ \{}
\DoxyCodeLine{01844\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{01845\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01846\ \ \ \ \ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'n'});}
\DoxyCodeLine{01847\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01848\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)r'}:}
\DoxyCodeLine{01849\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01850\ \ \ \ \ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'r'});}
\DoxyCodeLine{01851\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01852\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{01853\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01854\ \ \ \ \ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'t'});}
\DoxyCodeLine{01855\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01856\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'"{}'}:}
\DoxyCodeLine{01857\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01858\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{01859\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01860\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}:}
\DoxyCodeLine{01861\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01862\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01863\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01864\ \ \ \ \ \textcolor{keywordflow}{if}\ (escape.cp\ <\ 0x100)\ \textcolor{keywordflow}{return}\ write\_codepoint<2,\ Char>(out,\ \textcolor{charliteral}{'x'},\ escape.cp);}
\DoxyCodeLine{01865\ \ \ \ \ \textcolor{keywordflow}{if}\ (escape.cp\ <\ 0x10000)}
\DoxyCodeLine{01866\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_codepoint<4,\ Char>(out,\ \textcolor{charliteral}{'u'},\ escape.cp);}
\DoxyCodeLine{01867\ \ \ \ \ \textcolor{keywordflow}{if}\ (escape.cp\ <\ 0x110000)}
\DoxyCodeLine{01868\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_codepoint<8,\ Char>(out,\ \textcolor{charliteral}{'U'},\ escape.cp);}
\DoxyCodeLine{01869\ \ \ \ \ \textcolor{keywordflow}{for}\ (Char\ escape\_char\ :\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(}
\DoxyCodeLine{01870\ \ \ \ \ \ \ \ \ \ \ \ \ \ escape.begin,\ to\_unsigned(escape.end\ -\/\ escape.begin)))\ \{}
\DoxyCodeLine{01871\ \ \ \ \ \ \ out\ =\ write\_codepoint<2,\ Char>(out,\ \textcolor{charliteral}{'x'},}
\DoxyCodeLine{01872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(escape\_char)\ \&\ 0xFF);}
\DoxyCodeLine{01873\ \ \ \ \ \}}
\DoxyCodeLine{01874\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01875\ \ \ \}}
\DoxyCodeLine{01876\ \ \ *out++\ =\ c;}
\DoxyCodeLine{01877\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01878\ \}}
\DoxyCodeLine{01879\ }
\DoxyCodeLine{01880\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01881\ \textcolor{keyword}{auto}\ write\_escaped\_string(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str)}
\DoxyCodeLine{01882\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01883\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{01884\ \ \ \textcolor{keyword}{auto}\ begin\ =\ str.begin(),\ end\ =\ str.end();}
\DoxyCodeLine{01885\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01886\ \ \ \ \ \textcolor{keyword}{auto}\ escape\ =\ find\_escape(begin,\ end);}
\DoxyCodeLine{01887\ \ \ \ \ out\ =\ copy<Char>(begin,\ escape.begin,\ out);}
\DoxyCodeLine{01888\ \ \ \ \ begin\ =\ escape.end;}
\DoxyCodeLine{01889\ \ \ \ \ \textcolor{keywordflow}{if}\ (!begin)\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01890\ \ \ \ \ out\ =\ write\_escaped\_cp<OutputIt,\ Char>(out,\ escape);}
\DoxyCodeLine{01891\ \ \ \}\ \textcolor{keywordflow}{while}\ (begin\ !=\ end);}
\DoxyCodeLine{01892\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{01893\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01894\ \}}
\DoxyCodeLine{01895\ }
\DoxyCodeLine{01896\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01897\ \textcolor{keyword}{auto}\ write\_escaped\_char(OutputIt\ out,\ Char\ v)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01898\ \ \ Char\ v\_array[1]\ =\ \{v\};}
\DoxyCodeLine{01899\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{01900\ \ \ \textcolor{keywordflow}{if}\ ((needs\_escape(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(v))\ \&\&\ v\ !=\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'"{}'}))\ ||}
\DoxyCodeLine{01901\ \ \ \ \ \ \ v\ ==\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)''}))\ \{}
\DoxyCodeLine{01902\ \ \ \ \ out\ =\ write\_escaped\_cp(out,}
\DoxyCodeLine{01903\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ find\_escape\_result<Char>\{v\_array,\ v\_array\ +\ 1,}
\DoxyCodeLine{01904\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(v)\});}
\DoxyCodeLine{01905\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01906\ \ \ \ \ *out++\ =\ v;}
\DoxyCodeLine{01907\ \ \ \}}
\DoxyCodeLine{01908\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{01909\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01910\ \}}
\DoxyCodeLine{01911\ }
\DoxyCodeLine{01912\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01913\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_char(OutputIt\ out,\ Char\ value,}
\DoxyCodeLine{01914\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01915\ \ \ \textcolor{keywordtype}{bool}\ is\_debug\ =\ specs.type\ ==\ presentation\_type::debug;}
\DoxyCodeLine{01916\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char>(out,\ specs,\ 1,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01917\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_debug)\ \textcolor{keywordflow}{return}\ write\_escaped\_char(it,\ value);}
\DoxyCodeLine{01918\ \ \ \ \ *it++\ =\ value;}
\DoxyCodeLine{01919\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01920\ \ \ \});}
\DoxyCodeLine{01921\ \}}
\DoxyCodeLine{01922\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01923\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ Char\ value,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{01924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ loc\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01925\ \ \ \textcolor{comment}{//\ char\ is\ formatted\ as\ unsigned\ char\ for\ consistency\ across\ platforms.}}
\DoxyCodeLine{01926\ \ \ \textcolor{keyword}{using\ }unsigned\_type\ =}
\DoxyCodeLine{01927\ \ \ \ \ \ \ conditional\_t<std::is\_same<Char,\ char>::value,\ \textcolor{keywordtype}{unsigned}\ char,\ \textcolor{keywordtype}{unsigned}>;}
\DoxyCodeLine{01928\ \ \ \textcolor{keywordflow}{return}\ check\_char\_specs(specs)}
\DoxyCodeLine{01929\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ write\_char<Char>(out,\ value,\ specs)}
\DoxyCodeLine{01930\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ write<Char>(out,\ static\_cast<unsigned\_type>(value),\ specs,\ loc);}
\DoxyCodeLine{01931\ \}}
\DoxyCodeLine{01932\ }
\DoxyCodeLine{01933\ \textcolor{comment}{//\ Data\ for\ write\_int\ that\ doesn't\ depend\ on\ output\ iterator\ type.\ It\ is\ used\ to}}
\DoxyCodeLine{01934\ \textcolor{comment}{//\ avoid\ template\ code\ bloat.}}
\DoxyCodeLine{01935\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1write__int__data}{write\_int\_data}}\ \{}
\DoxyCodeLine{01936\ \ \ \textcolor{keywordtype}{size\_t}\ size;}
\DoxyCodeLine{01937\ \ \ \textcolor{keywordtype}{size\_t}\ padding;}
\DoxyCodeLine{01938\ }
\DoxyCodeLine{01939\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1write__int__data}{write\_int\_data}}(\textcolor{keywordtype}{int}\ num\_digits,\ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{01940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)}
\DoxyCodeLine{01941\ \ \ \ \ \ \ :\ size((prefix\ >>\ 24)\ +\ to\_unsigned(num\_digits)),\ padding(0)\ \{}
\DoxyCodeLine{01942\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.align\ ==\ align::numeric)\ \{}
\DoxyCodeLine{01943\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ width\ =\ to\_unsigned(specs.width);}
\DoxyCodeLine{01944\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (width\ >\ size)\ \{}
\DoxyCodeLine{01945\ \ \ \ \ \ \ \ \ padding\ =\ width\ -\/\ size;}
\DoxyCodeLine{01946\ \ \ \ \ \ \ \ \ size\ =\ width;}
\DoxyCodeLine{01947\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01948\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (specs.precision\ >\ num\_digits)\ \{}
\DoxyCodeLine{01949\ \ \ \ \ \ \ size\ =\ (prefix\ >>\ 24)\ +\ to\_unsigned(specs.precision);}
\DoxyCodeLine{01950\ \ \ \ \ \ \ padding\ =\ to\_unsigned(specs.precision\ -\/\ num\_digits);}
\DoxyCodeLine{01951\ \ \ \ \ \}}
\DoxyCodeLine{01952\ \ \ \}}
\DoxyCodeLine{01953\ \};}
\DoxyCodeLine{01954\ }
\DoxyCodeLine{01955\ \textcolor{comment}{//\ Writes\ an\ integer\ in\ the\ format}}
\DoxyCodeLine{01956\ \textcolor{comment}{//\ \ \ <left-\/padding><prefix><numeric-\/padding><digits><right-\/padding>}}
\DoxyCodeLine{01957\ \textcolor{comment}{//\ where\ <digits>\ are\ written\ by\ write\_digits(it).}}
\DoxyCodeLine{01958\ \textcolor{comment}{//\ prefix\ contains\ chars\ in\ three\ lower\ bytes\ and\ the\ size\ in\ the\ fourth\ byte.}}
\DoxyCodeLine{01959\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ W>}
\DoxyCodeLine{01960\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write\_int(OutputIt\ out,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{01961\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{01962\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{01963\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ W\ write\_digits)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01964\ \ \ \textcolor{comment}{//\ Slightly\ faster\ check\ for\ specs.width\ ==\ 0\ \&\&\ specs.precision\ ==\ -\/1.}}
\DoxyCodeLine{01965\ \ \ \textcolor{keywordflow}{if}\ ((specs.width\ |\ (specs.precision\ +\ 1))\ ==\ 0)\ \{}
\DoxyCodeLine{01966\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ to\_unsigned(num\_digits)\ +\ (prefix\ >>\ 24));}
\DoxyCodeLine{01967\ \ \ \ \ \textcolor{keywordflow}{if}\ (prefix\ !=\ 0)\ \{}
\DoxyCodeLine{01968\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ p\ =\ prefix\ \&\ 0xffffff;\ p\ !=\ 0;\ p\ >>=\ 8)}
\DoxyCodeLine{01969\ \ \ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(p\ \&\ 0xff);}
\DoxyCodeLine{01970\ \ \ \ \ \}}
\DoxyCodeLine{01971\ \ \ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ write\_digits(it));}
\DoxyCodeLine{01972\ \ \ \}}
\DoxyCodeLine{01973\ \ \ \textcolor{keyword}{auto}\ data\ =\ write\_int\_data<Char>(num\_digits,\ prefix,\ specs);}
\DoxyCodeLine{01974\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align::right>(}
\DoxyCodeLine{01975\ \ \ \ \ \ \ out,\ specs,\ data.size,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01976\ \ \ \ \ \ \ \ \ for\ (unsigned\ p\ =\ prefix\ \&\ 0xffffff;\ p\ !=\ 0;\ p\ >>=\ 8)}
\DoxyCodeLine{01977\ \ \ \ \ \ \ \ \ \ \ *it++\ =\ static\_cast<Char>(p\ \&\ 0xff);}
\DoxyCodeLine{01978\ \ \ \ \ \ \ \ \ it\ =\ detail::fill\_n(it,\ data.padding,\ static\_cast<Char>(\textcolor{stringliteral}{'0'}));}
\DoxyCodeLine{01979\ \ \ \ \ \ \ \ \ return\ write\_digits(it);}
\DoxyCodeLine{01980\ \ \ \ \ \ \ \});}
\DoxyCodeLine{01981\ \}}
\DoxyCodeLine{01982\ }
\DoxyCodeLine{01983\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1digit__grouping}{digit\_grouping}}\ \{}
\DoxyCodeLine{01984\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01985\ \ \ std::string\ grouping\_;}
\DoxyCodeLine{01986\ \ \ std::basic\_string<Char>\ thousands\_sep\_;}
\DoxyCodeLine{01987\ }
\DoxyCodeLine{01988\ \ \ \textcolor{keyword}{struct\ }next\_state\ \{}
\DoxyCodeLine{01989\ \ \ \ \ std::string::const\_iterator\ group;}
\DoxyCodeLine{01990\ \ \ \ \ \textcolor{keywordtype}{int}\ pos;}
\DoxyCodeLine{01991\ \ \ \};}
\DoxyCodeLine{01992\ \ \ \textcolor{keyword}{auto}\ initial\_state()\ \textcolor{keyword}{const}\ -\/>\ next\_state\ \{\ \textcolor{keywordflow}{return}\ \{grouping\_.begin(),\ 0\};\ \}}
\DoxyCodeLine{01993\ }
\DoxyCodeLine{01994\ \ \ \textcolor{comment}{//\ Returns\ the\ next\ digit\ group\ separator\ position.}}
\DoxyCodeLine{01995\ \ \ \textcolor{keyword}{auto}\ next(next\_state\&\ state)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01996\ \ \ \ \ \textcolor{keywordflow}{if}\ (thousands\_sep\_.empty())\ \textcolor{keywordflow}{return}\ max\_value<int>();}
\DoxyCodeLine{01997\ \ \ \ \ \textcolor{keywordflow}{if}\ (state.group\ ==\ grouping\_.end())\ \textcolor{keywordflow}{return}\ state.pos\ +=\ grouping\_.back();}
\DoxyCodeLine{01998\ \ \ \ \ \textcolor{keywordflow}{if}\ (*state.group\ <=\ 0\ ||\ *state.group\ ==\ max\_value<char>())}
\DoxyCodeLine{01999\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ max\_value<int>();}
\DoxyCodeLine{02000\ \ \ \ \ state.pos\ +=\ *state.group++;}
\DoxyCodeLine{02001\ \ \ \ \ \textcolor{keywordflow}{return}\ state.pos;}
\DoxyCodeLine{02002\ \ \ \}}
\DoxyCodeLine{02003\ }
\DoxyCodeLine{02004\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02005\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1digit__grouping}{digit\_grouping}}(\mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc,\ \textcolor{keywordtype}{bool}\ localized\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{02006\ \ \ \ \ \textcolor{keywordflow}{if}\ (!localized)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02007\ \ \ \ \ \textcolor{keyword}{auto}\ sep\ =\ thousands\_sep<Char>(loc);}
\DoxyCodeLine{02008\ \ \ \ \ grouping\_\ =\ sep.grouping;}
\DoxyCodeLine{02009\ \ \ \ \ \textcolor{keywordflow}{if}\ (sep.thousands\_sep)\ thousands\_sep\_.assign(1,\ sep.thousands\_sep);}
\DoxyCodeLine{02010\ \ \ \}}
\DoxyCodeLine{02011\ \ \ \mbox{\hyperlink{classdetail_1_1digit__grouping}{digit\_grouping}}(std::string\ grouping,\ std::basic\_string<Char>\ sep)}
\DoxyCodeLine{02012\ \ \ \ \ \ \ :\ grouping\_(std::move(grouping)),\ thousands\_sep\_(std::move(sep))\ \{\}}
\DoxyCodeLine{02013\ }
\DoxyCodeLine{02014\ \ \ \textcolor{keyword}{auto}\ has\_separator()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ !thousands\_sep\_.empty();\ \}}
\DoxyCodeLine{02015\ }
\DoxyCodeLine{02016\ \ \ \textcolor{keyword}{auto}\ count\_separators(\textcolor{keywordtype}{int}\ num\_digits)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02017\ \ \ \ \ \textcolor{keywordtype}{int}\ count\ =\ 0;}
\DoxyCodeLine{02018\ \ \ \ \ \textcolor{keyword}{auto}\ state\ =\ initial\_state();}
\DoxyCodeLine{02019\ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_digits\ >\ next(state))\ ++count;}
\DoxyCodeLine{02020\ \ \ \ \ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{02021\ \ \ \}}
\DoxyCodeLine{02022\ }
\DoxyCodeLine{02023\ \ \ \textcolor{comment}{//\ Applies\ grouping\ to\ digits\ and\ write\ the\ output\ to\ out.}}
\DoxyCodeLine{02024\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Out,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{02025\ \ \ \textcolor{keyword}{auto}\ apply(Out\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<C>}}\ digits)\ \textcolor{keyword}{const}\ -\/>\ Out\ \{}
\DoxyCodeLine{02026\ \ \ \ \ \textcolor{keyword}{auto}\ num\_digits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(digits.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}());}
\DoxyCodeLine{02027\ \ \ \ \ \textcolor{keyword}{auto}\ separators\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<int>}}();}
\DoxyCodeLine{02028\ \ \ \ \ separators.push\_back(0);}
\DoxyCodeLine{02029\ \ \ \ \ \textcolor{keyword}{auto}\ state\ =\ initial\_state();}
\DoxyCodeLine{02030\ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keywordtype}{int}\ i\ =\ next(state))\ \{}
\DoxyCodeLine{02031\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ >=\ num\_digits)\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02032\ \ \ \ \ \ \ separators.push\_back(i);}
\DoxyCodeLine{02033\ \ \ \ \ \}}
\DoxyCodeLine{02034\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0,\ sep\_index\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(separators.size()\ -\/\ 1);}
\DoxyCodeLine{02035\ \ \ \ \ \ \ \ \ \ i\ <\ num\_digits;\ ++i)\ \{}
\DoxyCodeLine{02036\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ -\/\ i\ ==\ separators[sep\_index])\ \{}
\DoxyCodeLine{02037\ \ \ \ \ \ \ \ \ out\ =\ copy<Char>(thousands\_sep\_.data(),}
\DoxyCodeLine{02038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ thousands\_sep\_.data()\ +\ thousands\_sep\_.size(),\ out);}
\DoxyCodeLine{02039\ \ \ \ \ \ \ \ \ -\/-\/sep\_index;}
\DoxyCodeLine{02040\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02041\ \ \ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(digits[to\_unsigned(i)]);}
\DoxyCodeLine{02042\ \ \ \ \ \}}
\DoxyCodeLine{02043\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02044\ \ \ \}}
\DoxyCodeLine{02045\ \};}
\DoxyCodeLine{02046\ }
\DoxyCodeLine{02047\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ prefix\_append(\textcolor{keywordtype}{unsigned}\&\ prefix,\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{02048\ \ \ prefix\ |=\ prefix\ !=\ 0\ ?\ \mbox{\hyperlink{classdetail_1_1value}{value}}\ <<\ 8\ :\ \mbox{\hyperlink{classdetail_1_1value}{value}};}
\DoxyCodeLine{02049\ \ \ prefix\ +=\ (1u\ +\ (\mbox{\hyperlink{classdetail_1_1value}{value}}\ >\ 0xff\ ?\ 1\ :\ 0))\ <<\ 24;}
\DoxyCodeLine{02050\ \}}
\DoxyCodeLine{02051\ }
\DoxyCodeLine{02052\ \textcolor{comment}{//\ Writes\ a\ decimal\ integer\ with\ digit\ grouping.}}
\DoxyCodeLine{02053\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02054\ \textcolor{keyword}{auto}\ write\_int(OutputIt\ out,\ UInt\ value,\ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{02055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,\ \textcolor{keyword}{const}\ digit\_grouping<Char>\&\ grouping)}
\DoxyCodeLine{02056\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02057\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<uint64\_or\_128\_t<UInt>,\ UInt>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02058\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ 0;}
\DoxyCodeLine{02059\ \ \ \textcolor{keyword}{auto}\ buffer\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}();}
\DoxyCodeLine{02060\ \ \ \textcolor{keywordflow}{switch}\ (specs.type)\ \{}
\DoxyCodeLine{02061\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02062\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02063\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{02064\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::none:}
\DoxyCodeLine{02065\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::dec:}
\DoxyCodeLine{02066\ \ \ \ \ num\_digits\ =\ count\_digits(value);}
\DoxyCodeLine{02067\ \ \ \ \ format\_decimal<char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ value,\ num\_digits);}
\DoxyCodeLine{02068\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02069\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::hex:}
\DoxyCodeLine{02070\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)}
\DoxyCodeLine{02071\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{keywordtype}{unsigned}(specs.upper\ ?\ \textcolor{charliteral}{'X'}\ :\ \textcolor{charliteral}{'x'})\ <<\ 8\ |\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02072\ \ \ \ \ num\_digits\ =\ count\_digits<4>(value);}
\DoxyCodeLine{02073\ \ \ \ \ format\_uint<4,\ char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ value,\ num\_digits,\ specs.upper);}
\DoxyCodeLine{02074\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02075\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::oct:}
\DoxyCodeLine{02076\ \ \ \ \ num\_digits\ =\ count\_digits<3>(value);}
\DoxyCodeLine{02077\ \ \ \ \ \textcolor{comment}{//\ Octal\ prefix\ '0'\ is\ counted\ as\ a\ digit,\ so\ only\ add\ it\ if\ precision}}
\DoxyCodeLine{02078\ \ \ \ \ \textcolor{comment}{//\ is\ not\ greater\ than\ the\ number\ of\ digits.}}
\DoxyCodeLine{02079\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt\ \&\&\ specs.precision\ <=\ num\_digits\ \&\&\ value\ !=\ 0)}
\DoxyCodeLine{02080\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02081\ \ \ \ \ format\_uint<3,\ char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ value,\ num\_digits);}
\DoxyCodeLine{02082\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02083\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::bin:}
\DoxyCodeLine{02084\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)}
\DoxyCodeLine{02085\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{keywordtype}{unsigned}(specs.upper\ ?\ \textcolor{charliteral}{'B'}\ :\ \textcolor{charliteral}{'b'})\ <<\ 8\ |\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02086\ \ \ \ \ num\_digits\ =\ count\_digits<1>(value);}
\DoxyCodeLine{02087\ \ \ \ \ format\_uint<1,\ char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ value,\ num\_digits);}
\DoxyCodeLine{02088\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02089\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::chr:}
\DoxyCodeLine{02090\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_char<Char>(out,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(value),\ specs);}
\DoxyCodeLine{02091\ \ \ \}}
\DoxyCodeLine{02092\ }
\DoxyCodeLine{02093\ \ \ \textcolor{keywordtype}{unsigned}\ size\ =\ (prefix\ !=\ 0\ ?\ prefix\ >>\ 24\ :\ 0)\ +\ to\_unsigned(num\_digits)\ +}
\DoxyCodeLine{02094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ to\_unsigned(grouping.count\_separators(num\_digits));}
\DoxyCodeLine{02095\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align::right>(}
\DoxyCodeLine{02096\ \ \ \ \ \ \ out,\ specs,\ size,\ size,\ [\&](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02097\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ p\ =\ prefix\ \&\ 0xffffff;\ p\ !=\ 0;\ p\ >>=\ 8)}
\DoxyCodeLine{02098\ \ \ \ \ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(p\ \&\ 0xff);}
\DoxyCodeLine{02099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ grouping.apply(it,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(buffer.data(),\ buffer.size()));}
\DoxyCodeLine{02100\ \ \ \ \ \ \ \});}
\DoxyCodeLine{02101\ \}}
\DoxyCodeLine{02102\ }
\DoxyCodeLine{02103\ \textcolor{comment}{//\ Writes\ a\ localized\ value.}}
\DoxyCodeLine{02104\ FMT\_API\ \textcolor{keyword}{auto}\ write\_loc(\mbox{\hyperlink{classbasic__appender}{appender}}\ out,\ \mbox{\hyperlink{classloc__value}{loc\_value}}\ value,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{02105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ loc)\ -\/>\ bool;}
\DoxyCodeLine{02106\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02107\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_loc(OutputIt,\ \mbox{\hyperlink{classloc__value}{loc\_value}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&,\ locale\_ref)}
\DoxyCodeLine{02108\ \ \ \ \ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02109\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02110\ \}}
\DoxyCodeLine{02111\ }
\DoxyCodeLine{02112\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1write__int__arg}{write\_int\_arg}}\ \{}
\DoxyCodeLine{02113\ \ \ UInt\ abs\_value;}
\DoxyCodeLine{02114\ \ \ \textcolor{keywordtype}{unsigned}\ prefix;}
\DoxyCodeLine{02115\ \};}
\DoxyCodeLine{02116\ }
\DoxyCodeLine{02117\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02118\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ make\_write\_int\_arg(T\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ sign\_t\ sign)}
\DoxyCodeLine{02119\ \ \ \ \ -\/>\ \mbox{\hyperlink{structdetail_1_1write__int__arg}{write\_int\_arg<uint32\_or\_64\_or\_128\_t<T>}}>\ \{}
\DoxyCodeLine{02120\ \ \ \textcolor{keyword}{auto}\ prefix\ =\ 0u;}
\DoxyCodeLine{02121\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}uint32\_or\_64\_or\_128\_t<T>\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02122\ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classdetail_1_1value}{value}}))\ \{}
\DoxyCodeLine{02123\ \ \ \ \ prefix\ =\ 0x01000000\ |\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{02124\ \ \ \ \ abs\_value\ =\ 0\ -\/\ abs\_value;}
\DoxyCodeLine{02125\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02126\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ prefixes[4]\ =\ \{0,\ 0,\ 0x1000000u\ |\ \textcolor{charliteral}{'+'},}
\DoxyCodeLine{02127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x1000000u\ |\ \textcolor{charliteral}{'\ '}\};}
\DoxyCodeLine{02128\ \ \ \ \ prefix\ =\ prefixes[sign];}
\DoxyCodeLine{02129\ \ \ \}}
\DoxyCodeLine{02130\ \ \ \textcolor{keywordflow}{return}\ \{abs\_value,\ prefix\};}
\DoxyCodeLine{02131\ \}}
\DoxyCodeLine{02132\ }
\DoxyCodeLine{02133\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1loc__writer}{loc\_writer}}\ \{}
\DoxyCodeLine{02134\ \ \ \mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}\ out;}
\DoxyCodeLine{02135\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs;}
\DoxyCodeLine{02136\ \ \ std::basic\_string<Char>\ sep;}
\DoxyCodeLine{02137\ \ \ std::string\ grouping;}
\DoxyCodeLine{02138\ \ \ std::basic\_string<Char>\ decimal\_point;}
\DoxyCodeLine{02139\ }
\DoxyCodeLine{02140\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{02141\ \ \ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02142\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ make\_write\_int\_arg(\mbox{\hyperlink{classdetail_1_1value}{value}},\ specs.sign);}
\DoxyCodeLine{02143\ \ \ \ \ write\_int(out,\ \textcolor{keyword}{static\_cast<}uint64\_or\_128\_t<T>\textcolor{keyword}{>}(arg.abs\_value),\ arg.prefix,}
\DoxyCodeLine{02144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs,\ \mbox{\hyperlink{classdetail_1_1digit__grouping}{digit\_grouping<Char>}}(grouping,\ sep));}
\DoxyCodeLine{02145\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02146\ \ \ \}}
\DoxyCodeLine{02147\ }
\DoxyCodeLine{02148\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{02149\ \ \ \textcolor{keyword}{auto}\ operator()(T)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02150\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02151\ \ \ \}}
\DoxyCodeLine{02152\ \};}
\DoxyCodeLine{02153\ }
\DoxyCodeLine{02154\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02155\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write\_int(OutputIt\ out,\ \mbox{\hyperlink{structdetail_1_1write__int__arg}{write\_int\_arg<T>}}\ arg,}
\DoxyCodeLine{02156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,\ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}})}
\DoxyCodeLine{02157\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02158\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<T,\ uint32\_or\_64\_or\_128\_t<T>>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02159\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ arg.abs\_value;}
\DoxyCodeLine{02160\ \ \ \textcolor{keyword}{auto}\ prefix\ =\ arg.prefix;}
\DoxyCodeLine{02161\ \ \ \textcolor{keywordflow}{switch}\ (specs.type)\ \{}
\DoxyCodeLine{02162\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02163\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02164\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{02165\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::none:}
\DoxyCodeLine{02166\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::dec:\ \{}
\DoxyCodeLine{02167\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{02168\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int<Char>(}
\DoxyCodeLine{02169\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ prefix,\ specs,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02170\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_decimal<Char>(it,\ abs\_value,\ num\_digits).end;}
\DoxyCodeLine{02171\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02172\ \ \ \}}
\DoxyCodeLine{02173\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::hex:\ \{}
\DoxyCodeLine{02174\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)}
\DoxyCodeLine{02175\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{keywordtype}{unsigned}(specs.upper\ ?\ \textcolor{charliteral}{'X'}\ :\ \textcolor{charliteral}{'x'})\ <<\ 8\ |\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02176\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<4>(abs\_value);}
\DoxyCodeLine{02177\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int<Char>(}
\DoxyCodeLine{02178\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ prefix,\ specs,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02179\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<4,\ Char>(it,\ abs\_value,\ num\_digits,\ specs.upper);}
\DoxyCodeLine{02180\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02181\ \ \ \}}
\DoxyCodeLine{02182\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::oct:\ \{}
\DoxyCodeLine{02183\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<3>(abs\_value);}
\DoxyCodeLine{02184\ \ \ \ \ \textcolor{comment}{//\ Octal\ prefix\ '0'\ is\ counted\ as\ a\ digit,\ so\ only\ add\ it\ if\ precision}}
\DoxyCodeLine{02185\ \ \ \ \ \textcolor{comment}{//\ is\ not\ greater\ than\ the\ number\ of\ digits.}}
\DoxyCodeLine{02186\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt\ \&\&\ specs.precision\ <=\ num\_digits\ \&\&\ abs\_value\ !=\ 0)}
\DoxyCodeLine{02187\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02188\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int<Char>(}
\DoxyCodeLine{02189\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ prefix,\ specs,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02190\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<3,\ Char>(it,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{02191\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02192\ \ \ \}}
\DoxyCodeLine{02193\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::bin:\ \{}
\DoxyCodeLine{02194\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)}
\DoxyCodeLine{02195\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{keywordtype}{unsigned}(specs.upper\ ?\ \textcolor{charliteral}{'B'}\ :\ \textcolor{charliteral}{'b'})\ <<\ 8\ |\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02196\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<1>(abs\_value);}
\DoxyCodeLine{02197\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int<Char>(}
\DoxyCodeLine{02198\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ prefix,\ specs,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02199\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<1,\ Char>(it,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{02200\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02201\ \ \ \}}
\DoxyCodeLine{02202\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::chr:}
\DoxyCodeLine{02203\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_char<Char>(out,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(abs\_value),\ specs);}
\DoxyCodeLine{02204\ \ \ \}}
\DoxyCodeLine{02205\ \}}
\DoxyCodeLine{02206\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02207\ FMT\_CONSTEXPR\ FMT\_NOINLINE\ \textcolor{keyword}{auto}\ write\_int\_noinline(OutputIt\ out,}
\DoxyCodeLine{02208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ write\_int\_arg<T>\ arg,}
\DoxyCodeLine{02209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{02210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02211\ \ \ \textcolor{keywordflow}{return}\ write\_int<Char>(out,\ arg,\ specs,\ loc);}
\DoxyCodeLine{02212\ \}}
\DoxyCodeLine{02213\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{02214\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_integral<T>::value\ \&\&}
\DoxyCodeLine{02215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ Char>::value)>}
\DoxyCodeLine{02217\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write(\mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}\ out,\ T\ value,}
\DoxyCodeLine{02218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,\ locale\_ref\ loc)}
\DoxyCodeLine{02219\ \ \ \ \ -\/>\ \mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}\ \{}
\DoxyCodeLine{02220\ \ \ \textcolor{keywordflow}{if}\ (specs.localized\ \&\&\ write\_loc(out,\ value,\ specs,\ loc))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02221\ \ \ \textcolor{keywordflow}{return}\ write\_int\_noinline<Char>(out,\ make\_write\_int\_arg(value,\ specs.sign),}
\DoxyCodeLine{02222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs,\ loc);}
\DoxyCodeLine{02223\ \}}
\DoxyCodeLine{02224\ \textcolor{comment}{//\ An\ inlined\ version\ of\ write\ used\ in\ format\ string\ compilation.}}
\DoxyCodeLine{02225\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{02226\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_integral<T>::value\ \&\&}
\DoxyCodeLine{02227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ Char>::value\ \&\&}
\DoxyCodeLine{02229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<OutputIt,\ \mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}>::value)>}
\DoxyCodeLine{02230\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value,}
\DoxyCodeLine{02231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,\ locale\_ref\ loc)}
\DoxyCodeLine{02232\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02233\ \ \ \textcolor{keywordflow}{if}\ (specs.localized\ \&\&\ write\_loc(out,\ value,\ specs,\ loc))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02234\ \ \ \textcolor{keywordflow}{return}\ write\_int<Char>(out,\ make\_write\_int\_arg(value,\ specs.sign),\ specs,}
\DoxyCodeLine{02235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loc);}
\DoxyCodeLine{02236\ \}}
\DoxyCodeLine{02237\ }
\DoxyCodeLine{02238\ \textcolor{comment}{//\ An\ output\ iterator\ that\ counts\ the\ number\ of\ objects\ written\ to\ it\ and}}
\DoxyCodeLine{02239\ \textcolor{comment}{//\ discards\ them.}}
\DoxyCodeLine{02240\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}}\ \{}
\DoxyCodeLine{02241\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02242\ \ \ \textcolor{keywordtype}{size\_t}\ count\_;}
\DoxyCodeLine{02243\ }
\DoxyCodeLine{02244\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02245\ \ \ \textcolor{keyword}{using\ }iterator\_category\ =\ std::output\_iterator\_tag;}
\DoxyCodeLine{02246\ \ \ \textcolor{keyword}{using\ }difference\_type\ =\ std::ptrdiff\_t;}
\DoxyCodeLine{02247\ \ \ \textcolor{keyword}{using\ }pointer\ =\ void;}
\DoxyCodeLine{02248\ \ \ \textcolor{keyword}{using\ }reference\ =\ void;}
\DoxyCodeLine{02249\ \ \ FMT\_UNCHECKED\_ITERATOR(\mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}});}
\DoxyCodeLine{02250\ }
\DoxyCodeLine{02251\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1counting__iterator_1_1value__type}{value\_type}}\ \{}
\DoxyCodeLine{02252\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator=(\textcolor{keyword}{const}\ T\&)\ \{\}}
\DoxyCodeLine{02253\ \ \ \};}
\DoxyCodeLine{02254\ }
\DoxyCodeLine{02255\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}}()\ :\ count\_(0)\ \{\}}
\DoxyCodeLine{02256\ }
\DoxyCodeLine{02257\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ count()\ const\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{\ \textcolor{keywordflow}{return}\ count\_;\ \}}
\DoxyCodeLine{02258\ }
\DoxyCodeLine{02259\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator++()\ -\/>\ counting\_iterator\&\ \{}
\DoxyCodeLine{02260\ \ \ \ \ ++count\_;}
\DoxyCodeLine{02261\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02262\ \ \ \}}
\DoxyCodeLine{02263\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator++(\textcolor{keywordtype}{int})\ -\/>\ counting\_iterator\ \{}
\DoxyCodeLine{02264\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02265\ \ \ \ \ ++*\textcolor{keyword}{this};}
\DoxyCodeLine{02266\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02267\ \ \ \}}
\DoxyCodeLine{02268\ }
\DoxyCodeLine{02269\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator+(counting\_iterator\ it,\ difference\_type\ n)}
\DoxyCodeLine{02270\ \ \ \ \ \ \ -\/>\ counting\_iterator\ \{}
\DoxyCodeLine{02271\ \ \ \ \ it.count\_\ +=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(n);}
\DoxyCodeLine{02272\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02273\ \ \ \}}
\DoxyCodeLine{02274\ }
\DoxyCodeLine{02275\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator*()\ const\ -\/>\ value\_type\ \{\ \textcolor{keywordflow}{return}\ \{\};\ \}}
\DoxyCodeLine{02276\ \};}
\DoxyCodeLine{02277\ }
\DoxyCodeLine{02278\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02279\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s,}
\DoxyCodeLine{02280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02281\ \ \ \textcolor{keyword}{auto}\ data\ =\ s.\mbox{\hyperlink{classbasic__string__view_a39cdfe061dc6d64a3adc230b62d8a026}{data}}();}
\DoxyCodeLine{02282\ \ \ \textcolor{keyword}{auto}\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}();}
\DoxyCodeLine{02283\ \ \ \textcolor{keywordflow}{if}\ (specs.precision\ >=\ 0\ \&\&\ to\_unsigned(specs.precision)\ <\ size)}
\DoxyCodeLine{02284\ \ \ \ \ size\ =\ code\_point\_index(s,\ to\_unsigned(specs.precision));}
\DoxyCodeLine{02285\ \ \ \textcolor{keywordtype}{bool}\ is\_debug\ =\ specs.type\ ==\ presentation\_type::debug;}
\DoxyCodeLine{02286\ \ \ \textcolor{keywordtype}{size\_t}\ width\ =\ 0;}
\DoxyCodeLine{02287\ }
\DoxyCodeLine{02288\ \ \ \textcolor{keywordflow}{if}\ (is\_debug)\ size\ =\ write\_escaped\_string(counting\_iterator\{\},\ s).count();}
\DoxyCodeLine{02289\ }
\DoxyCodeLine{02290\ \ \ \textcolor{keywordflow}{if}\ (specs.width\ !=\ 0)\ \{}
\DoxyCodeLine{02291\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_debug)}
\DoxyCodeLine{02292\ \ \ \ \ \ \ width\ =\ size;}
\DoxyCodeLine{02293\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02294\ \ \ \ \ \ \ width\ =\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(data,\ size));}
\DoxyCodeLine{02295\ \ \ \}}
\DoxyCodeLine{02296\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char>(out,\ specs,\ size,\ width,}
\DoxyCodeLine{02297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_debug)\ \textcolor{keywordflow}{return}\ write\_escaped\_string(it,\ s);}
\DoxyCodeLine{02299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ copy<Char>(data,\ data\ +\ size,\ it);}
\DoxyCodeLine{02300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02301\ \}}
\DoxyCodeLine{02302\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02303\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,}
\DoxyCodeLine{02304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view}}<type\_identity\_t<Char>>\ s,}
\DoxyCodeLine{02305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,\ locale\_ref)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02306\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ s,\ specs);}
\DoxyCodeLine{02307\ \}}
\DoxyCodeLine{02308\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02309\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ Char*\ s,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{02310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02311\ \ \ \textcolor{keywordflow}{if}\ (specs.type\ ==\ presentation\_type::pointer)}
\DoxyCodeLine{02312\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_ptr<Char>(out,\ bit\_cast<uintptr\_t>(s),\ \&specs);}
\DoxyCodeLine{02313\ \ \ \textcolor{keywordflow}{if}\ (!s)\ report\_error(\textcolor{stringliteral}{"{}string\ pointer\ is\ null"{}});}
\DoxyCodeLine{02314\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(s),\ specs,\ \{\});}
\DoxyCodeLine{02315\ \}}
\DoxyCodeLine{02316\ }
\DoxyCodeLine{02317\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{02318\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_integral<T>::value\ \&\&}
\DoxyCodeLine{02319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ Char>::value)>}
\DoxyCodeLine{02321\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02322\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}uint32\_or\_64\_or\_128\_t<T>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{02323\ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ is\_negative(value);}
\DoxyCodeLine{02324\ \ \ \textcolor{comment}{//\ Don't\ do\ -\/abs\_value\ since\ it\ trips\ unsigned-\/integer-\/overflow\ sanitizer.}}
\DoxyCodeLine{02325\ \ \ \textcolor{keywordflow}{if}\ (negative)\ abs\_value\ =\ \string~abs\_value\ +\ 1;}
\DoxyCodeLine{02326\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{02327\ \ \ \textcolor{keyword}{auto}\ size\ =\ (negative\ ?\ 1\ :\ 0)\ +\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(num\_digits);}
\DoxyCodeLine{02328\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ ptr\ =\ to\_pointer<Char>(out,\ size))\ \{}
\DoxyCodeLine{02329\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ *ptr++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{02330\ \ \ \ \ format\_decimal<Char>(ptr,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{02331\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02332\ \ \ \}}
\DoxyCodeLine{02333\ \ \ \textcolor{keywordflow}{if}\ (negative)\ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{02334\ \ \ \textcolor{keywordflow}{return}\ format\_decimal<Char>(out,\ abs\_value,\ num\_digits).end;}
\DoxyCodeLine{02335\ \}}
\DoxyCodeLine{02336\ }
\DoxyCodeLine{02337\ \textcolor{comment}{//\ DEPRECATED!}}
\DoxyCodeLine{02338\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02339\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse\_align(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)\ -\/>\ \textcolor{keyword}{const}\ Char*\ \{}
\DoxyCodeLine{02341\ \ \ FMT\_ASSERT(begin\ !=\ end,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02342\ \ \ \textcolor{keyword}{auto}\ align\ =\ align::none;}
\DoxyCodeLine{02343\ \ \ \textcolor{keyword}{auto}\ p\ =\ begin\ +\ code\_point\_length(begin);}
\DoxyCodeLine{02344\ \ \ \textcolor{keywordflow}{if}\ (end\ -\/\ p\ <=\ 0)\ p\ =\ begin;}
\DoxyCodeLine{02345\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{02346\ \ \ \ \ \textcolor{keywordflow}{switch}\ (to\_ascii(*p))\ \{}
\DoxyCodeLine{02347\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'<'}:}
\DoxyCodeLine{02348\ \ \ \ \ \ \ align\ =\ align::left;}
\DoxyCodeLine{02349\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02350\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'>'}:}
\DoxyCodeLine{02351\ \ \ \ \ \ \ align\ =\ align::right;}
\DoxyCodeLine{02352\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02353\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\string^'}:}
\DoxyCodeLine{02354\ \ \ \ \ \ \ align\ =\ align::center;}
\DoxyCodeLine{02355\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02356\ \ \ \ \ \}}
\DoxyCodeLine{02357\ \ \ \ \ \textcolor{keywordflow}{if}\ (align\ !=\ align::none)\ \{}
\DoxyCodeLine{02358\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ !=\ begin)\ \{}
\DoxyCodeLine{02359\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ c\ =\ *begin;}
\DoxyCodeLine{02360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\}'})\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02361\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\{'})\ \{}
\DoxyCodeLine{02362\ \ \ \ \ \ \ \ \ \ \ report\_error(\textcolor{stringliteral}{"{}invalid\ fill\ character\ '\{'"{}});}
\DoxyCodeLine{02363\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02364\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02365\ \ \ \ \ \ \ \ \ specs.fill\ =\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(begin,\ to\_unsigned(p\ -\/\ begin));}
\DoxyCodeLine{02366\ \ \ \ \ \ \ \ \ begin\ =\ p\ +\ 1;}
\DoxyCodeLine{02367\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02368\ \ \ \ \ \ \ \ \ ++begin;}
\DoxyCodeLine{02369\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02370\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02371\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (p\ ==\ begin)\ \{}
\DoxyCodeLine{02372\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02373\ \ \ \ \ \}}
\DoxyCodeLine{02374\ \ \ \ \ p\ =\ begin;}
\DoxyCodeLine{02375\ \ \ \}}
\DoxyCodeLine{02376\ \ \ specs.align\ =\ align;}
\DoxyCodeLine{02377\ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02378\ \}}
\DoxyCodeLine{02379\ }
\DoxyCodeLine{02380\ \textcolor{comment}{//\ A\ floating-\/point\ presentation\ format.}}
\DoxyCodeLine{02381\ \textcolor{keyword}{enum\ class}\ float\_format\ :\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \{}
\DoxyCodeLine{02382\ \ \ general,\ \ \textcolor{comment}{//\ General:\ exponent\ notation\ or\ fixed\ point\ based\ on\ magnitude.}}
\DoxyCodeLine{02383\ \ \ exp,\ \ \ \ \ \ \textcolor{comment}{//\ Exponent\ notation\ with\ the\ default\ precision\ of\ 6,\ e.g.\ 1.2e-\/3.}}
\DoxyCodeLine{02384\ \ \ fixed\ \ \ \ \ \textcolor{comment}{//\ Fixed\ point\ with\ the\ default\ precision\ of\ 6,\ e.g.\ 0.0012.}}
\DoxyCodeLine{02385\ \};}
\DoxyCodeLine{02386\ }
\DoxyCodeLine{02387\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ \{}
\DoxyCodeLine{02388\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{02389\ \ \ float\_format\ format\ :\ 8;}
\DoxyCodeLine{02390\ \ \ sign\_t\ sign\ :\ 8;}
\DoxyCodeLine{02391\ \ \ \textcolor{keywordtype}{bool}\ locale\ :\ 1;}
\DoxyCodeLine{02392\ \ \ \textcolor{keywordtype}{bool}\ binary32\ :\ 1;}
\DoxyCodeLine{02393\ \ \ \textcolor{keywordtype}{bool}\ showpoint\ :\ 1;}
\DoxyCodeLine{02394\ \};}
\DoxyCodeLine{02395\ }
\DoxyCodeLine{02396\ \textcolor{comment}{//\ DEPRECATED!}}
\DoxyCodeLine{02397\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ parse\_float\_type\_spec(\textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs)}
\DoxyCodeLine{02398\ \ \ \ \ -\/>\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ \{}
\DoxyCodeLine{02399\ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}();}
\DoxyCodeLine{02400\ \ \ result.showpoint\ =\ specs.alt;}
\DoxyCodeLine{02401\ \ \ result.locale\ =\ specs.localized;}
\DoxyCodeLine{02402\ \ \ \textcolor{keywordflow}{switch}\ (specs.type)\ \{}
\DoxyCodeLine{02403\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02404\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{02405\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::none:}
\DoxyCodeLine{02406\ \ \ \ \ result.format\ =\ float\_format::general;}
\DoxyCodeLine{02407\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02408\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::exp:}
\DoxyCodeLine{02409\ \ \ \ \ result.format\ =\ float\_format::exp;}
\DoxyCodeLine{02410\ \ \ \ \ result.showpoint\ |=\ specs.precision\ !=\ 0;}
\DoxyCodeLine{02411\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02412\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::fixed:}
\DoxyCodeLine{02413\ \ \ \ \ result.format\ =\ float\_format::fixed;}
\DoxyCodeLine{02414\ \ \ \ \ result.showpoint\ |=\ specs.precision\ !=\ 0;}
\DoxyCodeLine{02415\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02416\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::general:}
\DoxyCodeLine{02417\ \ \ \ \ result.format\ =\ float\_format::general;}
\DoxyCodeLine{02418\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02419\ \ \ \}}
\DoxyCodeLine{02420\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02421\ \}}
\DoxyCodeLine{02422\ }
\DoxyCodeLine{02423\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02424\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_nonfinite(OutputIt\ out,\ \textcolor{keywordtype}{bool}\ isnan,}
\DoxyCodeLine{02425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structformat__specs}{format\_specs}}\ specs,\ sign\_t\ sign)}
\DoxyCodeLine{02426\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02427\ \ \ \textcolor{keyword}{auto}\ str\ =}
\DoxyCodeLine{02428\ \ \ \ \ \ \ isnan\ ?\ (specs.upper\ ?\ \textcolor{stringliteral}{"{}NAN"{}}\ :\ \textcolor{stringliteral}{"{}nan"{}})\ :\ (specs.upper\ ?\ \textcolor{stringliteral}{"{}INF"{}}\ :\ \textcolor{stringliteral}{"{}inf"{}});}
\DoxyCodeLine{02429\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ str\_size\ =\ 3;}
\DoxyCodeLine{02430\ \ \ \textcolor{keyword}{auto}\ size\ =\ str\_size\ +\ (sign\ ?\ 1\ :\ 0);}
\DoxyCodeLine{02431\ \ \ \textcolor{comment}{//\ Replace\ '0'-\/padding\ with\ space\ for\ non-\/finite\ values.}}
\DoxyCodeLine{02432\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ is\_zero\_fill\ =}
\DoxyCodeLine{02433\ \ \ \ \ \ \ specs.fill.size()\ ==\ 1\ \&\&\ specs.fill.template\ get<Char>()\ ==\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{02434\ \ \ if\ (is\_zero\_fill)\ specs.fill\ =\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{02435\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char>(out,\ specs,\ size,}
\DoxyCodeLine{02436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ copy<Char>(str,\ str\ +\ str\_size,\ it);}
\DoxyCodeLine{02439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02440\ \}}
\DoxyCodeLine{02441\ }
\DoxyCodeLine{02442\ \textcolor{comment}{//\ A\ decimal\ floating-\/point\ number\ significand\ *\ pow(10,\ exp).}}
\DoxyCodeLine{02443\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1big__decimal__fp}{big\_decimal\_fp}}\ \{}
\DoxyCodeLine{02444\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ significand;}
\DoxyCodeLine{02445\ \ \ \textcolor{keywordtype}{int}\ significand\_size;}
\DoxyCodeLine{02446\ \ \ \textcolor{keywordtype}{int}\ exponent;}
\DoxyCodeLine{02447\ \};}
\DoxyCodeLine{02448\ }
\DoxyCodeLine{02449\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ get\_significand\_size(\textcolor{keyword}{const}\ \mbox{\hyperlink{structdetail_1_1big__decimal__fp}{big\_decimal\_fp}}\&\ f)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02450\ \ \ \textcolor{keywordflow}{return}\ f.significand\_size;}
\DoxyCodeLine{02451\ \}}
\DoxyCodeLine{02452\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02453\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ get\_significand\_size(\textcolor{keyword}{const}\ dragonbox::decimal\_fp<T>\&\ f)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02454\ \ \ \textcolor{keywordflow}{return}\ count\_digits(f.significand);}
\DoxyCodeLine{02455\ \}}
\DoxyCodeLine{02456\ }
\DoxyCodeLine{02457\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02458\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ significand,}
\DoxyCodeLine{02459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02460\ \ \ \textcolor{keywordflow}{return}\ copy<Char>(significand,\ significand\ +\ significand\_size,\ out);}
\DoxyCodeLine{02461\ \}}
\DoxyCodeLine{02462\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{02463\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ UInt\ significand,}
\DoxyCodeLine{02464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02465\ \ \ \textcolor{keywordflow}{return}\ format\_decimal<Char>(out,\ significand,\ significand\_size).end;}
\DoxyCodeLine{02466\ \}}
\DoxyCodeLine{02467\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Grouping>}
\DoxyCodeLine{02468\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ T\ significand,}
\DoxyCodeLine{02469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ exponent,}
\DoxyCodeLine{02470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Grouping\&\ grouping)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02471\ \ \ \textcolor{keywordflow}{if}\ (!grouping.has\_separator())\ \{}
\DoxyCodeLine{02472\ \ \ \ \ out\ =\ write\_significand<Char>(out,\ significand,\ significand\_size);}
\DoxyCodeLine{02473\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::fill\_n(out,\ exponent,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{02474\ \ \ \}}
\DoxyCodeLine{02475\ \ \ \textcolor{keyword}{auto}\ buffer\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}();}
\DoxyCodeLine{02476\ \ \ write\_significand<char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ significand,\ significand\_size);}
\DoxyCodeLine{02477\ \ \ detail::fill\_n(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ exponent,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02478\ \ \ \textcolor{keywordflow}{return}\ grouping.apply(out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(buffer.data(),\ buffer.size()));}
\DoxyCodeLine{02479\ \}}
\DoxyCodeLine{02480\ }
\DoxyCodeLine{02481\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt,}
\DoxyCodeLine{02482\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_integral<UInt>::value)>}
\DoxyCodeLine{02483\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_significand(Char*\ out,\ UInt\ significand,\ \textcolor{keywordtype}{int}\ significand\_size,}
\DoxyCodeLine{02484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ integral\_size,\ Char\ decimal\_point)\ -\/>\ Char*\ \{}
\DoxyCodeLine{02485\ \ \ \textcolor{keywordflow}{if}\ (!decimal\_point)}
\DoxyCodeLine{02486\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_decimal(out,\ significand,\ significand\_size).end;}
\DoxyCodeLine{02487\ \ \ out\ +=\ significand\_size\ +\ 1;}
\DoxyCodeLine{02488\ \ \ Char*\ end\ =\ out;}
\DoxyCodeLine{02489\ \ \ \textcolor{keywordtype}{int}\ floating\_size\ =\ significand\_size\ -\/\ integral\_size;}
\DoxyCodeLine{02490\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ floating\_size\ /\ 2;\ i\ >\ 0;\ -\/-\/i)\ \{}
\DoxyCodeLine{02491\ \ \ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{02492\ \ \ \ \ copy2(out,\ digits2(\textcolor{keyword}{static\_cast<}std::size\_t\textcolor{keyword}{>}(significand\ \%\ 100)));}
\DoxyCodeLine{02493\ \ \ \ \ significand\ /=\ 100;}
\DoxyCodeLine{02494\ \ \ \}}
\DoxyCodeLine{02495\ \ \ \textcolor{keywordflow}{if}\ (floating\_size\ \%\ 2\ !=\ 0)\ \{}
\DoxyCodeLine{02496\ \ \ \ \ *-\/-\/out\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ significand\ \%\ 10);}
\DoxyCodeLine{02497\ \ \ \ \ significand\ /=\ 10;}
\DoxyCodeLine{02498\ \ \ \}}
\DoxyCodeLine{02499\ \ \ *-\/-\/out\ =\ decimal\_point;}
\DoxyCodeLine{02500\ \ \ format\_decimal(out\ -\/\ integral\_size,\ significand,\ integral\_size);}
\DoxyCodeLine{02501\ \ \ \textcolor{keywordflow}{return}\ end;}
\DoxyCodeLine{02502\ \}}
\DoxyCodeLine{02503\ }
\DoxyCodeLine{02504\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{02505\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!std::is\_pointer<remove\_cvref\_t<OutputIt>>::value)>}
\DoxyCodeLine{02506\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ UInt\ significand,}
\DoxyCodeLine{02507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ integral\_size,}
\DoxyCodeLine{02508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02509\ \ \ \textcolor{comment}{//\ Buffer\ is\ large\ enough\ to\ hold\ digits\ (digits10\ +\ 1)\ and\ a\ decimal\ point.}}
\DoxyCodeLine{02510\ \ \ Char\ buffer[digits10<UInt>()\ +\ 2];}
\DoxyCodeLine{02511\ \ \ \textcolor{keyword}{auto}\ end\ =\ write\_significand(buffer,\ significand,\ significand\_size,}
\DoxyCodeLine{02512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ integral\_size,\ decimal\_point);}
\DoxyCodeLine{02513\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_noinline<Char>(buffer,\ end,\ out);}
\DoxyCodeLine{02514\ \}}
\DoxyCodeLine{02515\ }
\DoxyCodeLine{02516\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02517\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ significand,}
\DoxyCodeLine{02518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ integral\_size,}
\DoxyCodeLine{02519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02520\ \ \ out\ =\ detail::copy\_noinline<Char>(significand,\ significand\ +\ integral\_size,}
\DoxyCodeLine{02521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ out);}
\DoxyCodeLine{02522\ \ \ \textcolor{keywordflow}{if}\ (!decimal\_point)\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02523\ \ \ *out++\ =\ decimal\_point;}
\DoxyCodeLine{02524\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_noinline<Char>(significand\ +\ integral\_size,}
\DoxyCodeLine{02525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ significand\ +\ significand\_size,\ out);}
\DoxyCodeLine{02526\ \}}
\DoxyCodeLine{02527\ }
\DoxyCodeLine{02528\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Grouping>}
\DoxyCodeLine{02529\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ T\ significand,}
\DoxyCodeLine{02530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ integral\_size,}
\DoxyCodeLine{02531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point,}
\DoxyCodeLine{02532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Grouping\&\ grouping)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02533\ \ \ \textcolor{keywordflow}{if}\ (!grouping.has\_separator())\ \{}
\DoxyCodeLine{02534\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_significand(out,\ significand,\ significand\_size,\ integral\_size,}
\DoxyCodeLine{02535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimal\_point);}
\DoxyCodeLine{02536\ \ \ \}}
\DoxyCodeLine{02537\ \ \ \textcolor{keyword}{auto}\ buffer\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}();}
\DoxyCodeLine{02538\ \ \ write\_significand(\mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}(buffer),\ significand,\ significand\_size,}
\DoxyCodeLine{02539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ integral\_size,\ decimal\_point);}
\DoxyCodeLine{02540\ \ \ grouping.apply(}
\DoxyCodeLine{02541\ \ \ \ \ \ \ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(buffer.data(),\ to\_unsigned(integral\_size)));}
\DoxyCodeLine{02542\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_noinline<Char>(buffer.data()\ +\ integral\_size,}
\DoxyCodeLine{02543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer.end(),\ out);}
\DoxyCodeLine{02544\ \}}
\DoxyCodeLine{02545\ }
\DoxyCodeLine{02546\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ DecimalFP,}
\DoxyCodeLine{02547\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Grouping\ =\ digit\_grouping<Char>>}
\DoxyCodeLine{02548\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ do\_write\_float(OutputIt\ out,\ \textcolor{keyword}{const}\ DecimalFP\&\ f,}
\DoxyCodeLine{02549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,}
\DoxyCodeLine{02550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float\_specs\ fspecs,\ locale\_ref\ loc)}
\DoxyCodeLine{02551\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02552\ \ \ \textcolor{keyword}{auto}\ significand\ =\ f.significand;}
\DoxyCodeLine{02553\ \ \ \textcolor{keywordtype}{int}\ significand\_size\ =\ get\_significand\_size(f);}
\DoxyCodeLine{02554\ \ \ \textcolor{keyword}{const}\ Char\ zero\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{02555\ \ \ \textcolor{keyword}{auto}\ sign\ =\ fspecs.sign;}
\DoxyCodeLine{02556\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ to\_unsigned(significand\_size)\ +\ (sign\ ?\ 1\ :\ 0);}
\DoxyCodeLine{02557\ \ \ \textcolor{keyword}{using\ }iterator\ =\ reserve\_iterator<OutputIt>;}
\DoxyCodeLine{02558\ }
\DoxyCodeLine{02559\ \ \ Char\ decimal\_point\ =}
\DoxyCodeLine{02560\ \ \ \ \ \ \ fspecs.locale\ ?\ detail::decimal\_point<Char>(loc)\ :\ static\_cast<Char>(\textcolor{stringliteral}{'.'});}
\DoxyCodeLine{02561\ }
\DoxyCodeLine{02562\ \ \ \textcolor{keywordtype}{int}\ output\_exp\ =\ f.exponent\ +\ significand\_size\ -\/\ 1;}
\DoxyCodeLine{02563\ \ \ \textcolor{keyword}{auto}\ use\_exp\_format\ =\ [=]()\ \{}
\DoxyCodeLine{02564\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ ==\ float\_format::exp)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02565\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ !=\ float\_format::general)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02566\ \ \ \ \ \textcolor{comment}{//\ Use\ the\ fixed\ notation\ if\ the\ exponent\ is\ in\ [exp\_lower,\ exp\_upper),}}
\DoxyCodeLine{02567\ \ \ \ \ \textcolor{comment}{//\ e.g.\ 0.0001\ instead\ of\ 1e-\/04.\ Otherwise\ use\ the\ exponent\ notation.}}
\DoxyCodeLine{02568\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exp\_lower\ =\ -\/4,\ exp\_upper\ =\ 16;}
\DoxyCodeLine{02569\ \ \ \ \ \textcolor{keywordflow}{return}\ output\_exp\ <\ exp\_lower\ ||}
\DoxyCodeLine{02570\ \ \ \ \ \ \ \ \ \ \ \ output\_exp\ >=\ (fspecs.precision\ >\ 0\ ?\ fspecs.precision\ :\ exp\_upper);}
\DoxyCodeLine{02571\ \ \ \};}
\DoxyCodeLine{02572\ \ \ \textcolor{keywordflow}{if}\ (use\_exp\_format())\ \{}
\DoxyCodeLine{02573\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ 0;}
\DoxyCodeLine{02574\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.showpoint)\ \{}
\DoxyCodeLine{02575\ \ \ \ \ \ \ num\_zeros\ =\ fspecs.precision\ -\/\ significand\_size;}
\DoxyCodeLine{02576\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ <\ 0)\ num\_zeros\ =\ 0;}
\DoxyCodeLine{02577\ \ \ \ \ \ \ size\ +=\ to\_unsigned(num\_zeros);}
\DoxyCodeLine{02578\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (significand\_size\ ==\ 1)\ \{}
\DoxyCodeLine{02579\ \ \ \ \ \ \ decimal\_point\ =\ Char();}
\DoxyCodeLine{02580\ \ \ \ \ \}}
\DoxyCodeLine{02581\ \ \ \ \ \textcolor{keyword}{auto}\ abs\_output\_exp\ =\ output\_exp\ >=\ 0\ ?\ output\_exp\ :\ -\/output\_exp;}
\DoxyCodeLine{02582\ \ \ \ \ \textcolor{keywordtype}{int}\ exp\_digits\ =\ 2;}
\DoxyCodeLine{02583\ \ \ \ \ \textcolor{keywordflow}{if}\ (abs\_output\_exp\ >=\ 100)\ exp\_digits\ =\ abs\_output\_exp\ >=\ 1000\ ?\ 4\ :\ 3;}
\DoxyCodeLine{02584\ }
\DoxyCodeLine{02585\ \ \ \ \ size\ +=\ to\_unsigned((decimal\_point\ ?\ 1\ :\ 0)\ +\ 2\ +\ exp\_digits);}
\DoxyCodeLine{02586\ \ \ \ \ \textcolor{keywordtype}{char}\ exp\_char\ =\ specs.upper\ ?\ \textcolor{charliteral}{'E'}\ :\ \textcolor{charliteral}{'e'};}
\DoxyCodeLine{02587\ \ \ \ \ \textcolor{keyword}{auto}\ write\ =\ [=](iterator\ it)\ \{}
\DoxyCodeLine{02588\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02589\ \ \ \ \ \ \ \textcolor{comment}{//\ Insert\ a\ decimal\ point\ after\ the\ first\ digit\ and\ add\ an\ exponent.}}
\DoxyCodeLine{02590\ \ \ \ \ \ \ it\ =\ write\_significand(it,\ significand,\ significand\_size,\ 1,}
\DoxyCodeLine{02591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimal\_point);}
\DoxyCodeLine{02592\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ >\ 0)\ it\ =\ detail::fill\_n(it,\ num\_zeros,\ zero);}
\DoxyCodeLine{02593\ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(exp\_char);}
\DoxyCodeLine{02594\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_exponent<Char>(output\_exp,\ it);}
\DoxyCodeLine{02595\ \ \ \ \ \};}
\DoxyCodeLine{02596\ \ \ \ \ \textcolor{keywordflow}{return}\ specs.width\ >\ 0}
\DoxyCodeLine{02597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ write\_padded<Char,\ align::right>(out,\ specs,\ size,\ write)}
\DoxyCodeLine{02598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ base\_iterator(out,\ write(reserve(out,\ size)));}
\DoxyCodeLine{02599\ \ \ \}}
\DoxyCodeLine{02600\ }
\DoxyCodeLine{02601\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ f.exponent\ +\ significand\_size;}
\DoxyCodeLine{02602\ \ \ \textcolor{keywordflow}{if}\ (f.exponent\ >=\ 0)\ \{}
\DoxyCodeLine{02603\ \ \ \ \ \textcolor{comment}{//\ 1234e5\ -\/>\ 123400000[.0+]}}
\DoxyCodeLine{02604\ \ \ \ \ size\ +=\ to\_unsigned(f.exponent);}
\DoxyCodeLine{02605\ \ \ \ \ int\ num\_zeros\ =\ fspecs.precision\ -\/\ exp;}
\DoxyCodeLine{02606\ \ \ \ \ abort\_fuzzing\_if(num\_zeros\ >\ 5000);}
\DoxyCodeLine{02607\ \ \ \ \ if\ (fspecs.showpoint)\ \{}
\DoxyCodeLine{02608\ \ \ \ \ \ \ ++size;}
\DoxyCodeLine{02609\ \ \ \ \ \ \ if\ (num\_zeros\ <=\ 0\ \&\&\ fspecs.format\ !=\ float\_format::fixed)\ num\_zeros\ =\ 0;}
\DoxyCodeLine{02610\ \ \ \ \ \ \ if\ (num\_zeros\ >\ 0)\ size\ +=\ to\_unsigned(num\_zeros);}
\DoxyCodeLine{02611\ \ \ \ \ \}}
\DoxyCodeLine{02612\ \ \ \ \ \textcolor{keyword}{auto}\ grouping\ =\ Grouping(loc,\ fspecs.locale);}
\DoxyCodeLine{02613\ \ \ \ \ size\ +=\ to\_unsigned(grouping.count\_separators(exp));}
\DoxyCodeLine{02614\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align::right>(out,\ specs,\ size,\ [\&](iterator\ it)\ \{}
\DoxyCodeLine{02615\ \ \ \ \ \ \ if\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02616\ \ \ \ \ \ \ it\ =\ write\_significand<Char>(it,\ significand,\ significand\_size,}
\DoxyCodeLine{02617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.exponent,\ grouping);}
\DoxyCodeLine{02618\ \ \ \ \ \ \ if\ (!fspecs.showpoint)\ return\ it;}
\DoxyCodeLine{02619\ \ \ \ \ \ \ *it++\ =\ decimal\_point;}
\DoxyCodeLine{02620\ \ \ \ \ \ \ return\ num\_zeros\ >\ 0\ ?\ detail::fill\_n(it,\ num\_zeros,\ zero)\ :\ it;}
\DoxyCodeLine{02621\ \ \ \ \ \});}
\DoxyCodeLine{02622\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (exp\ >\ 0)\ \{}
\DoxyCodeLine{02623\ \ \ \ \ \textcolor{comment}{//\ 1234e-\/2\ -\/>\ 12.34[0+]}}
\DoxyCodeLine{02624\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ fspecs.showpoint\ ?\ fspecs.precision\ -\/\ significand\_size\ :\ 0;}
\DoxyCodeLine{02625\ \ \ \ \ size\ +=\ 1\ +\ to\_unsigned(num\_zeros\ >\ 0\ ?\ num\_zeros\ :\ 0);}
\DoxyCodeLine{02626\ \ \ \ \ \textcolor{keyword}{auto}\ grouping\ =\ Grouping(loc,\ fspecs.locale);}
\DoxyCodeLine{02627\ \ \ \ \ size\ +=\ to\_unsigned(grouping.count\_separators(exp));}
\DoxyCodeLine{02628\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align::right>(out,\ specs,\ size,\ [\&](iterator\ it)\ \{}
\DoxyCodeLine{02629\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02630\ \ \ \ \ \ \ it\ =\ write\_significand(it,\ significand,\ significand\_size,\ exp,}
\DoxyCodeLine{02631\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimal\_point,\ grouping);}
\DoxyCodeLine{02632\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ num\_zeros\ >\ 0\ ?\ detail::fill\_n(it,\ num\_zeros,\ zero)\ :\ it;}
\DoxyCodeLine{02633\ \ \ \ \ \});}
\DoxyCodeLine{02634\ \ \ \}}
\DoxyCodeLine{02635\ \ \ \textcolor{comment}{//\ 1234e-\/6\ -\/>\ 0.001234}}
\DoxyCodeLine{02636\ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ -\/exp;}
\DoxyCodeLine{02637\ \ \ \textcolor{keywordflow}{if}\ (significand\_size\ ==\ 0\ \&\&\ fspecs.precision\ >=\ 0\ \&\&}
\DoxyCodeLine{02638\ \ \ \ \ \ \ fspecs.precision\ <\ num\_zeros)\ \{}
\DoxyCodeLine{02639\ \ \ \ \ num\_zeros\ =\ fspecs.precision;}
\DoxyCodeLine{02640\ \ \ \}}
\DoxyCodeLine{02641\ \ \ \textcolor{keywordtype}{bool}\ pointy\ =\ num\_zeros\ !=\ 0\ ||\ significand\_size\ !=\ 0\ ||\ fspecs.showpoint;}
\DoxyCodeLine{02642\ \ \ size\ +=\ 1\ +\ (pointy\ ?\ 1\ :\ 0)\ +\ to\_unsigned(num\_zeros);}
\DoxyCodeLine{02643\ \ \ \textcolor{keywordflow}{return}\ write\_padded<Char,\ align::right>(out,\ specs,\ size,\ [\&](iterator\ it)\ \{}
\DoxyCodeLine{02644\ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02645\ \ \ \ \ *it++\ =\ zero;}
\DoxyCodeLine{02646\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pointy)\ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02647\ \ \ \ \ *it++\ =\ decimal\_point;}
\DoxyCodeLine{02648\ \ \ \ \ it\ =\ detail::fill\_n(it,\ num\_zeros,\ zero);}
\DoxyCodeLine{02649\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_significand<Char>(it,\ significand,\ significand\_size);}
\DoxyCodeLine{02650\ \ \ \});}
\DoxyCodeLine{02651\ \}}
\DoxyCodeLine{02652\ }
\DoxyCodeLine{02653\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1fallback__digit__grouping}{fallback\_digit\_grouping}}\ \{}
\DoxyCodeLine{02654\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02655\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classdetail_1_1fallback__digit__grouping}{fallback\_digit\_grouping}}(\mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}},\ \textcolor{keywordtype}{bool})\ \{\}}
\DoxyCodeLine{02656\ }
\DoxyCodeLine{02657\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ has\_separator()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{02658\ }
\DoxyCodeLine{02659\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ count\_separators(\textcolor{keywordtype}{int})\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{02660\ }
\DoxyCodeLine{02661\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Out,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{02662\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ apply(Out\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<C>}})\ \textcolor{keyword}{const}\ -\/>\ Out\ \{}
\DoxyCodeLine{02663\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02664\ \ \ \}}
\DoxyCodeLine{02665\ \};}
\DoxyCodeLine{02666\ }
\DoxyCodeLine{02667\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ DecimalFP>}
\DoxyCodeLine{02668\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_float(OutputIt\ out,\ \textcolor{keyword}{const}\ DecimalFP\&\ f,}
\DoxyCodeLine{02669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs,\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ fspecs,}
\DoxyCodeLine{02670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02671\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{02672\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_write\_float<Char,\ OutputIt,\ DecimalFP,}
\DoxyCodeLine{02673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1fallback__digit__grouping}{fallback\_digit\_grouping<Char>}}>(out,\ f,\ specs,\ fspecs,}
\DoxyCodeLine{02674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loc);}
\DoxyCodeLine{02675\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02676\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_write\_float<Char>(out,\ f,\ specs,\ fspecs,\ loc);}
\DoxyCodeLine{02677\ \ \ \}}
\DoxyCodeLine{02678\ \}}
\DoxyCodeLine{02679\ }
\DoxyCodeLine{02680\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ isnan(T\ value)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02681\ \ \ \textcolor{keywordflow}{return}\ value\ !=\ value;\ \ \textcolor{comment}{//\ std::isnan\ doesn't\ support\ \_\_float128.}}
\DoxyCodeLine{02682\ \}}
\DoxyCodeLine{02683\ }
\DoxyCodeLine{02684\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{02685\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1has__isfinite}{has\_isfinite}}\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{02686\ }
\DoxyCodeLine{02687\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02688\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1has__isfinite}{has\_isfinite}}<T,\ enable\_if\_t<sizeof(std::isfinite(T()))\ !=\ 0>>}
\DoxyCodeLine{02689\ \ \ \ \ :\ std::true\_type\ \{\};}
\DoxyCodeLine{02690\ }
\DoxyCodeLine{02691\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{float}ing\_po\textcolor{keywordtype}{int}<T>::value\&\&}
\DoxyCodeLine{02692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_isfinite<T>::value)>}
\DoxyCodeLine{02693\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ isfinite(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02694\ \ \ \textcolor{keyword}{constexpr}\ T\ inf\ =\ T(std::numeric\_limits<double>::infinity());}
\DoxyCodeLine{02695\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())}
\DoxyCodeLine{02696\ \ \ \ \ \textcolor{keywordflow}{return}\ !detail::isnan(\mbox{\hyperlink{classdetail_1_1value}{value}})\ \&\&\ value\ <\ inf\ \&\&\ value\ >\ -\/inf;}
\DoxyCodeLine{02697\ \ \ \textcolor{keywordflow}{return}\ std::isfinite(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02698\ \}}
\DoxyCodeLine{02699\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!has\_isfinite<T>::value)>}
\DoxyCodeLine{02700\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ isfinite(T\ value)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02701\ \ \ T\ inf\ =\ T(std::numeric\_limits<double>::infinity());}
\DoxyCodeLine{02702\ \ \ \textcolor{comment}{//\ std::isfinite\ doesn't\ support\ \_\_float128.}}
\DoxyCodeLine{02703\ \ \ \textcolor{keywordflow}{return}\ !detail::isnan(value)\ \&\&\ value\ <\ inf\ \&\&\ value\ >\ -\/inf;}
\DoxyCodeLine{02704\ \}}
\DoxyCodeLine{02705\ }
\DoxyCodeLine{02706\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{float}ing\_po\textcolor{keywordtype}{int}<T>::value)>}
\DoxyCodeLine{02707\ FMT\_INLINE\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ signbit(T\ value)\ \{}
\DoxyCodeLine{02708\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{02709\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_if\_constexpr}}
\DoxyCodeLine{02710\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::numeric\_limits<double>::is\_iec559)\ \{}
\DoxyCodeLine{02711\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ bits\ =\ detail::bit\_cast<uint64\_t>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(value));}
\DoxyCodeLine{02712\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (bits\ >>\ (num\_bits<uint64\_t>()\ -\/\ 1))\ !=\ 0;}
\DoxyCodeLine{02713\ \ \ \ \ \}}
\DoxyCodeLine{02714\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02715\ \ \ \}}
\DoxyCodeLine{02716\ \ \ \textcolor{keywordflow}{return}\ std::signbit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(value));}
\DoxyCodeLine{02717\ \}}
\DoxyCodeLine{02718\ }
\DoxyCodeLine{02719\ \textcolor{keyword}{inline}\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ adjust\_precision(\textcolor{keywordtype}{int}\&\ precision,\ \textcolor{keywordtype}{int}\ exp10)\ \{}
\DoxyCodeLine{02720\ \ \ \textcolor{comment}{//\ Adjust\ fixed\ precision\ by\ exponent\ because\ it\ is\ relative\ to\ decimal}}
\DoxyCodeLine{02721\ \ \ \textcolor{comment}{//\ point.}}
\DoxyCodeLine{02722\ \ \ \textcolor{keywordflow}{if}\ (exp10\ >\ 0\ \&\&\ precision\ >\ max\_value<int>()\ -\/\ exp10)}
\DoxyCodeLine{02723\ \ \ \ \ FMT\_THROW(format\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}}));}
\DoxyCodeLine{02724\ \ \ precision\ +=\ exp10;}
\DoxyCodeLine{02725\ \}}
\DoxyCodeLine{02726\ }
\DoxyCodeLine{02727\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\ \{}
\DoxyCodeLine{02728\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02729\ \ \ \textcolor{comment}{//\ A\ bigint\ is\ stored\ as\ an\ array\ of\ bigits\ (big\ digits),\ with\ bigit\ at\ index}}
\DoxyCodeLine{02730\ \ \ \textcolor{comment}{//\ 0\ being\ the\ least\ significant\ one.}}
\DoxyCodeLine{02731\ \ \ \textcolor{keyword}{using\ }bigit\ =\ uint32\_t;}
\DoxyCodeLine{02732\ \ \ \textcolor{keyword}{using\ }double\_bigit\ =\ uint64\_t;}
\DoxyCodeLine{02733\ \ \ \textcolor{keyword}{enum}\ \{\ bigits\_capacity\ =\ 32\ \};}
\DoxyCodeLine{02734\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<bigit,\ bigits\_capacity>}}\ bigits\_;}
\DoxyCodeLine{02735\ \ \ \textcolor{keywordtype}{int}\ exp\_;}
\DoxyCodeLine{02736\ }
\DoxyCodeLine{02737\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ operator[](\textcolor{keywordtype}{int}\ index)\ \textcolor{keyword}{const}\ -\/>\ bigit\ \{}
\DoxyCodeLine{02738\ \ \ \ \ \textcolor{keywordflow}{return}\ bigits\_[to\_unsigned(index)];}
\DoxyCodeLine{02739\ \ \ \}}
\DoxyCodeLine{02740\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ operator[](\textcolor{keywordtype}{int}\ index)\ -\/>\ bigit\&\ \{}
\DoxyCodeLine{02741\ \ \ \ \ \textcolor{keywordflow}{return}\ bigits\_[to\_unsigned(index)];}
\DoxyCodeLine{02742\ \ \ \}}
\DoxyCodeLine{02743\ }
\DoxyCodeLine{02744\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ bigit\_bits\ =\ num\_bits<bigit>();}
\DoxyCodeLine{02745\ }
\DoxyCodeLine{02746\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classdetail_1_1bigint}{bigint}}>;}
\DoxyCodeLine{02747\ }
\DoxyCodeLine{02748\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ subtract\_bigits(\textcolor{keywordtype}{int}\ index,\ bigit\ other,\ bigit\&\ borrow)\ \{}
\DoxyCodeLine{02749\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}((*this)[index])\ -\/\ other\ -\/\ borrow;}
\DoxyCodeLine{02750\ \ \ \ \ (*this)[index]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result);}
\DoxyCodeLine{02751\ \ \ \ \ borrow\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result\ >>\ (bigit\_bits\ *\ 2\ -\/\ 1));}
\DoxyCodeLine{02752\ \ \ \}}
\DoxyCodeLine{02753\ }
\DoxyCodeLine{02754\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ remove\_leading\_zeros()\ \{}
\DoxyCodeLine{02755\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_bigits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}())\ -\/\ 1;}
\DoxyCodeLine{02756\ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_bigits\ >\ 0\ \&\&\ (*\textcolor{keyword}{this})[num\_bigits]\ ==\ 0)\ -\/-\/num\_bigits;}
\DoxyCodeLine{02757\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(to\_unsigned(num\_bigits\ +\ 1));}
\DoxyCodeLine{02758\ \ \ \}}
\DoxyCodeLine{02759\ }
\DoxyCodeLine{02760\ \ \ \textcolor{comment}{//\ Computes\ *this\ -\/=\ other\ assuming\ aligned\ bigints\ and\ *this\ >=\ other.}}
\DoxyCodeLine{02761\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ subtract\_aligned(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ other)\ \{}
\DoxyCodeLine{02762\ \ \ \ \ FMT\_ASSERT(other.exp\_\ >=\ exp\_,\ \textcolor{stringliteral}{"{}unaligned\ bigints"{}});}
\DoxyCodeLine{02763\ \ \ \ \ FMT\_ASSERT(compare(*\textcolor{keyword}{this},\ other)\ >=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02764\ \ \ \ \ bigit\ borrow\ =\ 0;}
\DoxyCodeLine{02765\ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ other.exp\_\ -\/\ exp\_;}
\DoxyCodeLine{02766\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ 0,\ n\ =\ other.bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}();\ j\ !=\ n;\ ++i,\ ++j)}
\DoxyCodeLine{02767\ \ \ \ \ \ \ subtract\_bigits(i,\ other.bigits\_[j],\ borrow);}
\DoxyCodeLine{02768\ \ \ \ \ \textcolor{keywordflow}{while}\ (borrow\ >\ 0)\ subtract\_bigits(i,\ 0,\ borrow);}
\DoxyCodeLine{02769\ \ \ \ \ remove\_leading\_zeros();}
\DoxyCodeLine{02770\ \ \ \}}
\DoxyCodeLine{02771\ }
\DoxyCodeLine{02772\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ multiply(uint32\_t\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{02773\ \ \ \ \ \textcolor{keyword}{const}\ double\_bigit\ wide\_value\ =\ \mbox{\hyperlink{classdetail_1_1value}{value}};}
\DoxyCodeLine{02774\ \ \ \ \ bigit\ carry\ =\ 0;}
\DoxyCodeLine{02775\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ n\ =\ bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}();\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{02776\ \ \ \ \ \ \ double\_bigit\ result\ =\ bigits\_[i]\ *\ wide\_value\ +\ carry;}
\DoxyCodeLine{02777\ \ \ \ \ \ \ bigits\_[i]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result);}
\DoxyCodeLine{02778\ \ \ \ \ \ \ carry\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result\ >>\ bigit\_bits);}
\DoxyCodeLine{02779\ \ \ \ \ \}}
\DoxyCodeLine{02780\ \ \ \ \ \textcolor{keywordflow}{if}\ (carry\ !=\ 0)\ bigits\_.push\_back(carry);}
\DoxyCodeLine{02781\ \ \ \}}
\DoxyCodeLine{02782\ }
\DoxyCodeLine{02783\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt,\ FMT\_ENABLE\_IF(std::is\_same<UInt,\ u\textcolor{keywordtype}{int}64\_t>::value\ ||}
\DoxyCodeLine{02784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<UInt,\ u\textcolor{keywordtype}{int}128\_t>::value)>}
\DoxyCodeLine{02785\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ multiply(UInt\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{02786\ \ \ \ \ \textcolor{keyword}{using\ }half\_uint\ =}
\DoxyCodeLine{02787\ \ \ \ \ \ \ \ \ conditional\_t<std::is\_same<UInt,\ uint128\_t>::value,\ uint64\_t,\ uint32\_t>;}
\DoxyCodeLine{02788\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shift\ =\ num\_bits<half\_uint>()\ -\/\ bigit\_bits;}
\DoxyCodeLine{02789\ \ \ \ \ \textcolor{keyword}{const}\ UInt\ lower\ =\ \textcolor{keyword}{static\_cast<}half\_uint\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02790\ \ \ \ \ \textcolor{keyword}{const}\ UInt\ upper\ =\ \mbox{\hyperlink{classdetail_1_1value}{value}}\ >>\ num\_bits<half\_uint>();}
\DoxyCodeLine{02791\ \ \ \ \ UInt\ carry\ =\ 0;}
\DoxyCodeLine{02792\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ n\ =\ bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}();\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{02793\ \ \ \ \ \ \ UInt\ result\ =\ lower\ *\ bigits\_[i]\ +\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(carry);}
\DoxyCodeLine{02794\ \ \ \ \ \ \ carry\ =\ (upper\ *\ bigits\_[i]\ <<\ shift)\ +\ (result\ >>\ bigit\_bits)\ +}
\DoxyCodeLine{02795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (carry\ >>\ bigit\_bits);}
\DoxyCodeLine{02796\ \ \ \ \ \ \ bigits\_[i]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result);}
\DoxyCodeLine{02797\ \ \ \ \ \}}
\DoxyCodeLine{02798\ \ \ \ \ \textcolor{keywordflow}{while}\ (carry\ !=\ 0)\ \{}
\DoxyCodeLine{02799\ \ \ \ \ \ \ bigits\_.push\_back(\textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(carry));}
\DoxyCodeLine{02800\ \ \ \ \ \ \ carry\ >>=\ bigit\_bits;}
\DoxyCodeLine{02801\ \ \ \ \ \}}
\DoxyCodeLine{02802\ \ \ \}}
\DoxyCodeLine{02803\ }
\DoxyCodeLine{02804\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt,\ FMT\_ENABLE\_IF(std::is\_same<UInt,\ u\textcolor{keywordtype}{int}64\_t>::value\ ||}
\DoxyCodeLine{02805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<UInt,\ u\textcolor{keywordtype}{int}128\_t>::value)>}
\DoxyCodeLine{02806\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ assign(UInt\ n)\ \{}
\DoxyCodeLine{02807\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_bigits\ =\ 0;}
\DoxyCodeLine{02808\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02809\ \ \ \ \ \ \ bigits\_[num\_bigits++]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(n);}
\DoxyCodeLine{02810\ \ \ \ \ \ \ n\ >>=\ bigit\_bits;}
\DoxyCodeLine{02811\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (n\ !=\ 0);}
\DoxyCodeLine{02812\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(num\_bigits);}
\DoxyCodeLine{02813\ \ \ \ \ exp\_\ =\ 0;}
\DoxyCodeLine{02814\ \ \ \}}
\DoxyCodeLine{02815\ }
\DoxyCodeLine{02816\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02817\ \ \ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}()\ :\ exp\_(0)\ \{\}}
\DoxyCodeLine{02818\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}(uint64\_t\ n)\ \{\ assign(n);\ \}}
\DoxyCodeLine{02819\ }
\DoxyCodeLine{02820\ \ \ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02821\ \ \ \textcolor{keywordtype}{void}\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02822\ }
\DoxyCodeLine{02823\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ assign(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ other)\ \{}
\DoxyCodeLine{02824\ \ \ \ \ \textcolor{keyword}{auto}\ size\ =\ other.bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}();}
\DoxyCodeLine{02825\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(size);}
\DoxyCodeLine{02826\ \ \ \ \ \textcolor{keyword}{auto}\ data\ =\ other.bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}();}
\DoxyCodeLine{02827\ \ \ \ \ copy<bigit>(data,\ data\ +\ size,\ bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}());}
\DoxyCodeLine{02828\ \ \ \ \ exp\_\ =\ other.exp\_;}
\DoxyCodeLine{02829\ \ \ \}}
\DoxyCodeLine{02830\ }
\DoxyCodeLine{02831\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ operator=(Int\ n)\ \{}
\DoxyCodeLine{02832\ \ \ \ \ FMT\_ASSERT(n\ >\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02833\ \ \ \ \ assign(uint64\_or\_128\_t<Int>(n));}
\DoxyCodeLine{02834\ \ \ \}}
\DoxyCodeLine{02835\ }
\DoxyCodeLine{02836\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ num\_bigits()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02837\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}())\ +\ exp\_;}
\DoxyCodeLine{02838\ \ \ \}}
\DoxyCodeLine{02839\ }
\DoxyCodeLine{02840\ \ \ FMT\_NOINLINE\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ operator<<=(\textcolor{keywordtype}{int}\ shift)\ -\/>\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ \{}
\DoxyCodeLine{02841\ \ \ \ \ FMT\_ASSERT(shift\ >=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02842\ \ \ \ \ exp\_\ +=\ shift\ /\ bigit\_bits;}
\DoxyCodeLine{02843\ \ \ \ \ shift\ \%=\ bigit\_bits;}
\DoxyCodeLine{02844\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ ==\ 0)\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02845\ \ \ \ \ bigit\ carry\ =\ 0;}
\DoxyCodeLine{02846\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ n\ =\ bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}();\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{02847\ \ \ \ \ \ \ bigit\ c\ =\ bigits\_[i]\ >>\ (bigit\_bits\ -\/\ shift);}
\DoxyCodeLine{02848\ \ \ \ \ \ \ bigits\_[i]\ =\ (bigits\_[i]\ <<\ shift)\ +\ carry;}
\DoxyCodeLine{02849\ \ \ \ \ \ \ carry\ =\ c;}
\DoxyCodeLine{02850\ \ \ \ \ \}}
\DoxyCodeLine{02851\ \ \ \ \ \textcolor{keywordflow}{if}\ (carry\ !=\ 0)\ bigits\_.push\_back(carry);}
\DoxyCodeLine{02852\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02853\ \ \ \}}
\DoxyCodeLine{02854\ }
\DoxyCodeLine{02855\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>}
\DoxyCodeLine{02856\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ operator*=(Int\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ \{}
\DoxyCodeLine{02857\ \ \ \ \ FMT\_ASSERT(\mbox{\hyperlink{classdetail_1_1value}{value}}\ >\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02858\ \ \ \ \ multiply(uint32\_or\_64\_or\_128\_t<Int>(\mbox{\hyperlink{classdetail_1_1value}{value}}));}
\DoxyCodeLine{02859\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02860\ \ \ \}}
\DoxyCodeLine{02861\ }
\DoxyCodeLine{02862\ \ \ \textcolor{keyword}{friend}\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ compare(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ rhs)}
\DoxyCodeLine{02863\ \ \ \ \ \ \ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02864\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_lhs\_bigits\ =\ lhs.num\_bigits(),\ num\_rhs\_bigits\ =\ rhs.num\_bigits();}
\DoxyCodeLine{02865\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_lhs\_bigits\ !=\ num\_rhs\_bigits)}
\DoxyCodeLine{02866\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ num\_lhs\_bigits\ >\ num\_rhs\_bigits\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{02867\ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(lhs.bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}())\ -\/\ 1;}
\DoxyCodeLine{02868\ \ \ \ \ \textcolor{keywordtype}{int}\ j\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(rhs.bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}())\ -\/\ 1;}
\DoxyCodeLine{02869\ \ \ \ \ \textcolor{keywordtype}{int}\ end\ =\ i\ -\/\ j;}
\DoxyCodeLine{02870\ \ \ \ \ \textcolor{keywordflow}{if}\ (end\ <\ 0)\ end\ =\ 0;}
\DoxyCodeLine{02871\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ i\ >=\ end;\ -\/-\/i,\ -\/-\/j)\ \{}
\DoxyCodeLine{02872\ \ \ \ \ \ \ bigit\ lhs\_bigit\ =\ lhs[i],\ rhs\_bigit\ =\ rhs[j];}
\DoxyCodeLine{02873\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lhs\_bigit\ !=\ rhs\_bigit)\ \textcolor{keywordflow}{return}\ lhs\_bigit\ >\ rhs\_bigit\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{02874\ \ \ \ \ \}}
\DoxyCodeLine{02875\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ j)\ \textcolor{keywordflow}{return}\ i\ >\ j\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{02876\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02877\ \ \ \}}
\DoxyCodeLine{02878\ }
\DoxyCodeLine{02879\ \ \ \textcolor{comment}{//\ Returns\ compare(lhs1\ +\ lhs2,\ rhs).}}
\DoxyCodeLine{02880\ \ \ \textcolor{keyword}{friend}\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ add\_compare(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ lhs1,}
\DoxyCodeLine{02881\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ lhs2,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ rhs)}
\DoxyCodeLine{02882\ \ \ \ \ \ \ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02883\ \ \ \ \ \textcolor{keyword}{auto}\ minimum\ =\ [](\textcolor{keywordtype}{int}\ a,\ \textcolor{keywordtype}{int}\ b)\ \{\ \textcolor{keywordflow}{return}\ a\ <\ b\ ?\ a\ :\ b;\ \};}
\DoxyCodeLine{02884\ \ \ \ \ \textcolor{keyword}{auto}\ maximum\ =\ [](\textcolor{keywordtype}{int}\ a,\ \textcolor{keywordtype}{int}\ b)\ \{\ \textcolor{keywordflow}{return}\ a\ >\ b\ ?\ a\ :\ b;\ \};}
\DoxyCodeLine{02885\ \ \ \ \ \textcolor{keywordtype}{int}\ max\_lhs\_bigits\ =\ maximum(lhs1.num\_bigits(),\ lhs2.num\_bigits());}
\DoxyCodeLine{02886\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_rhs\_bigits\ =\ rhs.num\_bigits();}
\DoxyCodeLine{02887\ \ \ \ \ \textcolor{keywordflow}{if}\ (max\_lhs\_bigits\ +\ 1\ <\ num\_rhs\_bigits)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02888\ \ \ \ \ \textcolor{keywordflow}{if}\ (max\_lhs\_bigits\ >\ num\_rhs\_bigits)\ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{02889\ \ \ \ \ \textcolor{keyword}{auto}\ get\_bigit\ =\ [](\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ n,\ \textcolor{keywordtype}{int}\ i)\ -\/>\ bigit\ \{}
\DoxyCodeLine{02890\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i\ >=\ n.exp\_\ \&\&\ i\ <\ n.num\_bigits()\ ?\ n[i\ -\/\ n.exp\_]\ :\ 0;}
\DoxyCodeLine{02891\ \ \ \ \ \};}
\DoxyCodeLine{02892\ \ \ \ \ double\_bigit\ borrow\ =\ 0;}
\DoxyCodeLine{02893\ \ \ \ \ \textcolor{keywordtype}{int}\ min\_exp\ =\ minimum(minimum(lhs1.exp\_,\ lhs2.exp\_),\ rhs.exp\_);}
\DoxyCodeLine{02894\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_rhs\_bigits\ -\/\ 1;\ i\ >=\ min\_exp;\ -\/-\/i)\ \{}
\DoxyCodeLine{02895\ \ \ \ \ \ \ double\_bigit\ sum\ =}
\DoxyCodeLine{02896\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}(get\_bigit(lhs1,\ i))\ +\ get\_bigit(lhs2,\ i);}
\DoxyCodeLine{02897\ \ \ \ \ \ \ bigit\ rhs\_bigit\ =\ get\_bigit(rhs,\ i);}
\DoxyCodeLine{02898\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sum\ >\ rhs\_bigit\ +\ borrow)\ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{02899\ \ \ \ \ \ \ borrow\ =\ rhs\_bigit\ +\ borrow\ -\/\ sum;}
\DoxyCodeLine{02900\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (borrow\ >\ 1)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02901\ \ \ \ \ \ \ borrow\ <<=\ bigit\_bits;}
\DoxyCodeLine{02902\ \ \ \ \ \}}
\DoxyCodeLine{02903\ \ \ \ \ \textcolor{keywordflow}{return}\ borrow\ !=\ 0\ ?\ -\/1\ :\ 0;}
\DoxyCodeLine{02904\ \ \ \}}
\DoxyCodeLine{02905\ }
\DoxyCodeLine{02906\ \ \ \textcolor{comment}{//\ Assigns\ pow(10,\ exp)\ to\ this\ bigint.}}
\DoxyCodeLine{02907\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ assign\_pow10(\textcolor{keywordtype}{int}\ exp)\ \{}
\DoxyCodeLine{02908\ \ \ \ \ FMT\_ASSERT(exp\ >=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02909\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\ ==\ 0)\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ 1;}
\DoxyCodeLine{02910\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ top\ bit.}}
\DoxyCodeLine{02911\ \ \ \ \ \textcolor{keywordtype}{int}\ bitmask\ =\ 1;}
\DoxyCodeLine{02912\ \ \ \ \ \textcolor{keywordflow}{while}\ (exp\ >=\ bitmask)\ bitmask\ <<=\ 1;}
\DoxyCodeLine{02913\ \ \ \ \ bitmask\ >>=\ 1;}
\DoxyCodeLine{02914\ \ \ \ \ \textcolor{comment}{//\ pow(10,\ exp)\ =\ pow(5,\ exp)\ *\ pow(2,\ exp).\ First\ compute\ pow(5,\ exp)\ by}}
\DoxyCodeLine{02915\ \ \ \ \ \textcolor{comment}{//\ repeated\ squaring\ and\ multiplication.}}
\DoxyCodeLine{02916\ \ \ \ \ *\textcolor{keyword}{this}\ =\ 5;}
\DoxyCodeLine{02917\ \ \ \ \ bitmask\ >>=\ 1;}
\DoxyCodeLine{02918\ \ \ \ \ \textcolor{keywordflow}{while}\ (bitmask\ !=\ 0)\ \{}
\DoxyCodeLine{02919\ \ \ \ \ \ \ square();}
\DoxyCodeLine{02920\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((exp\ \&\ bitmask)\ !=\ 0)\ *\textcolor{keyword}{this}\ *=\ 5;}
\DoxyCodeLine{02921\ \ \ \ \ \ \ bitmask\ >>=\ 1;}
\DoxyCodeLine{02922\ \ \ \ \ \}}
\DoxyCodeLine{02923\ \ \ \ \ *\textcolor{keyword}{this}\ <<=\ exp;\ \ \textcolor{comment}{//\ Multiply\ by\ pow(2,\ exp)\ by\ shifting.}}
\DoxyCodeLine{02924\ \ \ \}}
\DoxyCodeLine{02925\ }
\DoxyCodeLine{02926\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ square()\ \{}
\DoxyCodeLine{02927\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_bigits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}());}
\DoxyCodeLine{02928\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_result\_bigits\ =\ 2\ *\ num\_bigits;}
\DoxyCodeLine{02929\ \ \ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<bigit,\ bigits\_capacity>}}\ n(std::move(bigits\_));}
\DoxyCodeLine{02930\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(to\_unsigned(num\_result\_bigits));}
\DoxyCodeLine{02931\ \ \ \ \ \textcolor{keyword}{auto}\ sum\ =\ uint128\_t();}
\DoxyCodeLine{02932\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ bigit\_index\ =\ 0;\ bigit\_index\ <\ num\_bigits;\ ++bigit\_index)\ \{}
\DoxyCodeLine{02933\ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ bigit\ at\ position\ bigit\_index\ of\ the\ result\ by\ adding}}
\DoxyCodeLine{02934\ \ \ \ \ \ \ \textcolor{comment}{//\ cross-\/product\ terms\ n[i]\ *\ n[j]\ such\ that\ i\ +\ j\ ==\ bigit\_index.}}
\DoxyCodeLine{02935\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0,\ j\ =\ bigit\_index;\ j\ >=\ 0;\ ++i,\ -\/-\/j)\ \{}
\DoxyCodeLine{02936\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Most\ terms\ are\ multiplied\ twice\ which\ can\ be\ optimized\ in\ the\ future.}}
\DoxyCodeLine{02937\ \ \ \ \ \ \ \ \ sum\ +=\ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}(n[i])\ *\ n[j];}
\DoxyCodeLine{02938\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02939\ \ \ \ \ \ \ (*this)[bigit\_index]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(sum);}
\DoxyCodeLine{02940\ \ \ \ \ \ \ sum\ >>=\ num\_bits<bigit>();\ \ \textcolor{comment}{//\ Compute\ the\ carry.}}
\DoxyCodeLine{02941\ \ \ \ \ \}}
\DoxyCodeLine{02942\ \ \ \ \ \textcolor{comment}{//\ Do\ the\ same\ for\ the\ top\ half.}}
\DoxyCodeLine{02943\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ bigit\_index\ =\ num\_bigits;\ bigit\_index\ <\ num\_result\_bigits;}
\DoxyCodeLine{02944\ \ \ \ \ \ \ \ \ \ ++bigit\_index)\ \{}
\DoxyCodeLine{02945\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ num\_bigits\ -\/\ 1,\ i\ =\ bigit\_index\ -\/\ j;\ i\ <\ num\_bigits;)}
\DoxyCodeLine{02946\ \ \ \ \ \ \ \ \ sum\ +=\ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}(n[i++])\ *\ n[j-\/-\/];}
\DoxyCodeLine{02947\ \ \ \ \ \ \ (*this)[bigit\_index]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(sum);}
\DoxyCodeLine{02948\ \ \ \ \ \ \ sum\ >>=\ num\_bits<bigit>();}
\DoxyCodeLine{02949\ \ \ \ \ \}}
\DoxyCodeLine{02950\ \ \ \ \ remove\_leading\_zeros();}
\DoxyCodeLine{02951\ \ \ \ \ exp\_\ *=\ 2;}
\DoxyCodeLine{02952\ \ \ \}}
\DoxyCodeLine{02953\ }
\DoxyCodeLine{02954\ \ \ \textcolor{comment}{//\ If\ this\ bigint\ has\ a\ bigger\ exponent\ than\ other,\ adds\ trailing\ zero\ to\ make}}
\DoxyCodeLine{02955\ \ \ \textcolor{comment}{//\ exponents\ equal.\ This\ simplifies\ some\ operations\ such\ as\ subtraction.}}
\DoxyCodeLine{02956\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ align(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ other)\ \{}
\DoxyCodeLine{02957\ \ \ \ \ \textcolor{keywordtype}{int}\ exp\_difference\ =\ exp\_\ -\/\ other.exp\_;}
\DoxyCodeLine{02958\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\_difference\ <=\ 0)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02959\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_bigits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}());}
\DoxyCodeLine{02960\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(to\_unsigned(num\_bigits\ +\ exp\_difference));}
\DoxyCodeLine{02961\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_bigits\ -\/\ 1,\ j\ =\ i\ +\ exp\_difference;\ i\ >=\ 0;\ -\/-\/i,\ -\/-\/j)}
\DoxyCodeLine{02962\ \ \ \ \ \ \ bigits\_[j]\ =\ bigits\_[i];}
\DoxyCodeLine{02963\ \ \ \ \ memset(bigits\_.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}(),\ 0,\ to\_unsigned(exp\_difference)\ *\ \textcolor{keyword}{sizeof}(bigit));}
\DoxyCodeLine{02964\ \ \ \ \ exp\_\ -\/=\ exp\_difference;}
\DoxyCodeLine{02965\ \ \ \}}
\DoxyCodeLine{02966\ }
\DoxyCodeLine{02967\ \ \ \textcolor{comment}{//\ Divides\ this\ bignum\ by\ divisor,\ assigning\ the\ remainder\ to\ this\ and}}
\DoxyCodeLine{02968\ \ \ \textcolor{comment}{//\ returning\ the\ quotient.}}
\DoxyCodeLine{02969\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ divmod\_assign(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1bigint}{bigint}}\&\ divisor)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02970\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{this}\ !=\ \&divisor,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02971\ \ \ \ \ \textcolor{keywordflow}{if}\ (compare(*\textcolor{keyword}{this},\ divisor)\ <\ 0)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02972\ \ \ \ \ FMT\_ASSERT(divisor.bigits\_[divisor.bigits\_.size()\ -\/\ 1u]\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02973\ \ \ \ \ align(divisor);}
\DoxyCodeLine{02974\ \ \ \ \ \textcolor{keywordtype}{int}\ quotient\ =\ 0;}
\DoxyCodeLine{02975\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02976\ \ \ \ \ \ \ subtract\_aligned(divisor);}
\DoxyCodeLine{02977\ \ \ \ \ \ \ ++quotient;}
\DoxyCodeLine{02978\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (compare(*\textcolor{keyword}{this},\ divisor)\ >=\ 0);}
\DoxyCodeLine{02979\ \ \ \ \ \textcolor{keywordflow}{return}\ quotient;}
\DoxyCodeLine{02980\ \ \ \}}
\DoxyCodeLine{02981\ \};}
\DoxyCodeLine{02982\ }
\DoxyCodeLine{02983\ \textcolor{comment}{//\ format\_dragon\ flags.}}
\DoxyCodeLine{02984\ \textcolor{keyword}{enum}\ dragon\ \{}
\DoxyCodeLine{02985\ \ \ predecessor\_closer\ =\ 1,}
\DoxyCodeLine{02986\ \ \ fixup\ =\ 2,\ \ \textcolor{comment}{//\ Run\ fixup\ to\ correct\ exp10\ which\ can\ be\ off\ by\ one.}}
\DoxyCodeLine{02987\ \ \ fixed\ =\ 4,}
\DoxyCodeLine{02988\ \};}
\DoxyCodeLine{02989\ }
\DoxyCodeLine{02990\ \textcolor{comment}{//\ Formats\ a\ floating-\/point\ number\ using\ a\ variation\ of\ the\ Fixed-\/Precision}}
\DoxyCodeLine{02991\ \textcolor{comment}{//\ Positive\ Floating-\/Point\ Printout\ ((FPP)\string^2)\ algorithm\ by\ Steele\ \&\ White:}}
\DoxyCodeLine{02992\ \textcolor{comment}{//\ https://fmt.dev/papers/p372-\/steele.pdf.}}
\DoxyCodeLine{02993\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ format\_dragon(basic\_fp<uint128\_t>\ value,}
\DoxyCodeLine{02994\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ flags,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{02995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf,\ \textcolor{keywordtype}{int}\&\ exp10)\ \{}
\DoxyCodeLine{02996\ \ \ bigint\ numerator;\ \ \ \ \textcolor{comment}{//\ 2\ *\ R\ in\ (FPP)\string^2.}}
\DoxyCodeLine{02997\ \ \ bigint\ denominator;\ \ \textcolor{comment}{//\ 2\ *\ S\ in\ (FPP)\string^2.}}
\DoxyCodeLine{02998\ \ \ \textcolor{comment}{//\ lower\ and\ upper\ are\ differences\ between\ value\ and\ corresponding\ boundaries.}}
\DoxyCodeLine{02999\ \ \ bigint\ lower;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (M\string^-\/\ in\ (FPP)\string^2).}}
\DoxyCodeLine{03000\ \ \ bigint\ upper\_store;\ \ \ \ \ \ \ \textcolor{comment}{//\ upper's\ value\ if\ different\ from\ lower.}}
\DoxyCodeLine{03001\ \ \ bigint*\ upper\ =\ \textcolor{keyword}{nullptr};\ \ \textcolor{comment}{//\ (M\string^+\ in\ (FPP)\string^2).}}
\DoxyCodeLine{03002\ \ \ \textcolor{comment}{//\ Shift\ numerator\ and\ denominator\ by\ an\ extra\ bit\ or\ two\ (if\ lower\ boundary}}
\DoxyCodeLine{03003\ \ \ \textcolor{comment}{//\ is\ closer)\ to\ make\ lower\ and\ upper\ integers.\ This\ eliminates\ multiplication}}
\DoxyCodeLine{03004\ \ \ \textcolor{comment}{//\ by\ 2\ during\ later\ computations.}}
\DoxyCodeLine{03005\ \ \ \textcolor{keywordtype}{bool}\ is\_predecessor\_closer\ =\ (flags\ \&\ dragon::predecessor\_closer)\ !=\ 0;}
\DoxyCodeLine{03006\ \ \ \textcolor{keywordtype}{int}\ shift\ =\ is\_predecessor\_closer\ ?\ 2\ :\ 1;}
\DoxyCodeLine{03007\ \ \ \textcolor{keywordflow}{if}\ (value.e\ >=\ 0)\ \{}
\DoxyCodeLine{03008\ \ \ \ \ numerator\ =\ value.f;}
\DoxyCodeLine{03009\ \ \ \ \ numerator\ <<=\ value.e\ +\ shift;}
\DoxyCodeLine{03010\ \ \ \ \ lower\ =\ 1;}
\DoxyCodeLine{03011\ \ \ \ \ lower\ <<=\ value.e;}
\DoxyCodeLine{03012\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ \{}
\DoxyCodeLine{03013\ \ \ \ \ \ \ upper\_store\ =\ 1;}
\DoxyCodeLine{03014\ \ \ \ \ \ \ upper\_store\ <<=\ value.e\ +\ 1;}
\DoxyCodeLine{03015\ \ \ \ \ \ \ upper\ =\ \&upper\_store;}
\DoxyCodeLine{03016\ \ \ \ \ \}}
\DoxyCodeLine{03017\ \ \ \ \ denominator.assign\_pow10(exp10);}
\DoxyCodeLine{03018\ \ \ \ \ denominator\ <<=\ shift;}
\DoxyCodeLine{03019\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (exp10\ <\ 0)\ \{}
\DoxyCodeLine{03020\ \ \ \ \ numerator.assign\_pow10(-\/exp10);}
\DoxyCodeLine{03021\ \ \ \ \ lower.assign(numerator);}
\DoxyCodeLine{03022\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ \{}
\DoxyCodeLine{03023\ \ \ \ \ \ \ upper\_store.assign(numerator);}
\DoxyCodeLine{03024\ \ \ \ \ \ \ upper\_store\ <<=\ 1;}
\DoxyCodeLine{03025\ \ \ \ \ \ \ upper\ =\ \&upper\_store;}
\DoxyCodeLine{03026\ \ \ \ \ \}}
\DoxyCodeLine{03027\ \ \ \ \ numerator\ *=\ value.f;}
\DoxyCodeLine{03028\ \ \ \ \ numerator\ <<=\ shift;}
\DoxyCodeLine{03029\ \ \ \ \ denominator\ =\ 1;}
\DoxyCodeLine{03030\ \ \ \ \ denominator\ <<=\ shift\ -\/\ value.e;}
\DoxyCodeLine{03031\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03032\ \ \ \ \ numerator\ =\ value.f;}
\DoxyCodeLine{03033\ \ \ \ \ numerator\ <<=\ shift;}
\DoxyCodeLine{03034\ \ \ \ \ denominator.assign\_pow10(exp10);}
\DoxyCodeLine{03035\ \ \ \ \ denominator\ <<=\ shift\ -\/\ value.e;}
\DoxyCodeLine{03036\ \ \ \ \ lower\ =\ 1;}
\DoxyCodeLine{03037\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ \{}
\DoxyCodeLine{03038\ \ \ \ \ \ \ upper\_store\ =\ 1ULL\ <<\ 1;}
\DoxyCodeLine{03039\ \ \ \ \ \ \ upper\ =\ \&upper\_store;}
\DoxyCodeLine{03040\ \ \ \ \ \}}
\DoxyCodeLine{03041\ \ \ \}}
\DoxyCodeLine{03042\ \ \ \textcolor{keywordtype}{int}\ even\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((value.f\ \&\ 1)\ ==\ 0);}
\DoxyCodeLine{03043\ \ \ \textcolor{keywordflow}{if}\ (!upper)\ upper\ =\ \&lower;}
\DoxyCodeLine{03044\ \ \ \textcolor{keywordtype}{bool}\ shortest\ =\ num\_digits\ <\ 0;}
\DoxyCodeLine{03045\ \ \ \textcolor{keywordflow}{if}\ ((flags\ \&\ dragon::fixup)\ !=\ 0)\ \{}
\DoxyCodeLine{03046\ \ \ \ \ \textcolor{keywordflow}{if}\ (add\_compare(numerator,\ *upper,\ denominator)\ +\ even\ <=\ 0)\ \{}
\DoxyCodeLine{03047\ \ \ \ \ \ \ -\/-\/exp10;}
\DoxyCodeLine{03048\ \ \ \ \ \ \ numerator\ *=\ 10;}
\DoxyCodeLine{03049\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ <\ 0)\ \{}
\DoxyCodeLine{03050\ \ \ \ \ \ \ \ \ lower\ *=\ 10;}
\DoxyCodeLine{03051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (upper\ !=\ \&lower)\ *upper\ *=\ 10;}
\DoxyCodeLine{03052\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03053\ \ \ \ \ \}}
\DoxyCodeLine{03054\ \ \ \ \ \textcolor{keywordflow}{if}\ ((flags\ \&\ dragon::fixed)\ !=\ 0)\ adjust\_precision(num\_digits,\ exp10\ +\ 1);}
\DoxyCodeLine{03055\ \ \ \}}
\DoxyCodeLine{03056\ \ \ \textcolor{comment}{//\ Invariant:\ value\ ==\ (numerator\ /\ denominator)\ *\ pow(10,\ exp10).}}
\DoxyCodeLine{03057\ \ \ \textcolor{keywordflow}{if}\ (shortest)\ \{}
\DoxyCodeLine{03058\ \ \ \ \ \textcolor{comment}{//\ Generate\ the\ shortest\ representation.}}
\DoxyCodeLine{03059\ \ \ \ \ num\_digits\ =\ 0;}
\DoxyCodeLine{03060\ \ \ \ \ \textcolor{keywordtype}{char}*\ data\ =\ buf.data();}
\DoxyCodeLine{03061\ \ \ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{03062\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ numerator.divmod\_assign(denominator);}
\DoxyCodeLine{03063\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ low\ =\ compare(numerator,\ lower)\ -\/\ even\ <\ 0;\ \ \textcolor{comment}{//\ numerator\ <[=]\ lower.}}
\DoxyCodeLine{03064\ \ \ \ \ \ \ \textcolor{comment}{//\ numerator\ +\ upper\ >[=]\ pow10:}}
\DoxyCodeLine{03065\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ high\ =\ add\_compare(numerator,\ *upper,\ denominator)\ +\ even\ >\ 0;}
\DoxyCodeLine{03066\ \ \ \ \ \ \ data[num\_digits++]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{03067\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (low\ ||\ high)\ \{}
\DoxyCodeLine{03068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!low)\ \{}
\DoxyCodeLine{03069\ \ \ \ \ \ \ \ \ \ \ ++data[num\_digits\ -\/\ 1];}
\DoxyCodeLine{03070\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (high)\ \{}
\DoxyCodeLine{03071\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ add\_compare(numerator,\ numerator,\ denominator);}
\DoxyCodeLine{03072\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Round\ half\ to\ even.}}
\DoxyCodeLine{03073\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ >\ 0\ ||\ (result\ ==\ 0\ \&\&\ (digit\ \%\ 2)\ !=\ 0))}
\DoxyCodeLine{03074\ \ \ \ \ \ \ \ \ \ \ \ \ ++data[num\_digits\ -\/\ 1];}
\DoxyCodeLine{03075\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03076\ \ \ \ \ \ \ \ \ buf.try\_resize(to\_unsigned(num\_digits));}
\DoxyCodeLine{03077\ \ \ \ \ \ \ \ \ exp10\ -\/=\ num\_digits\ -\/\ 1;}
\DoxyCodeLine{03078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{03079\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03080\ \ \ \ \ \ \ numerator\ *=\ 10;}
\DoxyCodeLine{03081\ \ \ \ \ \ \ lower\ *=\ 10;}
\DoxyCodeLine{03082\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (upper\ !=\ \&lower)\ *upper\ *=\ 10;}
\DoxyCodeLine{03083\ \ \ \ \ \}}
\DoxyCodeLine{03084\ \ \ \}}
\DoxyCodeLine{03085\ \ \ \textcolor{comment}{//\ Generate\ the\ given\ number\ of\ digits.}}
\DoxyCodeLine{03086\ \ \ exp10\ -\/=\ num\_digits\ -\/\ 1;}
\DoxyCodeLine{03087\ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ <=\ 0)\ \{}
\DoxyCodeLine{03088\ \ \ \ \ \textcolor{keyword}{auto}\ digit\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03089\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ ==\ 0)\ \{}
\DoxyCodeLine{03090\ \ \ \ \ \ \ denominator\ *=\ 10;}
\DoxyCodeLine{03091\ \ \ \ \ \ \ digit\ =\ add\_compare(numerator,\ numerator,\ denominator)\ >\ 0\ ?\ \textcolor{charliteral}{'1'}\ :\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03092\ \ \ \ \ \}}
\DoxyCodeLine{03093\ \ \ \ \ buf.push\_back(digit);}
\DoxyCodeLine{03094\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{03095\ \ \ \}}
\DoxyCodeLine{03096\ \ \ buf.try\_resize(to\_unsigned(num\_digits));}
\DoxyCodeLine{03097\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_digits\ -\/\ 1;\ ++i)\ \{}
\DoxyCodeLine{03098\ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ numerator.divmod\_assign(denominator);}
\DoxyCodeLine{03099\ \ \ \ \ buf[i]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{03100\ \ \ \ \ numerator\ *=\ 10;}
\DoxyCodeLine{03101\ \ \ \}}
\DoxyCodeLine{03102\ \ \ \textcolor{keywordtype}{int}\ digit\ =\ numerator.divmod\_assign(denominator);}
\DoxyCodeLine{03103\ \ \ \textcolor{keyword}{auto}\ result\ =\ add\_compare(numerator,\ numerator,\ denominator);}
\DoxyCodeLine{03104\ \ \ \textcolor{keywordflow}{if}\ (result\ >\ 0\ ||\ (result\ ==\ 0\ \&\&\ (digit\ \%\ 2)\ !=\ 0))\ \{}
\DoxyCodeLine{03105\ \ \ \ \ \textcolor{keywordflow}{if}\ (digit\ ==\ 9)\ \{}
\DoxyCodeLine{03106\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ overflow\ =\ \textcolor{charliteral}{'0'}\ +\ 10;}
\DoxyCodeLine{03107\ \ \ \ \ \ \ buf[num\_digits\ -\/\ 1]\ =\ overflow;}
\DoxyCodeLine{03108\ \ \ \ \ \ \ \textcolor{comment}{//\ Propagate\ the\ carry.}}
\DoxyCodeLine{03109\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_digits\ -\/\ 1;\ i\ >\ 0\ \&\&\ buf[i]\ ==\ overflow;\ -\/-\/i)\ \{}
\DoxyCodeLine{03110\ \ \ \ \ \ \ \ \ buf[i]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03111\ \ \ \ \ \ \ \ \ ++buf[i\ -\/\ 1];}
\DoxyCodeLine{03112\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03113\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buf[0]\ ==\ overflow)\ \{}
\DoxyCodeLine{03114\ \ \ \ \ \ \ \ \ buf[0]\ =\ \textcolor{charliteral}{'1'};}
\DoxyCodeLine{03115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((flags\ \&\ dragon::fixed)\ !=\ 0)}
\DoxyCodeLine{03116\ \ \ \ \ \ \ \ \ \ \ buf.push\_back(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{03117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03118\ \ \ \ \ \ \ \ \ \ \ ++exp10;}
\DoxyCodeLine{03119\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03120\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{03121\ \ \ \ \ \}}
\DoxyCodeLine{03122\ \ \ \ \ ++digit;}
\DoxyCodeLine{03123\ \ \ \}}
\DoxyCodeLine{03124\ \ \ buf[num\_digits\ -\/\ 1]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{03125\ \}}
\DoxyCodeLine{03126\ }
\DoxyCodeLine{03127\ \textcolor{comment}{//\ Formats\ a\ floating-\/point\ number\ using\ the\ hexfloat\ format.}}
\DoxyCodeLine{03128\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{double}\_\textcolor{keywordtype}{double}<Float>::value)>}
\DoxyCodeLine{03129\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ format\_hexfloat(Float\ value,\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\ specs,}
\DoxyCodeLine{03130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf)\ \{}
\DoxyCodeLine{03131\ \ \ \textcolor{comment}{//\ float\ is\ passed\ as\ double\ to\ reduce\ the\ number\ of\ instantiations\ and\ to}}
\DoxyCodeLine{03132\ \ \ \textcolor{comment}{//\ simplify\ implementation.}}
\DoxyCodeLine{03133\ \ \ \textcolor{keyword}{static\_assert}(!std::is\_same<Float,\ float>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03134\ }
\DoxyCodeLine{03135\ \ \ \textcolor{keyword}{using\ }info\ =\ dragonbox::float\_info<Float>;}
\DoxyCodeLine{03136\ }
\DoxyCodeLine{03137\ \ \ \textcolor{comment}{//\ Assume\ Float\ is\ in\ the\ format\ [sign][exponent][significand].}}
\DoxyCodeLine{03138\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ \textcolor{keyword}{typename}\ info::carrier\_uint;}
\DoxyCodeLine{03139\ }
\DoxyCodeLine{03140\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_float\_significand\_bits\ =}
\DoxyCodeLine{03141\ \ \ \ \ \ \ detail::num\_significand\_bits<Float>();}
\DoxyCodeLine{03142\ }
\DoxyCodeLine{03143\ \ \ basic\_fp<carrier\_uint>\ f(value);}
\DoxyCodeLine{03144\ \ \ f.e\ +=\ num\_float\_significand\_bits;}
\DoxyCodeLine{03145\ \ \ \textcolor{keywordflow}{if}\ (!has\_implicit\_bit<Float>())\ -\/-\/f.e;}
\DoxyCodeLine{03146\ }
\DoxyCodeLine{03147\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_fraction\_bits\ =}
\DoxyCodeLine{03148\ \ \ \ \ \ \ num\_float\_significand\_bits\ +\ (has\_implicit\_bit<Float>()\ ?\ 1\ :\ 0);}
\DoxyCodeLine{03149\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_xdigits\ =\ (num\_fraction\_bits\ +\ 3)\ /\ 4;}
\DoxyCodeLine{03150\ }
\DoxyCodeLine{03151\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ leading\_shift\ =\ ((num\_xdigits\ -\/\ 1)\ *\ 4);}
\DoxyCodeLine{03152\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ leading\_mask\ =\ carrier\_uint(0xF)\ <<\ leading\_shift;}
\DoxyCodeLine{03153\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ leading\_xdigit\ =}
\DoxyCodeLine{03154\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}((f.f\ \&\ leading\_mask)\ >>\ leading\_shift);}
\DoxyCodeLine{03155\ \ \ \textcolor{keywordflow}{if}\ (leading\_xdigit\ >\ 1)\ f.e\ -\/=\ (32\ -\/\ countl\_zero(leading\_xdigit)\ -\/\ 1);}
\DoxyCodeLine{03156\ }
\DoxyCodeLine{03157\ \ \ \textcolor{keywordtype}{int}\ print\_xdigits\ =\ num\_xdigits\ -\/\ 1;}
\DoxyCodeLine{03158\ \ \ \textcolor{keywordflow}{if}\ (specs.precision\ >=\ 0\ \&\&\ print\_xdigits\ >\ specs.precision)\ \{}
\DoxyCodeLine{03159\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shift\ =\ ((print\_xdigits\ -\/\ specs.precision\ -\/\ 1)\ *\ 4);}
\DoxyCodeLine{03160\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ mask\ =\ carrier\_uint(0xF)\ <<\ shift;}
\DoxyCodeLine{03161\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ v\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}((f.f\ \&\ mask)\ >>\ shift);}
\DoxyCodeLine{03162\ }
\DoxyCodeLine{03163\ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ >=\ 8)\ \{}
\DoxyCodeLine{03164\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ inc\ =\ carrier\_uint(1)\ <<\ (shift\ +\ 4);}
\DoxyCodeLine{03165\ \ \ \ \ \ \ f.f\ +=\ inc;}
\DoxyCodeLine{03166\ \ \ \ \ \ \ f.f\ \&=\ \string~(inc\ -\/\ 1);}
\DoxyCodeLine{03167\ \ \ \ \ \}}
\DoxyCodeLine{03168\ }
\DoxyCodeLine{03169\ \ \ \ \ \textcolor{comment}{//\ Check\ long\ double\ overflow}}
\DoxyCodeLine{03170\ \ \ \ \ \textcolor{keywordflow}{if}\ (!has\_implicit\_bit<Float>())\ \{}
\DoxyCodeLine{03171\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ implicit\_bit\ =\ carrier\_uint(1)\ <<\ num\_float\_significand\_bits;}
\DoxyCodeLine{03172\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((f.f\ \&\ implicit\_bit)\ ==\ implicit\_bit)\ \{}
\DoxyCodeLine{03173\ \ \ \ \ \ \ \ \ f.f\ >>=\ 4;}
\DoxyCodeLine{03174\ \ \ \ \ \ \ \ \ f.e\ +=\ 4;}
\DoxyCodeLine{03175\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03176\ \ \ \ \ \}}
\DoxyCodeLine{03177\ }
\DoxyCodeLine{03178\ \ \ \ \ print\_xdigits\ =\ specs.precision;}
\DoxyCodeLine{03179\ \ \ \}}
\DoxyCodeLine{03180\ }
\DoxyCodeLine{03181\ \ \ \textcolor{keywordtype}{char}\ xdigits[num\_bits<carrier\_uint>()\ /\ 4];}
\DoxyCodeLine{03182\ \ \ detail::fill\_n(xdigits,\ \textcolor{keyword}{sizeof}(xdigits),\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{03183\ \ \ format\_uint<4>(xdigits,\ f.f,\ num\_xdigits,\ specs.upper);}
\DoxyCodeLine{03184\ }
\DoxyCodeLine{03185\ \ \ \textcolor{comment}{//\ Remove\ zero\ tail}}
\DoxyCodeLine{03186\ \ \ \textcolor{keywordflow}{while}\ (print\_xdigits\ >\ 0\ \&\&\ xdigits[print\_xdigits]\ ==\ \textcolor{charliteral}{'0'})\ -\/-\/print\_xdigits;}
\DoxyCodeLine{03187\ }
\DoxyCodeLine{03188\ \ \ buf.push\_back(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{03189\ \ \ buf.push\_back(specs.upper\ ?\ \textcolor{charliteral}{'X'}\ :\ \textcolor{charliteral}{'x'});}
\DoxyCodeLine{03190\ \ \ buf.push\_back(xdigits[0]);}
\DoxyCodeLine{03191\ \ \ \textcolor{keywordflow}{if}\ (specs.alt\ ||\ print\_xdigits\ >\ 0\ ||\ print\_xdigits\ <\ specs.precision)}
\DoxyCodeLine{03192\ \ \ \ \ buf.push\_back(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{03193\ \ \ buf.append(xdigits\ +\ 1,\ xdigits\ +\ 1\ +\ print\_xdigits);}
\DoxyCodeLine{03194\ \ \ \textcolor{keywordflow}{for}\ (;\ print\_xdigits\ <\ specs.precision;\ ++print\_xdigits)\ buf.push\_back(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{03195\ }
\DoxyCodeLine{03196\ \ \ buf.push\_back(specs.upper\ ?\ \textcolor{charliteral}{'P'}\ :\ \textcolor{charliteral}{'p'});}
\DoxyCodeLine{03197\ }
\DoxyCodeLine{03198\ \ \ uint32\_t\ abs\_e;}
\DoxyCodeLine{03199\ \ \ \textcolor{keywordflow}{if}\ (f.e\ <\ 0)\ \{}
\DoxyCodeLine{03200\ \ \ \ \ buf.push\_back(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{03201\ \ \ \ \ abs\_e\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(-\/f.e);}
\DoxyCodeLine{03202\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03203\ \ \ \ \ buf.push\_back(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{03204\ \ \ \ \ abs\_e\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(f.e);}
\DoxyCodeLine{03205\ \ \ \}}
\DoxyCodeLine{03206\ \ \ format\_decimal<char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buf),\ abs\_e,\ detail::count\_digits(abs\_e));}
\DoxyCodeLine{03207\ \}}
\DoxyCodeLine{03208\ }
\DoxyCodeLine{03209\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{double}\_\textcolor{keywordtype}{double}<Float>::value)>}
\DoxyCodeLine{03210\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ format\_hexfloat(Float\ value,\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\ specs,}
\DoxyCodeLine{03211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf)\ \{}
\DoxyCodeLine{03212\ \ \ format\_hexfloat(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(value),\ specs,\ buf);}
\DoxyCodeLine{03213\ \}}
\DoxyCodeLine{03214\ }
\DoxyCodeLine{03215\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ fractional\_part\_rounding\_thresholds(\textcolor{keywordtype}{int}\ index)\ -\/>\ uint32\_t\ \{}
\DoxyCodeLine{03216\ \ \ \textcolor{comment}{//\ For\ checking\ rounding\ thresholds.}}
\DoxyCodeLine{03217\ \ \ \textcolor{comment}{//\ The\ kth\ entry\ is\ chosen\ to\ be\ the\ smallest\ integer\ such\ that\ the}}
\DoxyCodeLine{03218\ \ \ \textcolor{comment}{//\ upper\ 32-\/bits\ of\ 10\string^(k+1)\ times\ it\ is\ strictly\ bigger\ than\ 5\ *\ 10\string^k.}}
\DoxyCodeLine{03219\ \ \ \textcolor{comment}{//\ It\ is\ equal\ to\ ceil(2\string^31\ +\ 2\string^32/10\string^(k\ +\ 1)).}}
\DoxyCodeLine{03220\ \ \ \textcolor{comment}{//\ These\ are\ stored\ in\ a\ string\ literal\ because\ we\ cannot\ have\ static\ arrays}}
\DoxyCodeLine{03221\ \ \ \textcolor{comment}{//\ in\ constexpr\ functions\ and\ non-\/static\ ones\ are\ poorly\ optimized.}}
\DoxyCodeLine{03222\ \ \ \textcolor{keywordflow}{return}\ U\textcolor{stringliteral}{"{}\(\backslash\)x9999999a\(\backslash\)x828f5c29\(\backslash\)x80418938\(\backslash\)x80068db9\(\backslash\)x8000a7c6\(\backslash\)x800010c7"{}}}
\DoxyCodeLine{03223\ \ \ \ \ \ \ \ \ \ U\textcolor{stringliteral}{"{}\(\backslash\)x800001ae\(\backslash\)x8000002b"{}}[index];}
\DoxyCodeLine{03224\ \}}
\DoxyCodeLine{03225\ }
\DoxyCodeLine{03226\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>}
\DoxyCodeLine{03227\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ format\_float(Float\ value,\ \textcolor{keywordtype}{int}\ precision,\ float\_specs\ specs,}
\DoxyCodeLine{03228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{03229\ \ \ \textcolor{comment}{//\ float\ is\ passed\ as\ double\ to\ reduce\ the\ number\ of\ instantiations.}}
\DoxyCodeLine{03230\ \ \ \textcolor{keyword}{static\_assert}(!std::is\_same<Float,\ float>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03231\ \ \ FMT\_ASSERT(value\ >=\ 0,\ \textcolor{stringliteral}{"{}value\ is\ negative"{}});}
\DoxyCodeLine{03232\ \ \ \textcolor{keyword}{auto}\ converted\_value\ =\ convert\_float(value);}
\DoxyCodeLine{03233\ }
\DoxyCodeLine{03234\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ fixed\ =\ specs.format\ ==\ float\_format::fixed;}
\DoxyCodeLine{03235\ \ \ \textcolor{keywordflow}{if}\ (value\ <=\ 0)\ \{\ \ \textcolor{comment}{//\ <=\ instead\ of\ ==\ to\ silence\ a\ warning.}}
\DoxyCodeLine{03236\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <=\ 0\ ||\ !fixed)\ \{}
\DoxyCodeLine{03237\ \ \ \ \ \ \ buf.push\_back(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{03238\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{03239\ \ \ \ \ \}}
\DoxyCodeLine{03240\ \ \ \ \ buf.try\_resize(to\_unsigned(precision));}
\DoxyCodeLine{03241\ \ \ \ \ fill\_n(buf.data(),\ precision,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{03242\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/precision;}
\DoxyCodeLine{03243\ \ \ \}}
\DoxyCodeLine{03244\ }
\DoxyCodeLine{03245\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ 0;}
\DoxyCodeLine{03246\ \ \ \textcolor{keywordtype}{bool}\ use\_dragon\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03247\ \ \ \textcolor{keywordtype}{unsigned}\ dragon\_flags\ =\ 0;}
\DoxyCodeLine{03248\ \ \ \textcolor{keywordflow}{if}\ (!is\_fast\_float<Float>()\ ||\ is\_constant\_evaluated())\ \{}
\DoxyCodeLine{03249\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ inv\_log2\_10\ =\ 0.3010299956639812;\ \ \textcolor{comment}{//\ 1\ /\ log2(10)}}
\DoxyCodeLine{03250\ \ \ \ \ \textcolor{keyword}{using\ }info\ =\ dragonbox::float\_info<\textcolor{keyword}{decltype}(converted\_value)>;}
\DoxyCodeLine{03251\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ f\ =\ basic\_fp<typename\ info::carrier\_uint>(converted\_value);}
\DoxyCodeLine{03252\ \ \ \ \ \textcolor{comment}{//\ Compute\ exp,\ an\ approximate\ power\ of\ 10,\ such\ that}}
\DoxyCodeLine{03253\ \ \ \ \ \textcolor{comment}{//\ \ \ 10\string^(exp\ -\/\ 1)\ <=\ value\ <\ 10\string^exp\ or\ 10\string^exp\ <=\ value\ <\ 10\string^(exp\ +\ 1).}}
\DoxyCodeLine{03254\ \ \ \ \ \textcolor{comment}{//\ This\ is\ based\ on\ log10(value)\ ==\ log2(value)\ /\ log2(10)\ and\ approximation}}
\DoxyCodeLine{03255\ \ \ \ \ \textcolor{comment}{//\ of\ log2(value)\ by\ e\ +\ num\_fraction\_bits\ idea\ from\ double-\/conversion.}}
\DoxyCodeLine{03256\ \ \ \ \ \textcolor{keyword}{auto}\ e\ =\ (f.e\ +\ count\_digits<1>(f.f)\ -\/\ 1)\ *\ inv\_log2\_10\ -\/\ 1e-\/10;}
\DoxyCodeLine{03257\ \ \ \ \ exp\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(e);}
\DoxyCodeLine{03258\ \ \ \ \ \textcolor{keywordflow}{if}\ (e\ >\ exp)\ ++exp;\ \ \textcolor{comment}{//\ Compute\ ceil.}}
\DoxyCodeLine{03259\ \ \ \ \ dragon\_flags\ =\ dragon::fixup;}
\DoxyCodeLine{03260\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (precision\ <\ 0)\ \{}
\DoxyCodeLine{03261\ \ \ \ \ \textcolor{comment}{//\ Use\ Dragonbox\ for\ the\ shortest\ format.}}
\DoxyCodeLine{03262\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.binary32)\ \{}
\DoxyCodeLine{03263\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ dec\ =\ dragonbox::to\_decimal(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(value));}
\DoxyCodeLine{03264\ \ \ \ \ \ \ write<char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buf),\ dec.significand);}
\DoxyCodeLine{03265\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ dec.exponent;}
\DoxyCodeLine{03266\ \ \ \ \ \}}
\DoxyCodeLine{03267\ \ \ \ \ \textcolor{keyword}{auto}\ dec\ =\ dragonbox::to\_decimal(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(value));}
\DoxyCodeLine{03268\ \ \ \ \ write<char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buf),\ dec.significand);}
\DoxyCodeLine{03269\ \ \ \ \ \textcolor{keywordflow}{return}\ dec.exponent;}
\DoxyCodeLine{03270\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03271\ \ \ \ \ \textcolor{comment}{//\ Extract\ significand\ bits\ and\ exponent\ bits.}}
\DoxyCodeLine{03272\ \ \ \ \ \textcolor{keyword}{using\ }info\ =\ dragonbox::float\_info<double>;}
\DoxyCodeLine{03273\ \ \ \ \ \textcolor{keyword}{auto}\ br\ =\ bit\_cast<uint64\_t>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(value));}
\DoxyCodeLine{03274\ }
\DoxyCodeLine{03275\ \ \ \ \ \textcolor{keyword}{const}\ uint64\_t\ significand\_mask\ =}
\DoxyCodeLine{03276\ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(1)\ <<\ num\_significand\_bits<double>())\ -\/\ 1;}
\DoxyCodeLine{03277\ \ \ \ \ uint64\_t\ significand\ =\ (br\ \&\ significand\_mask);}
\DoxyCodeLine{03278\ \ \ \ \ \textcolor{keywordtype}{int}\ exponent\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((br\ \&\ exponent\_mask<double>())\ >>}
\DoxyCodeLine{03279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_significand\_bits<double>());}
\DoxyCodeLine{03280\ }
\DoxyCodeLine{03281\ \ \ \ \ \textcolor{keywordflow}{if}\ (exponent\ !=\ 0)\ \{\ \ \textcolor{comment}{//\ Check\ if\ normal.}}
\DoxyCodeLine{03282\ \ \ \ \ \ \ exponent\ -\/=\ exponent\_bias<double>()\ +\ num\_significand\_bits<double>();}
\DoxyCodeLine{03283\ \ \ \ \ \ \ significand\ |=}
\DoxyCodeLine{03284\ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(1)\ <<\ num\_significand\_bits<double>());}
\DoxyCodeLine{03285\ \ \ \ \ \ \ significand\ <<=\ 1;}
\DoxyCodeLine{03286\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03287\ \ \ \ \ \ \ \textcolor{comment}{//\ Normalize\ subnormal\ inputs.}}
\DoxyCodeLine{03288\ \ \ \ \ \ \ FMT\_ASSERT(significand\ !=\ 0,\ \textcolor{stringliteral}{"{}zeros\ should\ not\ appear\ here"{}});}
\DoxyCodeLine{03289\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ shift\ =\ countl\_zero(significand);}
\DoxyCodeLine{03290\ \ \ \ \ \ \ FMT\_ASSERT(shift\ >=\ num\_bits<uint64\_t>()\ -\/\ num\_significand\_bits<double>(),}
\DoxyCodeLine{03291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03292\ \ \ \ \ \ \ shift\ -\/=\ (num\_bits<uint64\_t>()\ -\/\ num\_significand\_bits<double>()\ -\/\ 2);}
\DoxyCodeLine{03293\ \ \ \ \ \ \ exponent\ =\ (std::numeric\_limits<double>::min\_exponent\ -\/}
\DoxyCodeLine{03294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_significand\_bits<double>())\ -\/}
\DoxyCodeLine{03295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shift;}
\DoxyCodeLine{03296\ \ \ \ \ \ \ significand\ <<=\ shift;}
\DoxyCodeLine{03297\ \ \ \ \ \}}
\DoxyCodeLine{03298\ }
\DoxyCodeLine{03299\ \ \ \ \ \textcolor{comment}{//\ Compute\ the\ first\ several\ nonzero\ decimal\ significand\ digits.}}
\DoxyCodeLine{03300\ \ \ \ \ \textcolor{comment}{//\ We\ call\ the\ number\ we\ get\ the\ first\ segment.}}
\DoxyCodeLine{03301\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ k\ =\ info::kappa\ -\/\ dragonbox::floor\_log10\_pow2(exponent);}
\DoxyCodeLine{03302\ \ \ \ \ exp\ =\ -\/k;}
\DoxyCodeLine{03303\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ beta\ =\ exponent\ +\ dragonbox::floor\_log2\_pow10(k);}
\DoxyCodeLine{03304\ \ \ \ \ uint64\_t\ first\_segment;}
\DoxyCodeLine{03305\ \ \ \ \ \textcolor{keywordtype}{bool}\ has\_more\_segments;}
\DoxyCodeLine{03306\ \ \ \ \ \textcolor{keywordtype}{int}\ digits\_in\_the\_first\_segment;}
\DoxyCodeLine{03307\ \ \ \ \ \{}
\DoxyCodeLine{03308\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ r\ =\ dragonbox::umul192\_upper128(}
\DoxyCodeLine{03309\ \ \ \ \ \ \ \ \ \ \ significand\ <<\ beta,\ dragonbox::get\_cached\_power(k));}
\DoxyCodeLine{03310\ \ \ \ \ \ \ first\_segment\ =\ r.high();}
\DoxyCodeLine{03311\ \ \ \ \ \ \ has\_more\_segments\ =\ r.low()\ !=\ 0;}
\DoxyCodeLine{03312\ }
\DoxyCodeLine{03313\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ first\ segment\ can\ have\ 18\ \string~\ 19\ digits.}}
\DoxyCodeLine{03314\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (first\_segment\ >=\ 1000000000000000000ULL)\ \{}
\DoxyCodeLine{03315\ \ \ \ \ \ \ \ \ digits\_in\_the\_first\_segment\ =\ 19;}
\DoxyCodeLine{03316\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03317\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ When\ it\ is\ of\ 18-\/digits,\ we\ align\ it\ to\ 19-\/digits\ by\ adding\ a\ bogus}}
\DoxyCodeLine{03318\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ zero\ at\ the\ end.}}
\DoxyCodeLine{03319\ \ \ \ \ \ \ \ \ digits\_in\_the\_first\_segment\ =\ 18;}
\DoxyCodeLine{03320\ \ \ \ \ \ \ \ \ first\_segment\ *=\ 10;}
\DoxyCodeLine{03321\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03322\ \ \ \ \ \}}
\DoxyCodeLine{03323\ }
\DoxyCodeLine{03324\ \ \ \ \ \textcolor{comment}{//\ Compute\ the\ actual\ number\ of\ decimal\ digits\ to\ print.}}
\DoxyCodeLine{03325\ \ \ \ \ \textcolor{keywordflow}{if}\ (fixed)\ adjust\_precision(precision,\ exp\ +\ digits\_in\_the\_first\_segment);}
\DoxyCodeLine{03326\ }
\DoxyCodeLine{03327\ \ \ \ \ \textcolor{comment}{//\ Use\ Dragon4\ only\ when\ there\ might\ be\ not\ enough\ digits\ in\ the\ first}}
\DoxyCodeLine{03328\ \ \ \ \ \textcolor{comment}{//\ segment.}}
\DoxyCodeLine{03329\ \ \ \ \ \textcolor{keywordflow}{if}\ (digits\_in\_the\_first\_segment\ >\ precision)\ \{}
\DoxyCodeLine{03330\ \ \ \ \ \ \ use\_dragon\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03331\ }
\DoxyCodeLine{03332\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <=\ 0)\ \{}
\DoxyCodeLine{03333\ \ \ \ \ \ \ \ \ exp\ +=\ digits\_in\_the\_first\_segment;}
\DoxyCodeLine{03334\ }
\DoxyCodeLine{03335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <\ 0)\ \{}
\DoxyCodeLine{03336\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Nothing\ to\ do,\ since\ all\ we\ have\ are\ just\ leading\ zeros.}}
\DoxyCodeLine{03337\ \ \ \ \ \ \ \ \ \ \ buf.try\_resize(0);}
\DoxyCodeLine{03338\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03339\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ may\ need\ to\ round-\/up.}}
\DoxyCodeLine{03340\ \ \ \ \ \ \ \ \ \ \ buf.try\_resize(1);}
\DoxyCodeLine{03341\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((first\_segment\ |\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(has\_more\_segments))\ >}
\DoxyCodeLine{03342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 5000000000000000000ULL)\ \{}
\DoxyCodeLine{03343\ \ \ \ \ \ \ \ \ \ \ \ \ buf[0]\ =\ \textcolor{charliteral}{'1'};}
\DoxyCodeLine{03344\ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03345\ \ \ \ \ \ \ \ \ \ \ \ \ buf[0]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03346\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03347\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03348\ \ \ \ \ \ \ \}\ \ \textcolor{comment}{//\ precision\ <=\ 0}}
\DoxyCodeLine{03349\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03350\ \ \ \ \ \ \ \ \ exp\ +=\ digits\_in\_the\_first\_segment\ -\/\ precision;}
\DoxyCodeLine{03351\ }
\DoxyCodeLine{03352\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ When\ precision\ >\ 0,\ we\ divide\ the\ first\ segment\ into\ three}}
\DoxyCodeLine{03353\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ subsegments,\ each\ with\ 9,\ 9,\ and\ 0\ \string~\ 1\ digits\ so\ that\ each\ fits}}
\DoxyCodeLine{03354\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ 32-\/bits\ which\ usually\ allows\ faster\ calculation\ than\ in}}
\DoxyCodeLine{03355\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 64-\/bits.\ Since\ some\ compiler\ (e.g.\ MSVC)\ doesn't\ know\ how\ to\ optimize}}
\DoxyCodeLine{03356\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ division-\/by-\/constant\ for\ large\ 64-\/bit\ divisors,\ we\ do\ it\ here}}
\DoxyCodeLine{03357\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ manually.\ The\ magic\ number\ 7922816251426433760\ below\ is\ equal\ to}}
\DoxyCodeLine{03358\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ceil(2\string^(64+32)\ /\ 10\string^10).}}
\DoxyCodeLine{03359\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint32\_t\ first\_subsegment\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(}
\DoxyCodeLine{03360\ \ \ \ \ \ \ \ \ \ \ \ \ dragonbox::umul128\_upper64(first\_segment,\ 7922816251426433760ULL)\ >>}
\DoxyCodeLine{03361\ \ \ \ \ \ \ \ \ \ \ \ \ 32);}
\DoxyCodeLine{03362\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint64\_t\ second\_third\_subsegments\ =}
\DoxyCodeLine{03363\ \ \ \ \ \ \ \ \ \ \ \ \ first\_segment\ -\/\ first\_subsegment\ *\ 10000000000ULL;}
\DoxyCodeLine{03364\ }
\DoxyCodeLine{03365\ \ \ \ \ \ \ \ \ uint64\_t\ prod;}
\DoxyCodeLine{03366\ \ \ \ \ \ \ \ \ uint32\_t\ digits;}
\DoxyCodeLine{03367\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ should\_round\_up;}
\DoxyCodeLine{03368\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ number\_of\_digits\_to\_print\ =\ precision\ >\ 9\ ?\ 9\ :\ precision;}
\DoxyCodeLine{03369\ }
\DoxyCodeLine{03370\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Print\ a\ 9-\/digits\ subsegment,\ either\ the\ first\ or\ the\ second.}}
\DoxyCodeLine{03371\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ print\_subsegment\ =\ [\&](uint32\_t\ subsegment,\ \textcolor{keywordtype}{char}*\ buffer)\ \{}
\DoxyCodeLine{03372\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ number\_of\_digits\_printed\ =\ 0;}
\DoxyCodeLine{03373\ }
\DoxyCodeLine{03374\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ want\ to\ print\ an\ odd\ number\ of\ digits\ from\ the\ subsegment,}}
\DoxyCodeLine{03375\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((number\_of\_digits\_to\_print\ \&\ 1)\ !=\ 0)\ \{}
\DoxyCodeLine{03376\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ to\ 64-\/bit\ fixed-\/point\ fractional\ form\ with\ 1-\/digit}}
\DoxyCodeLine{03377\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ integer\ part.\ The\ magic\ number\ 720575941\ is\ a\ good\ enough}}
\DoxyCodeLine{03378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ approximation\ of\ 2\string^(32\ +\ 24)\ /\ 10\string^8;\ see}}
\DoxyCodeLine{03379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ https://jk-\/jeon.github.io/posts/2022/12/fixed-\/precision-\/formatting/\#fixed-\/length-\/case}}
\DoxyCodeLine{03380\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ for\ details.}}
\DoxyCodeLine{03381\ \ \ \ \ \ \ \ \ \ \ \ \ prod\ =\ ((subsegment\ *\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(720575941))\ >>\ 24)\ +\ 1;}
\DoxyCodeLine{03382\ \ \ \ \ \ \ \ \ \ \ \ \ digits\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(prod\ >>\ 32);}
\DoxyCodeLine{03383\ \ \ \ \ \ \ \ \ \ \ \ \ *buffer\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digits);}
\DoxyCodeLine{03384\ \ \ \ \ \ \ \ \ \ \ \ \ number\_of\_digits\_printed++;}
\DoxyCodeLine{03385\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03386\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ want\ to\ print\ an\ even\ number\ of\ digits\ from\ the}}
\DoxyCodeLine{03387\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ first\_subsegment,}}
\DoxyCodeLine{03388\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03389\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ to\ 64-\/bit\ fixed-\/point\ fractional\ form\ with\ 2-\/digits}}
\DoxyCodeLine{03390\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ integer\ part.\ The\ magic\ number\ 450359963\ is\ a\ good\ enough}}
\DoxyCodeLine{03391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ approximation\ of\ 2\string^(32\ +\ 20)\ /\ 10\string^7;\ see}}
\DoxyCodeLine{03392\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ https://jk-\/jeon.github.io/posts/2022/12/fixed-\/precision-\/formatting/\#fixed-\/length-\/case}}
\DoxyCodeLine{03393\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ for\ details.}}
\DoxyCodeLine{03394\ \ \ \ \ \ \ \ \ \ \ \ \ prod\ =\ ((subsegment\ *\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(450359963))\ >>\ 20)\ +\ 1;}
\DoxyCodeLine{03395\ \ \ \ \ \ \ \ \ \ \ \ \ digits\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(prod\ >>\ 32);}
\DoxyCodeLine{03396\ \ \ \ \ \ \ \ \ \ \ \ \ copy2(buffer,\ digits2(digits));}
\DoxyCodeLine{03397\ \ \ \ \ \ \ \ \ \ \ \ \ number\_of\_digits\_printed\ +=\ 2;}
\DoxyCodeLine{03398\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03399\ }
\DoxyCodeLine{03400\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Print\ all\ digit\ pairs.}}
\DoxyCodeLine{03401\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (number\_of\_digits\_printed\ <\ number\_of\_digits\_to\_print)\ \{}
\DoxyCodeLine{03402\ \ \ \ \ \ \ \ \ \ \ \ \ prod\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(prod)\ *\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(100);}
\DoxyCodeLine{03403\ \ \ \ \ \ \ \ \ \ \ \ \ digits\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(prod\ >>\ 32);}
\DoxyCodeLine{03404\ \ \ \ \ \ \ \ \ \ \ \ \ copy2(buffer\ +\ number\_of\_digits\_printed,\ digits2(digits));}
\DoxyCodeLine{03405\ \ \ \ \ \ \ \ \ \ \ \ \ number\_of\_digits\_printed\ +=\ 2;}
\DoxyCodeLine{03406\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03407\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{03408\ }
\DoxyCodeLine{03409\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Print\ first\ subsegment.}}
\DoxyCodeLine{03410\ \ \ \ \ \ \ \ \ print\_subsegment(first\_subsegment,\ buf.data());}
\DoxyCodeLine{03411\ }
\DoxyCodeLine{03412\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Perform\ rounding\ if\ the\ first\ subsegment\ is\ the\ last\ subsegment\ to}}
\DoxyCodeLine{03413\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ print.}}
\DoxyCodeLine{03414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <=\ 9)\ \{}
\DoxyCodeLine{03415\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rounding\ inside\ the\ subsegment.}}
\DoxyCodeLine{03416\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ round-\/up\ if:}}
\DoxyCodeLine{03417\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/\ either\ the\ fractional\ part\ is\ strictly\ larger\ than\ 1/2,\ or}}
\DoxyCodeLine{03418\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/\ the\ fractional\ part\ is\ exactly\ 1/2\ and\ the\ last\ digit\ is\ odd.}}
\DoxyCodeLine{03419\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ rely\ on\ the\ following\ observations:}}
\DoxyCodeLine{03420\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/\ If\ fractional\_part\ >=\ threshold,\ then\ the\ fractional\ part\ is}}
\DoxyCodeLine{03421\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ strictly\ larger\ than\ 1/2.}}
\DoxyCodeLine{03422\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/\ If\ the\ MSB\ of\ fractional\_part\ is\ set,\ then\ the\ fractional\ part}}
\DoxyCodeLine{03423\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ must\ be\ at\ least\ 1/2.}}
\DoxyCodeLine{03424\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/\ When\ the\ MSB\ of\ fractional\_part\ is\ set,\ either}}
\DoxyCodeLine{03425\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ second\_third\_subsegments\ being\ nonzero\ or\ has\_more\_segments}}
\DoxyCodeLine{03426\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ being\ true\ means\ there\ are\ further\ digits\ not\ printed,\ so\ the}}
\DoxyCodeLine{03427\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ fractional\ part\ is\ strictly\ larger\ than\ 1/2.}}
\DoxyCodeLine{03428\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <\ 9)\ \{}
\DoxyCodeLine{03429\ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ fractional\_part\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(prod);}
\DoxyCodeLine{03430\ \ \ \ \ \ \ \ \ \ \ \ \ should\_round\_up\ =}
\DoxyCodeLine{03431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fractional\_part\ >=\ fractional\_part\_rounding\_thresholds(}
\DoxyCodeLine{03432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 8\ -\/\ number\_of\_digits\_to\_print)\ ||}
\DoxyCodeLine{03433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((fractional\_part\ >>\ 31)\ \&}
\DoxyCodeLine{03434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((digits\ \&\ 1)\ |\ (second\_third\_subsegments\ !=\ 0)\ |}
\DoxyCodeLine{03435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_more\_segments))\ !=\ 0;}
\DoxyCodeLine{03436\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03437\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rounding\ at\ the\ subsegment\ boundary.}}
\DoxyCodeLine{03438\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ this\ case,\ the\ fractional\ part\ is\ at\ least\ 1/2\ if\ and\ only\ if}}
\DoxyCodeLine{03439\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ second\_third\_subsegments\ >=\ 5000000000ULL,\ and\ is\ strictly\ larger}}
\DoxyCodeLine{03440\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ than\ 1/2\ if\ we\ further\ have\ either\ second\_third\_subsegments\ >}}
\DoxyCodeLine{03441\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 5000000000ULL\ or\ has\_more\_segments\ ==\ true.}}
\DoxyCodeLine{03442\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03443\ \ \ \ \ \ \ \ \ \ \ \ \ should\_round\_up\ =\ second\_third\_subsegments\ >\ 5000000000ULL\ ||}
\DoxyCodeLine{03444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (second\_third\_subsegments\ ==\ 5000000000ULL\ \&\&}
\DoxyCodeLine{03445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((digits\ \&\ 1)\ !=\ 0\ ||\ has\_more\_segments));}
\DoxyCodeLine{03446\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03447\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03448\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Otherwise,\ print\ the\ second\ subsegment.}}
\DoxyCodeLine{03449\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03450\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Compilers\ are\ not\ aware\ of\ how\ to\ leverage\ the\ maximum\ value\ of}}
\DoxyCodeLine{03451\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ second\_third\_subsegments\ to\ find\ out\ a\ better\ magic\ number\ which}}
\DoxyCodeLine{03452\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ allows\ us\ to\ eliminate\ an\ additional\ shift.\ 1844674407370955162\ =}}
\DoxyCodeLine{03453\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ceil(2\string^64/10)\ <\ ceil(2\string^64*(10\string^9/(10\string^10\ -\/\ 1))).}}
\DoxyCodeLine{03454\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint32\_t\ second\_subsegment\ =}
\DoxyCodeLine{03455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(dragonbox::umul128\_upper64(}
\DoxyCodeLine{03456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ second\_third\_subsegments,\ 1844674407370955162ULL));}
\DoxyCodeLine{03457\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint32\_t\ third\_subsegment\ =}
\DoxyCodeLine{03458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(second\_third\_subsegments)\ -\/}
\DoxyCodeLine{03459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ second\_subsegment\ *\ 10;}
\DoxyCodeLine{03460\ }
\DoxyCodeLine{03461\ \ \ \ \ \ \ \ \ \ \ number\_of\_digits\_to\_print\ =\ precision\ -\/\ 9;}
\DoxyCodeLine{03462\ \ \ \ \ \ \ \ \ \ \ print\_subsegment(second\_subsegment,\ buf.data()\ +\ 9);}
\DoxyCodeLine{03463\ }
\DoxyCodeLine{03464\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rounding\ inside\ the\ subsegment.}}
\DoxyCodeLine{03465\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <\ 18)\ \{}
\DoxyCodeLine{03466\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ condition\ third\_subsegment\ !=\ 0\ implies\ that\ the\ segment\ was}}
\DoxyCodeLine{03467\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ 19\ digits,\ so\ in\ this\ case\ the\ third\ segment\ should\ be}}
\DoxyCodeLine{03468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ consisting\ of\ a\ genuine\ digit\ from\ the\ input.}}
\DoxyCodeLine{03469\ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ fractional\_part\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(prod);}
\DoxyCodeLine{03470\ \ \ \ \ \ \ \ \ \ \ \ \ should\_round\_up\ =}
\DoxyCodeLine{03471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fractional\_part\ >=\ fractional\_part\_rounding\_thresholds(}
\DoxyCodeLine{03472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 8\ -\/\ number\_of\_digits\_to\_print)\ ||}
\DoxyCodeLine{03473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((fractional\_part\ >>\ 31)\ \&}
\DoxyCodeLine{03474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((digits\ \&\ 1)\ |\ (third\_subsegment\ !=\ 0)\ |}
\DoxyCodeLine{03475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_more\_segments))\ !=\ 0;}
\DoxyCodeLine{03476\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03477\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rounding\ at\ the\ subsegment\ boundary.}}
\DoxyCodeLine{03478\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03479\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ this\ case,\ the\ segment\ must\ be\ of\ 19\ digits,\ thus}}
\DoxyCodeLine{03480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ third\ subsegment\ should\ be\ consisting\ of\ a\ genuine\ digit\ from}}
\DoxyCodeLine{03481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ input.}}
\DoxyCodeLine{03482\ \ \ \ \ \ \ \ \ \ \ \ \ should\_round\_up\ =\ third\_subsegment\ >\ 5\ ||}
\DoxyCodeLine{03483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (third\_subsegment\ ==\ 5\ \&\&}
\DoxyCodeLine{03484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((digits\ \&\ 1)\ !=\ 0\ ||\ has\_more\_segments));}
\DoxyCodeLine{03485\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03486\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03487\ }
\DoxyCodeLine{03488\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Round-\/up\ if\ necessary.}}
\DoxyCodeLine{03489\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (should\_round\_up)\ \{}
\DoxyCodeLine{03490\ \ \ \ \ \ \ \ \ \ \ ++buf[precision\ -\/\ 1];}
\DoxyCodeLine{03491\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ precision\ -\/\ 1;\ i\ >\ 0\ \&\&\ buf[i]\ >\ \textcolor{charliteral}{'9'};\ -\/-\/i)\ \{}
\DoxyCodeLine{03492\ \ \ \ \ \ \ \ \ \ \ \ \ buf[i]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03493\ \ \ \ \ \ \ \ \ \ \ \ \ ++buf[i\ -\/\ 1];}
\DoxyCodeLine{03494\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03495\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buf[0]\ >\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{03496\ \ \ \ \ \ \ \ \ \ \ \ \ buf[0]\ =\ \textcolor{charliteral}{'1'};}
\DoxyCodeLine{03497\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fixed)}
\DoxyCodeLine{03498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buf[precision++]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03499\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++exp;}
\DoxyCodeLine{03501\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03502\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03503\ \ \ \ \ \ \ \ \ buf.try\_resize(to\_unsigned(precision));}
\DoxyCodeLine{03504\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03505\ \ \ \ \ \}\ \ \textcolor{comment}{//\ if\ (digits\_in\_the\_first\_segment\ >\ precision)}}
\DoxyCodeLine{03506\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03507\ \ \ \ \ \ \ \textcolor{comment}{//\ Adjust\ the\ exponent\ for\ its\ use\ in\ Dragon4.}}
\DoxyCodeLine{03508\ \ \ \ \ \ \ exp\ +=\ digits\_in\_the\_first\_segment\ -\/\ 1;}
\DoxyCodeLine{03509\ \ \ \ \ \}}
\DoxyCodeLine{03510\ \ \ \}}
\DoxyCodeLine{03511\ \ \ \textcolor{keywordflow}{if}\ (use\_dragon)\ \{}
\DoxyCodeLine{03512\ \ \ \ \ \textcolor{keyword}{auto}\ f\ =\ basic\_fp<uint128\_t>();}
\DoxyCodeLine{03513\ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_predecessor\_closer\ =\ specs.binary32}
\DoxyCodeLine{03514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ f.assign(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(value))}
\DoxyCodeLine{03515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ f.assign(converted\_value);}
\DoxyCodeLine{03516\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ dragon\_flags\ |=\ dragon::predecessor\_closer;}
\DoxyCodeLine{03517\ \ \ \ \ \textcolor{keywordflow}{if}\ (fixed)\ dragon\_flags\ |=\ dragon::fixed;}
\DoxyCodeLine{03518\ \ \ \ \ \textcolor{comment}{//\ Limit\ precision\ to\ the\ maximum\ possible\ number\ of\ significant\ digits\ in}}
\DoxyCodeLine{03519\ \ \ \ \ \textcolor{comment}{//\ an\ IEEE754\ double\ because\ we\ don't\ need\ to\ generate\ zeros.}}
\DoxyCodeLine{03520\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_double\_digits\ =\ 767;}
\DoxyCodeLine{03521\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ >\ max\_double\_digits)\ precision\ =\ max\_double\_digits;}
\DoxyCodeLine{03522\ \ \ \ \ format\_dragon(f,\ dragon\_flags,\ precision,\ buf,\ exp);}
\DoxyCodeLine{03523\ \ \ \}}
\DoxyCodeLine{03524\ \ \ \textcolor{keywordflow}{if}\ (!fixed\ \&\&\ !specs.showpoint)\ \{}
\DoxyCodeLine{03525\ \ \ \ \ \textcolor{comment}{//\ Remove\ trailing\ zeros.}}
\DoxyCodeLine{03526\ \ \ \ \ \textcolor{keyword}{auto}\ num\_digits\ =\ buf.size();}
\DoxyCodeLine{03527\ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_digits\ >\ 0\ \&\&\ buf[num\_digits\ -\/\ 1]\ ==\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{03528\ \ \ \ \ \ \ -\/-\/num\_digits;}
\DoxyCodeLine{03529\ \ \ \ \ \ \ ++exp;}
\DoxyCodeLine{03530\ \ \ \ \ \}}
\DoxyCodeLine{03531\ \ \ \ \ buf.try\_resize(num\_digits);}
\DoxyCodeLine{03532\ \ \ \}}
\DoxyCodeLine{03533\ \ \ \textcolor{keywordflow}{return}\ exp;}
\DoxyCodeLine{03534\ \}}
\DoxyCodeLine{03535\ }
\DoxyCodeLine{03536\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{03537\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_float(OutputIt\ out,\ T\ value,\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\ specs,}
\DoxyCodeLine{03538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03539\ \ \ sign\_t\ sign\ =\ specs.sign;}
\DoxyCodeLine{03540\ \ \ \textcolor{keywordflow}{if}\ (detail::signbit(value))\ \{\ \ \textcolor{comment}{//\ value\ <\ 0\ is\ false\ for\ NaN\ so\ use\ signbit.}}
\DoxyCodeLine{03541\ \ \ \ \ sign\ =\ sign::minus;}
\DoxyCodeLine{03542\ \ \ \ \ value\ =\ -\/value;}
\DoxyCodeLine{03543\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (sign\ ==\ sign::minus)\ \{}
\DoxyCodeLine{03544\ \ \ \ \ sign\ =\ sign::none;}
\DoxyCodeLine{03545\ \ \ \}}
\DoxyCodeLine{03546\ }
\DoxyCodeLine{03547\ \ \ \textcolor{keywordflow}{if}\ (!detail::isfinite(value))}
\DoxyCodeLine{03548\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_nonfinite<Char>(out,\ detail::isnan(value),\ specs,\ sign);}
\DoxyCodeLine{03549\ }
\DoxyCodeLine{03550\ \ \ \textcolor{keywordflow}{if}\ (specs.align\ ==\ align::numeric\ \&\&\ sign)\ \{}
\DoxyCodeLine{03551\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ 1);}
\DoxyCodeLine{03552\ \ \ \ \ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{03553\ \ \ \ \ out\ =\ base\_iterator(out,\ it);}
\DoxyCodeLine{03554\ \ \ \ \ sign\ =\ sign::none;}
\DoxyCodeLine{03555\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.width\ !=\ 0)\ -\/-\/specs.width;}
\DoxyCodeLine{03556\ \ \ \}}
\DoxyCodeLine{03557\ }
\DoxyCodeLine{03558\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ buffer;}
\DoxyCodeLine{03559\ \ \ \textcolor{keywordflow}{if}\ (specs.type\ ==\ presentation\_type::hexfloat)\ \{}
\DoxyCodeLine{03560\ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ buffer.push\_back(detail::sign<char>(sign));}
\DoxyCodeLine{03561\ \ \ \ \ format\_hexfloat(convert\_float(value),\ specs,\ buffer);}
\DoxyCodeLine{03562\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_bytes<Char,\ align::right>(out,\ \{buffer.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}(),\ buffer.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}()\},}
\DoxyCodeLine{03563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs);}
\DoxyCodeLine{03564\ \ \ \}}
\DoxyCodeLine{03565\ }
\DoxyCodeLine{03566\ \ \ \textcolor{keywordtype}{int}\ precision\ =\ specs.precision\ >=\ 0\ ||\ specs.type\ ==\ presentation\_type::none}
\DoxyCodeLine{03567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ specs.precision}
\DoxyCodeLine{03568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ 6;}
\DoxyCodeLine{03569\ \ \ \textcolor{keywordflow}{if}\ (specs.type\ ==\ presentation\_type::exp)\ \{}
\DoxyCodeLine{03570\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ ==\ max\_value<int>())}
\DoxyCodeLine{03571\ \ \ \ \ \ \ report\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}});}
\DoxyCodeLine{03572\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03573\ \ \ \ \ \ \ ++precision;}
\DoxyCodeLine{03574\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (specs.type\ !=\ presentation\_type::fixed\ \&\&\ precision\ ==\ 0)\ \{}
\DoxyCodeLine{03575\ \ \ \ \ precision\ =\ 1;}
\DoxyCodeLine{03576\ \ \ \}}
\DoxyCodeLine{03577\ \ \ float\_specs\ fspecs\ =\ parse\_float\_type\_spec(specs);}
\DoxyCodeLine{03578\ \ \ fspecs.sign\ =\ sign;}
\DoxyCodeLine{03579\ \ \ \textcolor{keywordflow}{if}\ (const\_check(std::is\_same<T,\ float>()))\ fspecs.binary32\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03580\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ format\_float(convert\_float(value),\ precision,\ fspecs,\ buffer);}
\DoxyCodeLine{03581\ \ \ fspecs.precision\ =\ precision;}
\DoxyCodeLine{03582\ \ \ \textcolor{keyword}{auto}\ f\ =\ big\_decimal\_fp\{buffer.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}(),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(buffer.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}()),\ exp\};}
\DoxyCodeLine{03583\ \ \ \textcolor{keywordflow}{return}\ write\_float<Char>(out,\ f,\ specs,\ fspecs,\ loc);}
\DoxyCodeLine{03584\ \}}
\DoxyCodeLine{03585\ }
\DoxyCodeLine{03586\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03587\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_floating\_point<T>::value)>}
\DoxyCodeLine{03588\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value,\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\ specs,}
\DoxyCodeLine{03589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ loc\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03590\ \ \ \textcolor{keywordflow}{if}\ (const\_check(!is\_supported\_floating\_point(value)))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03591\ \ \ \textcolor{keywordflow}{return}\ specs.localized\ \&\&\ write\_loc(out,\ value,\ specs,\ loc)}
\DoxyCodeLine{03592\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ out}
\DoxyCodeLine{03593\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ write\_float<Char>(out,\ value,\ specs,\ loc);}
\DoxyCodeLine{03594\ \}}
\DoxyCodeLine{03595\ }
\DoxyCodeLine{03596\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03597\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_fast\_float<T>::value)>}
\DoxyCodeLine{03598\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03599\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \textcolor{keywordflow}{return}\ write<Char>(out,\ value,\ \mbox{\hyperlink{structformat__specs}{format\_specs}}());}
\DoxyCodeLine{03600\ \ \ \textcolor{keywordflow}{if}\ (const\_check(!is\_supported\_floating\_point(value)))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03601\ }
\DoxyCodeLine{03602\ \ \ \textcolor{keyword}{auto}\ sign\ =\ sign\_t::none;}
\DoxyCodeLine{03603\ \ \ \textcolor{keywordflow}{if}\ (detail::signbit(value))\ \{}
\DoxyCodeLine{03604\ \ \ \ \ sign\ =\ sign::minus;}
\DoxyCodeLine{03605\ \ \ \ \ value\ =\ -\/value;}
\DoxyCodeLine{03606\ \ \ \}}
\DoxyCodeLine{03607\ }
\DoxyCodeLine{03608\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structformat__specs}{format\_specs}}();}
\DoxyCodeLine{03609\ \ \ \textcolor{keyword}{using\ }floaty\ =\ conditional\_t<std::is\_same<T,\ long\ double>::value,\ double,\ T>;}
\DoxyCodeLine{03610\ \ \ \textcolor{keyword}{using\ }floaty\_uint\ =\ \textcolor{keyword}{typename}\ dragonbox::float\_info<floaty>::carrier\_uint;}
\DoxyCodeLine{03611\ \ \ floaty\_uint\ mask\ =\ exponent\_mask<floaty>();}
\DoxyCodeLine{03612\ \ \ \textcolor{keywordflow}{if}\ ((bit\_cast<floaty\_uint>(value)\ \&\ mask)\ ==\ mask)}
\DoxyCodeLine{03613\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_nonfinite<Char>(out,\ std::isnan(value),\ specs,\ sign);}
\DoxyCodeLine{03614\ }
\DoxyCodeLine{03615\ \ \ \textcolor{keyword}{auto}\ fspecs\ =\ float\_specs();}
\DoxyCodeLine{03616\ \ \ fspecs.sign\ =\ sign;}
\DoxyCodeLine{03617\ \ \ \textcolor{keyword}{auto}\ dec\ =\ dragonbox::to\_decimal(\textcolor{keyword}{static\_cast<}floaty\textcolor{keyword}{>}(value));}
\DoxyCodeLine{03618\ \ \ \textcolor{keywordflow}{return}\ write\_float<Char>(out,\ dec,\ specs,\ fspecs,\ \{\});}
\DoxyCodeLine{03619\ \}}
\DoxyCodeLine{03620\ }
\DoxyCodeLine{03621\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03622\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_floating\_point<T>::value\ \&\&}
\DoxyCodeLine{03623\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !is\_fast\_float<T>::value)>}
\DoxyCodeLine{03624\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03625\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ value,\ \mbox{\hyperlink{structformat__specs}{format\_specs}}());}
\DoxyCodeLine{03626\ \}}
\DoxyCodeLine{03627\ }
\DoxyCodeLine{03628\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03629\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \mbox{\hyperlink{structmonostate}{monostate}},\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\ =\ \{\},\ locale\_ref\ =\ \{\})}
\DoxyCodeLine{03630\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03631\ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03632\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03633\ \}}
\DoxyCodeLine{03634\ }
\DoxyCodeLine{03635\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03636\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ value)}
\DoxyCodeLine{03637\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03638\ \ \ \textcolor{keywordflow}{return}\ copy\_noinline<Char>(value.begin(),\ value.end(),\ out);}
\DoxyCodeLine{03639\ \}}
\DoxyCodeLine{03640\ }
\DoxyCodeLine{03641\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03642\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(has\_to\_string\_view<T>::value)>}
\DoxyCodeLine{03643\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03644\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ to\_string\_view(value));}
\DoxyCodeLine{03645\ \}}
\DoxyCodeLine{03646\ }
\DoxyCodeLine{03647\ \textcolor{comment}{//\ FMT\_ENABLE\_IF()\ condition\ separated\ to\ workaround\ an\ MSVC\ bug.}}
\DoxyCodeLine{03648\ \textcolor{keyword}{template}\ <}
\DoxyCodeLine{03649\ \ \ \ \ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03650\ \ \ \ \ \textcolor{keywordtype}{bool}\ check\ =}
\DoxyCodeLine{03651\ \ \ \ \ \ \ \ \ std::is\_enum<T>::value\ \&\&\ !std::is\_same<T,\ Char>::value\ \&\&}
\DoxyCodeLine{03652\ \ \ \ \ \ \ \ \ mapped\_type\_constant<T,\ basic\_format\_context<OutputIt,\ Char>>::value\ !=}
\DoxyCodeLine{03653\ \ \ \ \ \ \ \ \ \ \ \ \ type::custom\_type,}
\DoxyCodeLine{03654\ \ \ \ \ FMT\_ENABLE\_IF(check)>}
\DoxyCodeLine{03655\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03656\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \textcolor{keyword}{static\_cast<}underlying\_t<T>\textcolor{keyword}{>}(value));}
\DoxyCodeLine{03657\ \}}
\DoxyCodeLine{03658\ }
\DoxyCodeLine{03659\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03660\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_same<T,\ bool>::value)>}
\DoxyCodeLine{03661\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ value,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs\ =\ \{\},}
\DoxyCodeLine{03662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03663\ \ \ \textcolor{keywordflow}{return}\ specs.type\ !=\ presentation\_type::none\ \&\&}
\DoxyCodeLine{03664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs.type\ !=\ presentation\_type::string}
\DoxyCodeLine{03665\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ write<Char>(out,\ value\ ?\ 1\ :\ 0,\ specs,\ \{\})}
\DoxyCodeLine{03666\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ write\_bytes<Char>(out,\ value\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}},\ specs);}
\DoxyCodeLine{03667\ \}}
\DoxyCodeLine{03668\ }
\DoxyCodeLine{03669\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03670\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ Char\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03671\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ 1);}
\DoxyCodeLine{03672\ \ \ *it++\ =\ value;}
\DoxyCodeLine{03673\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{03674\ \}}
\DoxyCodeLine{03675\ }
\DoxyCodeLine{03676\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03677\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ Char*\ value)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03678\ \ \ \textcolor{keywordflow}{if}\ (value)\ \textcolor{keywordflow}{return}\ write(out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(value));}
\DoxyCodeLine{03679\ \ \ report\_error(\textcolor{stringliteral}{"{}string\ pointer\ is\ null"{}});}
\DoxyCodeLine{03680\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03681\ \}}
\DoxyCodeLine{03682\ }
\DoxyCodeLine{03683\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03684\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_same<T,\ void>::value)>}
\DoxyCodeLine{03685\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T*\ value,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs\ =\ \{\},}
\DoxyCodeLine{03686\ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03687\ \ \ \textcolor{keywordflow}{return}\ write\_ptr<Char>(out,\ bit\_cast<uintptr\_t>(value),\ \&specs);}
\DoxyCodeLine{03688\ \}}
\DoxyCodeLine{03689\ }
\DoxyCodeLine{03690\ \textcolor{comment}{//\ A\ write\ overload\ that\ handles\ implicit\ conversions.}}
\DoxyCodeLine{03691\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03692\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Context\ =\ basic\_format\_context<OutputIt,\ Char>>}
\DoxyCodeLine{03693\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ value)\ -\/>\ enable\_if\_t<}
\DoxyCodeLine{03694\ \ \ \ \ std::is\_class<T>::value\ \&\&\ !has\_to\_string\_view<T>::value\ \&\&}
\DoxyCodeLine{03695\ \ \ \ \ \ \ \ \ !is\_floating\_point<T>::value\ \&\&\ !std::is\_same<T,\ Char>::value\ \&\&}
\DoxyCodeLine{03696\ \ \ \ \ \ \ \ \ !std::is\_same<T,\ remove\_cvref\_t<decltype(arg\_mapper<Context>().map(}
\DoxyCodeLine{03697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value))>>::value,}
\DoxyCodeLine{03698\ \ \ \ \ OutputIt>\ \{}
\DoxyCodeLine{03699\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ arg\_mapper<Context>().map(value));}
\DoxyCodeLine{03700\ \}}
\DoxyCodeLine{03701\ }
\DoxyCodeLine{03702\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03703\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Context\ =\ basic\_format\_context<OutputIt,\ Char>>}
\DoxyCodeLine{03704\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ value)}
\DoxyCodeLine{03705\ \ \ \ \ -\/>\ enable\_if\_t<mapped\_type\_constant<T,\ Context>::value\ ==}
\DoxyCodeLine{03706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ type::custom\_type\ \&\&}
\DoxyCodeLine{03707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_fundamental<T>::value,}
\DoxyCodeLine{03708\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OutputIt>\ \{}
\DoxyCodeLine{03709\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structformatter}{formatter}}\ =\ \textcolor{keyword}{typename}\ Context::template\ formatter\_type<T>();}
\DoxyCodeLine{03710\ \ \ \textcolor{keyword}{auto}\ parse\_ctx\ =\ \textcolor{keyword}{typename}\ Context::parse\_context\_type(\{\});}
\DoxyCodeLine{03711\ \ \ \mbox{\hyperlink{structformatter}{formatter}}.parse(parse\_ctx);}
\DoxyCodeLine{03712\ \ \ \textcolor{keyword}{auto}\ ctx\ =\ Context(out,\ \{\},\ \{\});}
\DoxyCodeLine{03713\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter}}.format(value,\ ctx);}
\DoxyCodeLine{03714\ \}}
\DoxyCodeLine{03715\ }
\DoxyCodeLine{03716\ \textcolor{comment}{//\ An\ argument\ visitor\ that\ formats\ the\ argument\ and\ writes\ it\ via\ the\ output}}
\DoxyCodeLine{03717\ \textcolor{comment}{//\ iterator.\ It's\ a\ class\ and\ not\ a\ generic\ lambda\ for\ compatibility\ with\ C++11.}}
\DoxyCodeLine{03718\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1default__arg__formatter}{default\_arg\_formatter}}\ \{}
\DoxyCodeLine{03719\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__appender}{iterator}}\ =\ \mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}};}
\DoxyCodeLine{03720\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcontext}{context}}\ =\ buffered\_context<Char>;}
\DoxyCodeLine{03721\ }
\DoxyCodeLine{03722\ \ \ \mbox{\hyperlink{classbasic__appender}{iterator}}\ out;}
\DoxyCodeLine{03723\ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<context>}}\ args;}
\DoxyCodeLine{03724\ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc;}
\DoxyCodeLine{03725\ }
\DoxyCodeLine{03726\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \mbox{\hyperlink{classbasic__appender}{iterator}}\ \{}
\DoxyCodeLine{03727\ \ \ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{03728\ \ \ \}}
\DoxyCodeLine{03729\ \ \ \textcolor{keyword}{auto}\ operator()(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<context>::handle}}\ h)\ -\/>\ \mbox{\hyperlink{classbasic__appender}{iterator}}\ \{}
\DoxyCodeLine{03730\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\ parse\_ctx(\{\});}
\DoxyCodeLine{03731\ \ \ \ \ \mbox{\hyperlink{classcontext}{context}}\ format\_ctx(out,\ args,\ loc);}
\DoxyCodeLine{03732\ \ \ \ \ h.format(parse\_ctx,\ format\_ctx);}
\DoxyCodeLine{03733\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_ctx.out();}
\DoxyCodeLine{03734\ \ \ \}}
\DoxyCodeLine{03735\ \};}
\DoxyCodeLine{03736\ }
\DoxyCodeLine{03737\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1arg__formatter}{arg\_formatter}}\ \{}
\DoxyCodeLine{03738\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__appender}{iterator}}\ =\ \mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}};}
\DoxyCodeLine{03739\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classcontext}{context}}\ =\ buffered\_context<Char>;}
\DoxyCodeLine{03740\ }
\DoxyCodeLine{03741\ \ \ \mbox{\hyperlink{classbasic__appender}{iterator}}\ out;}
\DoxyCodeLine{03742\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformat__specs}{format\_specs}}\&\ specs;}
\DoxyCodeLine{03743\ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ locale;}
\DoxyCodeLine{03744\ }
\DoxyCodeLine{03745\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{03746\ \ \ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \mbox{\hyperlink{classbasic__appender}{iterator}}\ \{}
\DoxyCodeLine{03747\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write<Char>(out,\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ specs,\ locale);}
\DoxyCodeLine{03748\ \ \ \}}
\DoxyCodeLine{03749\ \ \ \textcolor{keyword}{auto}\ operator()(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<context>::handle}})\ -\/>\ \mbox{\hyperlink{classbasic__appender}{iterator}}\ \{}
\DoxyCodeLine{03750\ \ \ \ \ \textcolor{comment}{//\ User-\/defined\ types\ are\ handled\ separately\ because\ they\ require\ access}}
\DoxyCodeLine{03751\ \ \ \ \ \textcolor{comment}{//\ to\ the\ parse\ context.}}
\DoxyCodeLine{03752\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03753\ \ \ \}}
\DoxyCodeLine{03754\ \};}
\DoxyCodeLine{03755\ }
\DoxyCodeLine{03756\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1width__checker}{width\_checker}}\ \{}
\DoxyCodeLine{03757\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03758\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03759\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classdetail_1_1value}{value}}))\ report\_error(\textcolor{stringliteral}{"{}negative\ width"{}});}
\DoxyCodeLine{03760\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{03761\ \ \ \}}
\DoxyCodeLine{03762\ }
\DoxyCodeLine{03763\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03764\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T)\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03765\ \ \ \ \ report\_error(\textcolor{stringliteral}{"{}width\ is\ not\ integer"{}});}
\DoxyCodeLine{03766\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{03767\ \ \ \}}
\DoxyCodeLine{03768\ \};}
\DoxyCodeLine{03769\ }
\DoxyCodeLine{03770\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1precision__checker}{precision\_checker}}\ \{}
\DoxyCodeLine{03771\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03772\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03773\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classdetail_1_1value}{value}}))\ report\_error(\textcolor{stringliteral}{"{}negative\ precision"{}});}
\DoxyCodeLine{03774\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{03775\ \ \ \}}
\DoxyCodeLine{03776\ }
\DoxyCodeLine{03777\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03778\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T)\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03779\ \ \ \ \ report\_error(\textcolor{stringliteral}{"{}precision\ is\ not\ integer"{}});}
\DoxyCodeLine{03780\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{03781\ \ \ \}}
\DoxyCodeLine{03782\ \};}
\DoxyCodeLine{03783\ }
\DoxyCodeLine{03784\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Handler,\ \textcolor{keyword}{typename}\ FormatArg>}
\DoxyCodeLine{03785\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_dynamic\_spec(FormatArg\ arg)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{03786\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classdetail_1_1value}{value}}\ =\ arg.visit(Handler());}
\DoxyCodeLine{03787\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdetail_1_1value}{value}}\ >\ to\_unsigned(max\_value<int>()))\ report\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}});}
\DoxyCodeLine{03788\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{03789\ \}}
\DoxyCodeLine{03790\ }
\DoxyCodeLine{03791\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Context,\ \textcolor{keyword}{typename}\ ID>}
\DoxyCodeLine{03792\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_arg(Context\&\ ctx,\ ID\ \textcolor{keywordtype}{id})\ -\/>\ \textcolor{keyword}{decltype}(ctx.arg(\textcolor{keywordtype}{id}))\ \{}
\DoxyCodeLine{03793\ \ \ \textcolor{keyword}{auto}\ arg\ =\ ctx.arg(\textcolor{keywordtype}{id});}
\DoxyCodeLine{03794\ \ \ \textcolor{keywordflow}{if}\ (!arg)\ report\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{03795\ \ \ \textcolor{keywordflow}{return}\ arg;}
\DoxyCodeLine{03796\ \}}
\DoxyCodeLine{03797\ }
\DoxyCodeLine{03798\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Handler,\ \textcolor{keyword}{typename}\ Context>}
\DoxyCodeLine{03799\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ handle\_dynamic\_spec(\textcolor{keywordtype}{int}\&\ value,}
\DoxyCodeLine{03800\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arg\_ref<typename\ Context::char\_type>\ ref,}
\DoxyCodeLine{03801\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Context\&\ ctx)\ \{}
\DoxyCodeLine{03802\ \ \ \textcolor{keywordflow}{switch}\ (ref.kind)\ \{}
\DoxyCodeLine{03803\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::none:}
\DoxyCodeLine{03804\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03805\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::index:}
\DoxyCodeLine{03806\ \ \ \ \ value\ =\ detail::get\_dynamic\_spec<Handler>(get\_arg(ctx,\ ref.val.index));}
\DoxyCodeLine{03807\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03808\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::name:}
\DoxyCodeLine{03809\ \ \ \ \ value\ =\ detail::get\_dynamic\_spec<Handler>(get\_arg(ctx,\ ref.val.name));}
\DoxyCodeLine{03810\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03811\ \ \ \}}
\DoxyCodeLine{03812\ \}}
\DoxyCodeLine{03813\ }
\DoxyCodeLine{03814\ \textcolor{preprocessor}{\#if\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{03815\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_NONTYPE\_TEMPLATE\_ARGS}}
\DoxyCodeLine{03816\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03817\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03818\ \textcolor{keyword}{struct\ }statically\_named\_arg\ :\ view\ \{}
\DoxyCodeLine{03819\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ name\ =\ Str.data;}
\DoxyCodeLine{03820\ }
\DoxyCodeLine{03821\ \ \ \textcolor{keyword}{const}\ T\&\ value;}
\DoxyCodeLine{03822\ \ \ statically\_named\_arg(\textcolor{keyword}{const}\ T\&\ v)\ :\ value(v)\ \{\}}
\DoxyCodeLine{03823\ \};}
\DoxyCodeLine{03824\ }
\DoxyCodeLine{03825\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03826\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03827\ \textcolor{keyword}{struct\ }is\_named\_arg<statically\_named\_arg<T,\ Char,\ N,\ Str>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{03828\ }
\DoxyCodeLine{03829\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03830\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03831\ \textcolor{keyword}{struct\ }is\_statically\_named\_arg<statically\_named\_arg<T,\ Char,\ N,\ Str>>}
\DoxyCodeLine{03832\ \ \ \ \ :\ std::true\_type\ \{\};}
\DoxyCodeLine{03833\ }
\DoxyCodeLine{03834\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03835\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03836\ \textcolor{keyword}{struct\ }udl\_arg\ \{}
\DoxyCodeLine{03837\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ operator=(T\&\&\ value)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03838\ \ \ \ \ \textcolor{keywordflow}{return}\ statically\_named\_arg<T,\ Char,\ N,\ Str>(std::forward<T>(value));}
\DoxyCodeLine{03839\ \ \ \}}
\DoxyCodeLine{03840\ \};}
\DoxyCodeLine{03841\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{03842\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }udl\_arg\ \{}
\DoxyCodeLine{03843\ \ \ \textcolor{keyword}{const}\ Char*\ str;}
\DoxyCodeLine{03844\ }
\DoxyCodeLine{03845\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ operator=(T\&\&\ value)\ \textcolor{keyword}{const}\ -\/>\ named\_arg<Char,\ T>\ \{}
\DoxyCodeLine{03846\ \ \ \ \ \textcolor{keywordflow}{return}\ \{str,\ std::forward<T>(value)\};}
\DoxyCodeLine{03847\ \ \ \}}
\DoxyCodeLine{03848\ \};}
\DoxyCodeLine{03849\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{03850\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{03851\ }
\DoxyCodeLine{03852\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03853\ \textcolor{keyword}{auto}\ vformat(\textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ fmt,}
\DoxyCodeLine{03854\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__args}{detail::vformat\_args<Char>::type}}\ args)}
\DoxyCodeLine{03855\ \ \ \ \ -\/>\ std::basic\_string<Char>\ \{}
\DoxyCodeLine{03856\ \ \ \textcolor{keyword}{auto}\ buf\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}();}
\DoxyCodeLine{03857\ \ \ detail::vformat\_to(buf,\ fmt,\ args,\ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}(loc));}
\DoxyCodeLine{03858\ \ \ \textcolor{keywordflow}{return}\ \{buf.data(),\ buf.size()\};}
\DoxyCodeLine{03859\ \}}
\DoxyCodeLine{03860\ }
\DoxyCodeLine{03861\ \textcolor{keyword}{using\ }format\_func\ =\ void\ (*)(\mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<char>}}\&,\ int,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*);}
\DoxyCodeLine{03862\ }
\DoxyCodeLine{03863\ FMT\_API\ \textcolor{keywordtype}{void}\ format\_error\_code(buffer<char>\&\ out,\ \textcolor{keywordtype}{int}\ error\_code,}
\DoxyCodeLine{03864\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03865\ }
\DoxyCodeLine{03866\ \textcolor{keyword}{using\ }fmt::report\_error;}
\DoxyCodeLine{03867\ FMT\_API\ \textcolor{keywordtype}{void}\ report\_error(format\_func\ func,\ \textcolor{keywordtype}{int}\ error\_code,}
\DoxyCodeLine{03868\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03869\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{03870\ }
\DoxyCodeLine{03871\ FMT\_BEGIN\_EXPORT}
\DoxyCodeLine{03872\ FMT\_API\ \textcolor{keyword}{auto}\ vsystem\_error(\textcolor{keywordtype}{int}\ error\_code,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ format\_str,}
\DoxyCodeLine{03873\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)\ -\/>\ std::system\_error;}
\DoxyCodeLine{03874\ }
\DoxyCodeLine{03890\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{03891\ \textcolor{keyword}{auto}\ system\_error(\textcolor{keywordtype}{int}\ error\_code,\ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)}
\DoxyCodeLine{03892\ \ \ \ \ -\/>\ std::system\_error\ \{}
\DoxyCodeLine{03893\ \ \ \textcolor{keywordflow}{return}\ vsystem\_error(error\_code,\ fmt,\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{03894\ \}}
\DoxyCodeLine{03895\ }
\DoxyCodeLine{03909\ FMT\_API\ \textcolor{keywordtype}{void}\ format\_system\_error(\mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<char>}}\&\ out,\ \textcolor{keywordtype}{int}\ error\_code,}
\DoxyCodeLine{03910\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03911\ }
\DoxyCodeLine{03912\ \textcolor{comment}{//\ Reports\ a\ system\ error\ without\ throwing\ an\ exception.}}
\DoxyCodeLine{03913\ \textcolor{comment}{//\ Can\ be\ used\ to\ report\ errors\ from\ destructors.}}
\DoxyCodeLine{03914\ FMT\_API\ \textcolor{keywordtype}{void}\ report\_system\_error(\textcolor{keywordtype}{int}\ error\_code,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03915\ }
\DoxyCodeLine{03917\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classformat__int}{format\_int}}\ \{}
\DoxyCodeLine{03918\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03919\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (digits10\ +\ 1),}}
\DoxyCodeLine{03920\ \ \ \textcolor{comment}{//\ a\ sign\ and\ a\ null\ character.}}
\DoxyCodeLine{03921\ \ \ \textcolor{keyword}{enum}\ \{\ buffer\_size\ =\ std::numeric\_limits<unsigned\ long\ long>::digits10\ +\ 3\ \};}
\DoxyCodeLine{03922\ \ \ \textcolor{keyword}{mutable}\ \textcolor{keywordtype}{char}\ buffer\_[buffer\_size];}
\DoxyCodeLine{03923\ \ \ \textcolor{keywordtype}{char}*\ str\_;}
\DoxyCodeLine{03924\ }
\DoxyCodeLine{03925\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{03926\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ format\_unsigned(UInt\ value)\ -\/>\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{03927\ \ \ \ \ \textcolor{keyword}{auto}\ n\ =\ \textcolor{keyword}{static\_cast<}detail::uint32\_or\_64\_or\_128\_t<UInt>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{03928\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::format\_decimal(buffer\_,\ n,\ buffer\_size\ -\/\ 1).begin;}
\DoxyCodeLine{03929\ \ \ \}}
\DoxyCodeLine{03930\ }
\DoxyCodeLine{03931\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>}
\DoxyCodeLine{03932\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ format\_signed(Int\ value)\ -\/>\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{03933\ \ \ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}detail::uint32\_or\_64\_or\_128\_t<Int>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{03934\ \ \ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ value\ <\ 0;}
\DoxyCodeLine{03935\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ abs\_value\ =\ 0\ -\/\ abs\_value;}
\DoxyCodeLine{03936\ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ format\_unsigned(abs\_value);}
\DoxyCodeLine{03937\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ *-\/-\/begin\ =\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{03938\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{03939\ \ \ \}}
\DoxyCodeLine{03940\ }
\DoxyCodeLine{03941\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03942\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{int}\ value)\ :\ str\_(format\_signed(value))\ \{\}}
\DoxyCodeLine{03943\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{long}\ value)}
\DoxyCodeLine{03944\ \ \ \ \ \ \ :\ str\_(format\_signed(value))\ \{\}}
\DoxyCodeLine{03945\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ value)}
\DoxyCodeLine{03946\ \ \ \ \ \ \ :\ str\_(format\_signed(value))\ \{\}}
\DoxyCodeLine{03947\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ value)}
\DoxyCodeLine{03948\ \ \ \ \ \ \ :\ str\_(format\_unsigned(value))\ \{\}}
\DoxyCodeLine{03949\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ value)}
\DoxyCodeLine{03950\ \ \ \ \ \ \ :\ str\_(format\_unsigned(value))\ \{\}}
\DoxyCodeLine{03951\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ value)}
\DoxyCodeLine{03952\ \ \ \ \ \ \ :\ str\_(format\_unsigned(value))\ \{\}}
\DoxyCodeLine{03953\ }
\DoxyCodeLine{03955\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_a45b2a452d50d6894fdf166c1cf3a639c}{size}}()\ const\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{03956\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::to\_unsigned(buffer\_\ -\/\ str\_\ +\ buffer\_size\ -\/\ 1);}
\DoxyCodeLine{03957\ \ \ \}}
\DoxyCodeLine{03958\ }
\DoxyCodeLine{03961\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_a3c40c79eff9933c6f27cd0cdceabbb86}{data}}()\ const\ -\/>\ const\ \textcolor{keywordtype}{char}*\ \{\ \textcolor{keywordflow}{return}\ str\_;\ \}}
\DoxyCodeLine{03962\ }
\DoxyCodeLine{03965\ \ \ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_ab733b9e9edf2ec1661deae1bb5d003a0}{c\_str}}()\ const\ -\/>\ const\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{03966\ \ \ \ \ buffer\_[buffer\_size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{03967\ \ \ \ \ \textcolor{keywordflow}{return}\ str\_;}
\DoxyCodeLine{03968\ \ \ \}}
\DoxyCodeLine{03969\ }
\DoxyCodeLine{03971\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_a0f1b5493b06b98edb747737ba864f86f}{str}}()\ const\ -\/>\ std::\textcolor{keywordtype}{string}\ \{\ \textcolor{keywordflow}{return}\ std::string(str\_,\ \mbox{\hyperlink{classformat__int_a45b2a452d50d6894fdf166c1cf3a639c}{size}}());\ \}}
\DoxyCodeLine{03972\ \};}
\DoxyCodeLine{03973\ }
\DoxyCodeLine{03974\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03975\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<T,\ Char,\ enable\_if\_t<detail::has\_format\_as<T>::value>>}
\DoxyCodeLine{03976\ \ \ \ \ :\ \mbox{\hyperlink{structformatter}{formatter}}<detail::format\_as\_t<T>,\ Char>\ \{}
\DoxyCodeLine{03977\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03978\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ T\&\ value,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03979\ \ \ \ \ \textcolor{keyword}{auto}\&\&\ val\ =\ format\_as(value);\ \ \textcolor{comment}{//\ Make\ an\ lvalue\ reference\ for\ format.}}
\DoxyCodeLine{03980\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<detail::format\_as\_t<T>}},\ Char>::format(val,\ ctx);}
\DoxyCodeLine{03981\ \ \ \}}
\DoxyCodeLine{03982\ \};}
\DoxyCodeLine{03983\ }
\DoxyCodeLine{03984\ \textcolor{preprocessor}{\#define\ FMT\_FORMAT\_AS(Type,\ Base)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03985\ \textcolor{preprocessor}{\ \ template\ <typename\ Char>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03986\ \textcolor{preprocessor}{\ \ struct\ formatter<Type,\ Char>\ :\ formatter<Base,\ Char>\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03987\ \textcolor{preprocessor}{\ \ \ \ template\ <typename\ FormatContext>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03988\ \textcolor{preprocessor}{\ \ \ \ auto\ format(Type\ value,\ FormatContext\&\ ctx)\ const\ -\/>\ decltype(ctx.out())\ \{\ \(\backslash\)}}
\DoxyCodeLine{03989\ \textcolor{preprocessor}{\ \ \ \ \ \ return\ formatter<Base,\ Char>::format(value,\ ctx);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03990\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03991\ \textcolor{preprocessor}{\ \ \}}}
\DoxyCodeLine{03992\ }
\DoxyCodeLine{03993\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char},\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{03994\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char},\ \textcolor{keywordtype}{unsigned});}
\DoxyCodeLine{03995\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{short},\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{03996\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short},\ \textcolor{keywordtype}{unsigned});}
\DoxyCodeLine{03997\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{long},\ detail::long\_type);}
\DoxyCodeLine{03998\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\ detail::ulong\_type);}
\DoxyCodeLine{03999\ FMT\_FORMAT\_AS(Char*,\ \textcolor{keyword}{const}\ Char*);}
\DoxyCodeLine{04000\ FMT\_FORMAT\_AS(std::nullptr\_t,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*);}
\DoxyCodeLine{04001\ FMT\_FORMAT\_AS(\mbox{\hyperlink{structdetail_1_1std__string__view}{detail::std\_string\_view<Char>}},\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}});}
\DoxyCodeLine{04002\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{void}*,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*);}
\DoxyCodeLine{04003\ }
\DoxyCodeLine{04004\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Traits,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{04005\ \textcolor{keyword}{class\ }\mbox{\hyperlink{structformatter}{formatter}}<std::basic\_string<Char,\ Traits,\ Allocator>,\ Char>}
\DoxyCodeLine{04006\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structformatter}{formatter}}<basic\_string\_view<Char>,\ Char>\ \{\};}
\DoxyCodeLine{04007\ }
\DoxyCodeLine{04008\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{04009\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<Char[N],\ Char>\ :\ \mbox{\hyperlink{structformatter}{formatter}}<basic\_string\_view<Char>,\ Char>\ \{\};}
\DoxyCodeLine{04010\ }
\DoxyCodeLine{04018\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ ptr(T\ p)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{04019\ \ \ \textcolor{keyword}{static\_assert}(std::is\_pointer<T>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{04020\ \ \ \textcolor{keywordflow}{return}\ detail::bit\_cast<const\ void*>(p);}
\DoxyCodeLine{04021\ \}}
\DoxyCodeLine{04022\ }
\DoxyCodeLine{04031\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Enum>}
\DoxyCodeLine{04032\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ underlying(Enum\ e)\ \textcolor{keyword}{noexcept}\ -\/>\ underlying\_t<Enum>\ \{}
\DoxyCodeLine{04033\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}underlying\_t<Enum>\textcolor{keyword}{>}(e);}
\DoxyCodeLine{04034\ \}}
\DoxyCodeLine{04035\ }
\DoxyCodeLine{04036\ \textcolor{keyword}{namespace\ }enums\ \{}
\DoxyCodeLine{04037\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Enum,\ FMT\_ENABLE\_IF(std::is\_enum<Enum>::value)>}
\DoxyCodeLine{04038\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ format\_as(Enum\ e)\ \textcolor{keyword}{noexcept}\ -\/>\ underlying\_t<Enum>\ \{}
\DoxyCodeLine{04039\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}underlying\_t<Enum>\textcolor{keyword}{>}(e);}
\DoxyCodeLine{04040\ \}}
\DoxyCodeLine{04041\ \}\ \ \textcolor{comment}{//\ namespace\ enums}}
\DoxyCodeLine{04042\ }
\DoxyCodeLine{04043\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbytes}{bytes}}\ \{}
\DoxyCodeLine{04044\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{04045\ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ data\_;}
\DoxyCodeLine{04046\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbytes}{bytes}}>;}
\DoxyCodeLine{04047\ }
\DoxyCodeLine{04048\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{04049\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbytes}{bytes}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ data)\ :\ data\_(data)\ \{\}}
\DoxyCodeLine{04050\ \};}
\DoxyCodeLine{04051\ }
\DoxyCodeLine{04052\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbytes}{bytes}}>\ \{}
\DoxyCodeLine{04053\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{04054\ \ \ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<>}}\ specs\_;}
\DoxyCodeLine{04055\ }
\DoxyCodeLine{04056\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{04057\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{04058\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{04059\ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ specs\_,\ ctx,}
\DoxyCodeLine{04060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::string\_type);}
\DoxyCodeLine{04061\ \ \ \}}
\DoxyCodeLine{04062\ }
\DoxyCodeLine{04063\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{04064\ \ \ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{classbytes}{bytes}}\ b,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{04065\ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ specs\_;}
\DoxyCodeLine{04066\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs.width,}
\DoxyCodeLine{04067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs.width\_ref,\ ctx);}
\DoxyCodeLine{04068\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{04069\ \ \ \ \ \ \ \ \ specs.precision,\ specs.precision\_ref,\ ctx);}
\DoxyCodeLine{04070\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write\_bytes<char>(ctx.out(),\ b.data\_,\ specs);}
\DoxyCodeLine{04071\ \ \ \}}
\DoxyCodeLine{04072\ \};}
\DoxyCodeLine{04073\ }
\DoxyCodeLine{04074\ \textcolor{comment}{//\ group\_digits\_view\ is\ not\ derived\ from\ view\ because\ it\ copies\ the\ argument.}}
\DoxyCodeLine{04075\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view}}\ \{}
\DoxyCodeLine{04076\ \ \ T\ value;}
\DoxyCodeLine{04077\ \};}
\DoxyCodeLine{04078\ }
\DoxyCodeLine{04088\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ group\_digits(T\ value)\ -\/>\ \mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view<T>}}\ \{}
\DoxyCodeLine{04089\ \ \ \textcolor{keywordflow}{return}\ \{value\};}
\DoxyCodeLine{04090\ \}}
\DoxyCodeLine{04091\ }
\DoxyCodeLine{04092\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view}}<T>>\ :\ \mbox{\hyperlink{structformatter}{formatter}}<T>\ \{}
\DoxyCodeLine{04093\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{04094\ \ \ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<>}}\ specs\_;}
\DoxyCodeLine{04095\ }
\DoxyCodeLine{04096\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{04097\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{04098\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{04099\ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ specs\_,\ ctx,}
\DoxyCodeLine{04100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::int\_type);}
\DoxyCodeLine{04101\ \ \ \}}
\DoxyCodeLine{04102\ }
\DoxyCodeLine{04103\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{04104\ \ \ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view<T>}}\ t,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}}
\DoxyCodeLine{04105\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{04106\ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ specs\_;}
\DoxyCodeLine{04107\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs.width,}
\DoxyCodeLine{04108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs.width\_ref,\ ctx);}
\DoxyCodeLine{04109\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{04110\ \ \ \ \ \ \ \ \ specs.precision,\ specs.precision\_ref,\ ctx);}
\DoxyCodeLine{04111\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ detail::make\_write\_int\_arg(t.value,\ specs.sign);}
\DoxyCodeLine{04112\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write\_int(}
\DoxyCodeLine{04113\ \ \ \ \ \ \ \ \ ctx.out(),\ \textcolor{keyword}{static\_cast<}detail::uint64\_or\_128\_t<T>\textcolor{keyword}{>}(arg.abs\_value),}
\DoxyCodeLine{04114\ \ \ \ \ \ \ \ \ arg.prefix,\ specs,\ \mbox{\hyperlink{classdetail_1_1digit__grouping}{detail::digit\_grouping<char>}}(\textcolor{stringliteral}{"{}\(\backslash\)3"{}},\ \textcolor{stringliteral}{"{},"{}}));}
\DoxyCodeLine{04115\ \ \ \}}
\DoxyCodeLine{04116\ \};}
\DoxyCodeLine{04117\ }
\DoxyCodeLine{04118\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnested__view}{nested\_view}}\ \{}
\DoxyCodeLine{04119\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structformatter}{formatter<T,\ Char>}}*\ fmt;}
\DoxyCodeLine{04120\ \ \ \textcolor{keyword}{const}\ T*\ value;}
\DoxyCodeLine{04121\ \};}
\DoxyCodeLine{04122\ }
\DoxyCodeLine{04123\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{04124\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{structnested__view}{nested\_view}}<T,\ Char>,\ Char>\ \{}
\DoxyCodeLine{04125\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{04126\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{04127\ \ \ \ \ \textcolor{keywordflow}{return}\ ctx.begin();}
\DoxyCodeLine{04128\ \ \ \}}
\DoxyCodeLine{04129\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{04130\ \ \ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{structnested__view}{nested\_view<T,\ Char>}}\ view,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}}
\DoxyCodeLine{04131\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{04132\ \ \ \ \ \textcolor{keywordflow}{return}\ view.fmt-\/>format(*view.value,\ ctx);}
\DoxyCodeLine{04133\ \ \ \}}
\DoxyCodeLine{04134\ \};}
\DoxyCodeLine{04135\ }
\DoxyCodeLine{04136\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnested__formatter}{nested\_formatter}}\ \{}
\DoxyCodeLine{04137\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{04138\ \ \ \textcolor{keywordtype}{int}\ width\_;}
\DoxyCodeLine{04139\ \ \ \mbox{\hyperlink{structdetail_1_1fill__t}{detail::fill\_t}}\ fill\_;}
\DoxyCodeLine{04140\ \ \ align\_t\ align\_\ :\ 4;}
\DoxyCodeLine{04141\ \ \ \mbox{\hyperlink{structformatter}{formatter<T,\ Char>}}\ formatter\_;}
\DoxyCodeLine{04142\ }
\DoxyCodeLine{04143\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{04144\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structnested__formatter}{nested\_formatter}}()\ :\ width\_(0),\ align\_(align\_t::none)\ \{\}}
\DoxyCodeLine{04145\ }
\DoxyCodeLine{04146\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(\mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\&\ ctx)}
\DoxyCodeLine{04147\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.\mbox{\hyperlink{classbasic__format__parse__context_afb21ddaa0d32b5430f99eed530666ea9}{begin}}())\ \{}
\DoxyCodeLine{04148\ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<Char>}}();}
\DoxyCodeLine{04149\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ parse\_format\_specs(ctx.\mbox{\hyperlink{classbasic__format__parse__context_afb21ddaa0d32b5430f99eed530666ea9}{begin}}(),\ ctx.\mbox{\hyperlink{classbasic__format__parse__context_a6a0fc217fe680a1b23eada2a53870c41}{end}}(),\ specs,\ ctx,}
\DoxyCodeLine{04150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::none\_type);}
\DoxyCodeLine{04151\ \ \ \ \ width\_\ =\ specs.width;}
\DoxyCodeLine{04152\ \ \ \ \ fill\_\ =\ specs.fill;}
\DoxyCodeLine{04153\ \ \ \ \ align\_\ =\ specs.align;}
\DoxyCodeLine{04154\ \ \ \ \ ctx.\mbox{\hyperlink{classbasic__format__parse__context_ad18dcd3d0fbeb0174569b88da00c87f2}{advance\_to}}(it);}
\DoxyCodeLine{04155\ \ \ \ \ \textcolor{keywordflow}{return}\ formatter\_.parse(ctx);}
\DoxyCodeLine{04156\ \ \ \}}
\DoxyCodeLine{04157\ }
\DoxyCodeLine{04158\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext,\ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{04159\ \ \ \textcolor{keyword}{auto}\ write\_padded(FormatContext\&\ ctx,\ F\ write)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{04160\ \ \ \ \ \textcolor{keywordflow}{if}\ (width\_\ ==\ 0)\ \textcolor{keywordflow}{return}\ write(ctx.out());}
\DoxyCodeLine{04161\ \ \ \ \ \textcolor{keyword}{auto}\ buf\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}();}
\DoxyCodeLine{04162\ \ \ \ \ write(\mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}(buf));}
\DoxyCodeLine{04163\ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structformat__specs}{format\_specs}}();}
\DoxyCodeLine{04164\ \ \ \ \ specs.width\ =\ width\_;}
\DoxyCodeLine{04165\ \ \ \ \ specs.fill\ =\ fill\_;}
\DoxyCodeLine{04166\ \ \ \ \ specs.align\ =\ align\_;}
\DoxyCodeLine{04167\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write<Char>(}
\DoxyCodeLine{04168\ \ \ \ \ \ \ \ \ ctx.out(),\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(buf.data(),\ buf.size()),\ specs);}
\DoxyCodeLine{04169\ \ \ \}}
\DoxyCodeLine{04170\ }
\DoxyCodeLine{04171\ \ \ \textcolor{keyword}{auto}\ nested(\textcolor{keyword}{const}\ T\&\ value)\ \textcolor{keyword}{const}\ -\/>\ \mbox{\hyperlink{structnested__view}{nested\_view<T,\ Char>}}\ \{}
\DoxyCodeLine{04172\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structnested__view}{nested\_view<T,\ Char>}}\{\&formatter\_,\ \&value\};}
\DoxyCodeLine{04173\ \ \ \}}
\DoxyCodeLine{04174\ \};}
\DoxyCodeLine{04175\ }
\DoxyCodeLine{04183\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!std::is\_\textcolor{keywordtype}{int}egral<T>::value\ \&\&}
\DoxyCodeLine{04184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !detail::has\_format\_as<T>::value)>}
\DoxyCodeLine{04185\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ to\_string(\textcolor{keyword}{const}\ T\&\ value)\ -\/>\ std::string\ \{}
\DoxyCodeLine{04186\ \ \ \textcolor{keyword}{auto}\ buffer\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}();}
\DoxyCodeLine{04187\ \ \ detail::write<char>(\mbox{\hyperlink{classbasic__appender}{appender}}(buffer),\ value);}
\DoxyCodeLine{04188\ \ \ \textcolor{keywordflow}{return}\ \{buffer.\mbox{\hyperlink{classdetail_1_1buffer_aeb33e0a2d2be2bbca9e0236c148089c8}{data}}(),\ buffer.\mbox{\hyperlink{classdetail_1_1buffer_a8685285932360c284d19003fc4ba3edc}{size}}()\};}
\DoxyCodeLine{04189\ \}}
\DoxyCodeLine{04190\ }
\DoxyCodeLine{04191\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{04192\ FMT\_NODISCARD\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ to\_string(T\ value)\ -\/>\ std::string\ \{}
\DoxyCodeLine{04193\ \ \ \textcolor{comment}{//\ The\ buffer\ should\ be\ large\ enough\ to\ store\ the\ number\ including\ the\ sign}}
\DoxyCodeLine{04194\ \ \ \textcolor{comment}{//\ or\ "{}false"{}\ for\ bool.}}
\DoxyCodeLine{04195\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ max\_size\ =\ detail::digits10<T>()\ +\ 2;}
\DoxyCodeLine{04196\ \ \ \textcolor{keywordtype}{char}\ buffer[max\_size\ >\ 5\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(max\_size)\ :\ 5];}
\DoxyCodeLine{04197\ \ \ \textcolor{keywordtype}{char}*\ begin\ =\ buffer;}
\DoxyCodeLine{04198\ \ \ \textcolor{keywordflow}{return}\ std::string(begin,\ detail::write<char>(begin,\ value));}
\DoxyCodeLine{04199\ \}}
\DoxyCodeLine{04200\ }
\DoxyCodeLine{04201\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ SIZE>}
\DoxyCodeLine{04202\ FMT\_NODISCARD\ \textcolor{keyword}{auto}\ to\_string(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char,\ SIZE>}}\&\ buf)}
\DoxyCodeLine{04203\ \ \ \ \ -\/>\ std::basic\_string<Char>\ \{}
\DoxyCodeLine{04204\ \ \ \textcolor{keyword}{auto}\ size\ =\ buf.size();}
\DoxyCodeLine{04205\ \ \ detail::assume(size\ <\ std::basic\_string<Char>().max\_size());}
\DoxyCodeLine{04206\ \ \ \textcolor{keywordflow}{return}\ std::basic\_string<Char>(buf.data(),\ size);}
\DoxyCodeLine{04207\ \}}
\DoxyCodeLine{04208\ }
\DoxyCodeLine{04209\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!std::is\_\textcolor{keywordtype}{int}egral<T>::value\ \&\&}
\DoxyCodeLine{04210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::has\_format\_as<T>::value)>}
\DoxyCodeLine{04211\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ to\_string(\textcolor{keyword}{const}\ T\&\ value)\ -\/>\ std::string\ \{}
\DoxyCodeLine{04212\ \ \ \textcolor{keywordflow}{return}\ to\_string(format\_as(value));}
\DoxyCodeLine{04213\ \}}
\DoxyCodeLine{04214\ }
\DoxyCodeLine{04215\ FMT\_END\_EXPORT}
\DoxyCodeLine{04216\ }
\DoxyCodeLine{04217\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{04218\ }
\DoxyCodeLine{04219\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{04220\ \textcolor{keywordtype}{void}\ vformat\_to(buffer<Char>\&\ buf,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ fmt,}
\DoxyCodeLine{04221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ vformat\_args<Char>::type\ args,\ locale\_ref\ loc)\ \{}
\DoxyCodeLine{04222\ \ \ \textcolor{keyword}{auto}\ out\ =\ \mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}(buf);}
\DoxyCodeLine{04223\ \ \ \textcolor{keywordflow}{if}\ (fmt.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}()\ ==\ 2\ \&\&\ equal2(fmt.\mbox{\hyperlink{classbasic__string__view_a39cdfe061dc6d64a3adc230b62d8a026}{data}}(),\ \textcolor{stringliteral}{"{}\{\}"{}}))\ \{}
\DoxyCodeLine{04224\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ args.get(0);}
\DoxyCodeLine{04225\ \ \ \ \ \textcolor{keywordflow}{if}\ (!arg)\ report\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{04226\ \ \ \ \ arg.visit(default\_arg\_formatter<Char>\{out,\ args,\ loc\});}
\DoxyCodeLine{04227\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{04228\ \ \ \}}
\DoxyCodeLine{04229\ }
\DoxyCodeLine{04230\ \ \ \textcolor{keyword}{struct\ }format\_handler\ \{}
\DoxyCodeLine{04231\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\ parse\_context;}
\DoxyCodeLine{04232\ \ \ \ \ buffered\_context<Char>\ \mbox{\hyperlink{classcontext}{context}};}
\DoxyCodeLine{04233\ }
\DoxyCodeLine{04234\ \ \ \ \ format\_handler(\mbox{\hyperlink{classbasic__appender}{basic\_appender<Char>}}\ p\_out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str,}
\DoxyCodeLine{04235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<buffered\_context<Char>>\ p\_args,}
\DoxyCodeLine{04236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ p\_loc)}
\DoxyCodeLine{04237\ \ \ \ \ \ \ \ \ :\ parse\_context(str),\ \mbox{\hyperlink{classcontext}{context}}(p\_out,\ p\_args,\ p\_loc)\ \{\}}
\DoxyCodeLine{04238\ }
\DoxyCodeLine{04239\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_text(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)\ \{}
\DoxyCodeLine{04240\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ text\ =\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(begin,\ to\_unsigned(end\ -\/\ begin));}
\DoxyCodeLine{04241\ \ \ \ \ \ \ \mbox{\hyperlink{classcontext}{context}}.advance\_to(write<Char>(\mbox{\hyperlink{classcontext}{context}}.out(),\ text));}
\DoxyCodeLine{04242\ \ \ \ \ \}}
\DoxyCodeLine{04243\ }
\DoxyCodeLine{04244\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ on\_arg\_id()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{04245\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a152d3961cfbc244624a877d827fc1172}{next\_arg\_id}}();}
\DoxyCodeLine{04246\ \ \ \ \ \}}
\DoxyCodeLine{04247\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ on\_arg\_id(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{04248\ \ \ \ \ \ \ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a83f130644eeb162a932245c95447cf63}{check\_arg\_id}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{04249\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{04250\ \ \ \ \ \}}
\DoxyCodeLine{04251\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ on\_arg\_id(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \textcolor{keywordtype}{id})\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{04252\ \ \ \ \ \ \ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a83f130644eeb162a932245c95447cf63}{check\_arg\_id}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{04253\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ arg\_id\ =\ \mbox{\hyperlink{classcontext}{context}}.arg\_id(\textcolor{keywordtype}{id});}
\DoxyCodeLine{04254\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (arg\_id\ <\ 0)\ report\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{04255\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ arg\_id;}
\DoxyCodeLine{04256\ \ \ \ \ \}}
\DoxyCodeLine{04257\ }
\DoxyCodeLine{04258\ \ \ \ \ FMT\_INLINE\ \textcolor{keywordtype}{void}\ on\_replacement\_field(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*)\ \{}
\DoxyCodeLine{04259\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ get\_arg(\mbox{\hyperlink{classcontext}{context}},\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{04260\ \ \ \ \ \ \ \mbox{\hyperlink{classcontext}{context}}.advance\_to(arg.visit(default\_arg\_formatter<Char>\{}
\DoxyCodeLine{04261\ \ \ \ \ \ \ \ \ \ \ context.out(),\ context.args(),\ context.locale()\}));}
\DoxyCodeLine{04262\ \ \ \ \ \}}
\DoxyCodeLine{04263\ }
\DoxyCodeLine{04264\ \ \ \ \ \textcolor{keyword}{auto}\ on\_format\_specs(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)}
\DoxyCodeLine{04265\ \ \ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{const}\ Char*\ \{}
\DoxyCodeLine{04266\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ get\_arg(\mbox{\hyperlink{classcontext}{context}},\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{04267\ \ \ \ \ \ \ \textcolor{comment}{//\ Not\ using\ a\ visitor\ for\ custom\ types\ gives\ better\ codegen.}}
\DoxyCodeLine{04268\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (arg.format\_custom(begin,\ parse\_context,\ \mbox{\hyperlink{classcontext}{context}}))}
\DoxyCodeLine{04269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_afb21ddaa0d32b5430f99eed530666ea9}{begin}}();}
\DoxyCodeLine{04270\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<Char>}}();}
\DoxyCodeLine{04271\ \ \ \ \ \ \ begin\ =\ parse\_format\_specs(begin,\ end,\ specs,\ parse\_context,\ arg.type());}
\DoxyCodeLine{04272\ \ \ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(}
\DoxyCodeLine{04273\ \ \ \ \ \ \ \ \ \ \ specs.width,\ specs.width\_ref,\ \mbox{\hyperlink{classcontext}{context}});}
\DoxyCodeLine{04274\ \ \ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{04275\ \ \ \ \ \ \ \ \ \ \ specs.precision,\ specs.precision\_ref,\ \mbox{\hyperlink{classcontext}{context}});}
\DoxyCodeLine{04276\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{04277\ \ \ \ \ \ \ \ \ report\_error(\textcolor{stringliteral}{"{}missing\ '\}'\ in\ format\ string"{}});}
\DoxyCodeLine{04278\ \ \ \ \ \ \ \mbox{\hyperlink{classcontext}{context}}.advance\_to(arg.visit(}
\DoxyCodeLine{04279\ \ \ \ \ \ \ \ \ \ \ arg\_formatter<Char>\{context.out(),\ specs,\ context.locale()\}));}
\DoxyCodeLine{04280\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{04281\ \ \ \ \ \}}
\DoxyCodeLine{04282\ }
\DoxyCodeLine{04283\ \ \ \ \ FMT\_NORETURN\ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{\ report\_error(message);\ \}}
\DoxyCodeLine{04284\ \ \ \};}
\DoxyCodeLine{04285\ \ \ detail::parse\_format\_string<false>(fmt,\ format\_handler(out,\ fmt,\ args,\ loc));}
\DoxyCodeLine{04286\ \}}
\DoxyCodeLine{04287\ }
\DoxyCodeLine{04288\ FMT\_BEGIN\_EXPORT}
\DoxyCodeLine{04289\ }
\DoxyCodeLine{04290\ \textcolor{preprocessor}{\#ifndef\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{04291\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keywordtype}{void}\ vformat\_to(buffer<char>\&,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}},}
\DoxyCodeLine{04292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ vformat\_args<>::type,}
\DoxyCodeLine{04293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref);}
\DoxyCodeLine{04294\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ thousands\_sep\_impl<char>(locale\_ref)}
\DoxyCodeLine{04295\ \ \ \ \ -\/>\ thousands\_sep\_result<char>;}
\DoxyCodeLine{04296\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ thousands\_sep\_impl<wchar\_t>(locale\_ref)}
\DoxyCodeLine{04297\ \ \ \ \ -\/>\ thousands\_sep\_result<wchar\_t>;}
\DoxyCodeLine{04298\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ decimal\_point\_impl(locale\_ref)\ -\/>\ char;}
\DoxyCodeLine{04299\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ decimal\_point\_impl(locale\_ref)\ -\/>\ wchar\_t;}
\DoxyCodeLine{04300\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{04301\ }
\DoxyCodeLine{04302\ FMT\_END\_EXPORT}
\DoxyCodeLine{04303\ }
\DoxyCodeLine{04304\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ type\ TYPE>}
\DoxyCodeLine{04305\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{04306\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ native\_formatter<T,\ Char,\ TYPE>::format(}
\DoxyCodeLine{04307\ \ \ \ \ \textcolor{keyword}{const}\ T\&\ val,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{04308\ \ \ \textcolor{keywordflow}{if}\ (specs\_.width\_ref.kind\ ==\ arg\_id\_kind::none\ \&\&}
\DoxyCodeLine{04309\ \ \ \ \ \ \ specs\_.precision\_ref.kind\ ==\ arg\_id\_kind::none)\ \{}
\DoxyCodeLine{04310\ \ \ \ \ \textcolor{keywordflow}{return}\ write<Char>(ctx.out(),\ val,\ specs\_,\ ctx.locale());}
\DoxyCodeLine{04311\ \ \ \}}
\DoxyCodeLine{04312\ \ \ \textcolor{keyword}{auto}\ specs\ =\ specs\_;}
\DoxyCodeLine{04313\ \ \ handle\_dynamic\_spec<width\_checker>(specs.width,\ specs.width\_ref,\ ctx);}
\DoxyCodeLine{04314\ \ \ handle\_dynamic\_spec<precision\_checker>(specs.precision,\ specs.precision\_ref,}
\DoxyCodeLine{04315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx);}
\DoxyCodeLine{04316\ \ \ \textcolor{keywordflow}{return}\ write<Char>(ctx.out(),\ val,\ specs,\ ctx.locale());}
\DoxyCodeLine{04317\ \}}
\DoxyCodeLine{04318\ }
\DoxyCodeLine{04319\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{04320\ }
\DoxyCodeLine{04321\ FMT\_BEGIN\_EXPORT}
\DoxyCodeLine{04322\ }
\DoxyCodeLine{04323\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{04324\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter<detail::float128,\ Char>}}}
\DoxyCodeLine{04325\ \ \ \ \ :\ \mbox{\hyperlink{structdetail_1_1native__formatter}{detail::native\_formatter}}<detail::float128,\ Char,}
\DoxyCodeLine{04326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::float\_type>\ \{\};}
\DoxyCodeLine{04327\ }
\DoxyCodeLine{04328\ \textcolor{preprocessor}{\#if\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{04329\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }literals\ \{}
\DoxyCodeLine{04338\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_NONTYPE\_TEMPLATE\_ARGS}}
\DoxyCodeLine{04339\ \textcolor{keyword}{template}\ <detail\_exported::fixed\_\textcolor{keywordtype}{string}\ Str>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\_a()\ \{}
\DoxyCodeLine{04340\ \ \ \textcolor{keyword}{using\ }char\_t\ =\ remove\_cvref\_t<\textcolor{keyword}{decltype}(Str.data[0])>;}
\DoxyCodeLine{04341\ \ \ \textcolor{keywordflow}{return}\ detail::udl\_arg<char\_t,\ \textcolor{keyword}{sizeof}(Str.data)\ /\ \textcolor{keyword}{sizeof}(char\_t),\ Str>();}
\DoxyCodeLine{04342\ \}}
\DoxyCodeLine{04343\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{04344\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\_a(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,\ \textcolor{keywordtype}{size\_t})\ -\/>\ detail::udl\_arg<char>\ \{}
\DoxyCodeLine{04345\ \ \ \textcolor{keywordflow}{return}\ \{s\};}
\DoxyCodeLine{04346\ \}}
\DoxyCodeLine{04347\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{04348\ \}\ \ \textcolor{comment}{//\ namespace\ literals}}
\DoxyCodeLine{04349\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{04350\ }
\DoxyCodeLine{04351\ FMT\_API\ \textcolor{keyword}{auto}\ vformat(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ fmt,\ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)\ -\/>\ std::string;}
\DoxyCodeLine{04352\ }
\DoxyCodeLine{04362\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{04363\ FMT\_NODISCARD\ FMT\_INLINE\ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)}
\DoxyCodeLine{04364\ \ \ \ \ -\/>\ std::string\ \{}
\DoxyCodeLine{04365\ \ \ \textcolor{keywordflow}{return}\ vformat(fmt,\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{04366\ \}}
\DoxyCodeLine{04367\ }
\DoxyCodeLine{04368\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ FMT\_ENABLE\_IF(detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04369\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ vformat(\textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ fmt,\ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)}
\DoxyCodeLine{04370\ \ \ \ \ -\/>\ std::string\ \{}
\DoxyCodeLine{04371\ \ \ \textcolor{keywordflow}{return}\ detail::vformat(loc,\ fmt,\ args);}
\DoxyCodeLine{04372\ \}}
\DoxyCodeLine{04373\ }
\DoxyCodeLine{04374\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}...\ T,}
\DoxyCodeLine{04375\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04376\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)}
\DoxyCodeLine{04377\ \ \ \ \ -\/>\ std::string\ \{}
\DoxyCodeLine{04378\ \ \ \textcolor{keywordflow}{return}\ fmt::vformat(loc,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(fmt),\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{04379\ \}}
\DoxyCodeLine{04380\ }
\DoxyCodeLine{04381\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Locale,}
\DoxyCodeLine{04382\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structdetail_1_1is__output__iterator}{detail::is\_output\_iterator<OutputIt,\ char>::value}}\&\&}
\DoxyCodeLine{04383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04384\ \textcolor{keyword}{auto}\ vformat\_to(OutputIt\ out,\ \textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ fmt,}
\DoxyCodeLine{04385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{04386\ \ \ \textcolor{keyword}{using\ }detail::get\_buffer;}
\DoxyCodeLine{04387\ \ \ \textcolor{keyword}{auto}\&\&\ buf\ =\ get\_buffer<char>(out);}
\DoxyCodeLine{04388\ \ \ detail::vformat\_to(buf,\ fmt,\ args,\ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}(loc));}
\DoxyCodeLine{04389\ \ \ \textcolor{keywordflow}{return}\ detail::get\_iterator(buf,\ out);}
\DoxyCodeLine{04390\ \}}
\DoxyCodeLine{04391\ }
\DoxyCodeLine{04392\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}...\ T,}
\DoxyCodeLine{04393\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structdetail_1_1is__output__iterator}{detail::is\_output\_iterator<OutputIt,\ char>::value}}\&\&}
\DoxyCodeLine{04394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04395\ FMT\_INLINE\ \textcolor{keyword}{auto}\ format\_to(OutputIt\ out,\ \textcolor{keyword}{const}\ Locale\&\ loc,}
\DoxyCodeLine{04396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{04397\ \ \ \textcolor{keywordflow}{return}\ vformat\_to(out,\ loc,\ fmt,\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{04398\ \}}
\DoxyCodeLine{04399\ }
\DoxyCodeLine{04400\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}...\ T,}
\DoxyCodeLine{04401\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04402\ FMT\_NODISCARD\ FMT\_INLINE\ \textcolor{keyword}{auto}\ formatted\_size(\textcolor{keyword}{const}\ Locale\&\ loc,}
\DoxyCodeLine{04403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,}
\DoxyCodeLine{04404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ T\&\&...\ args)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{04405\ \ \ \textcolor{keyword}{auto}\ buf\ =\ \mbox{\hyperlink{classdetail_1_1counting__buffer}{detail::counting\_buffer<>}}();}
\DoxyCodeLine{04406\ \ \ detail::vformat\_to<char>(buf,\ fmt,\ fmt::make\_format\_args(args...),}
\DoxyCodeLine{04407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}(loc));}
\DoxyCodeLine{04408\ \ \ \textcolor{keywordflow}{return}\ buf.count();}
\DoxyCodeLine{04409\ \}}
\DoxyCodeLine{04410\ }
\DoxyCodeLine{04411\ FMT\_END\_EXPORT}
\DoxyCodeLine{04412\ }
\DoxyCodeLine{04413\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{04414\ }
\DoxyCodeLine{04415\ \textcolor{preprocessor}{\#ifdef\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{04416\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FUNC\ inline}}
\DoxyCodeLine{04417\ \textcolor{preprocessor}{\#\ \ include\ "{}format-\/inl.h"{}}}
\DoxyCodeLine{04418\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{04419\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FUNC}}
\DoxyCodeLine{04420\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04421\ }
\DoxyCodeLine{04422\ \textcolor{comment}{//\ Restore\ \_LIBCPP\_REMOVE\_TRANSITIVE\_INCLUDES.}}
\DoxyCodeLine{04423\ \textcolor{preprocessor}{\#ifdef\ FMT\_REMOVE\_TRANSITIVE\_INCLUDES}}
\DoxyCodeLine{04424\ \textcolor{preprocessor}{\#\ \ undef\ \_LIBCPP\_REMOVE\_TRANSITIVE\_INCLUDES}}
\DoxyCodeLine{04425\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04426\ }
\DoxyCodeLine{04427\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_FORMAT\_H\_}}

\end{DoxyCode}
